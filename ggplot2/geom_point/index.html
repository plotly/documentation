<!DOCTYPE html>
<html>

<head>
  <!-- This page was last built at 2021-09-01 22:04 -->

  <meta charset="utf-8" />

  <link rel="canonical" href="https://plotly.com/ggplot2/geom_point/" />

  <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
  <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    crossorigin="anonymous">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

  
  
  <!-- code highlighting -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <!-- Mathjax -->
  <script type='text/javascript'
    src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>

  

  
  <!-- Plotly.js hardcoded to 1.x due to Plotly.plot() -->
  <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
  <script src="/all_static/r_files/r_dependencies.js"></script>
  
  
  
  <!--
      //// Stylesheets
      -->

  <!-- Fonts -->
  <link
    href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap"
    rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Main Stylesheets -->
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/main.css?version=../all_sta">
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/improve.css?version=../all_sta">

  <!-- LOCAL DEV STYLESHEET -->
  <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

  <!-- Icon -->
  <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

  <!-- Google Tags-->
  <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



  <!-- META TAGS -->
  <!-- SEO Tags - title, meta_description -->
<title>geom_point |  ggplot2  | Plotly  </title>
<meta name="description" content="How to make a scatter chart in ggplot2. Examples of scatter charts and line charts with fits and regressions.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="geom_point"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/gg-themes.jpg">
    <meta property="og:description" content="How to make a scatter chart in ggplot2. Examples of scatter charts and line charts with fits and regressions."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="geom_point"/>
    <meta name="twitter:url" content="https://plotly.com/ggplot2/geom_point/"/>
    <meta name="twitter:description" content="How to make a scatter chart in ggplot2. Examples of scatter charts and line charts with fits and regressions."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/gg-themes.jpg">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>

<body data-spy="scroll" data-target=".watch" style="position:relative;">
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


  <!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

  <div class="header-container">
    <div id="campaign-zero-banner">
        ‚úäüèø Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july" style="color:deeppink">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/ggplot2">ggplot2</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/ggplot2/#basic-charts">Basic</a>

                        

                        
                        &gt;<a href="#">geom_point</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li><a style="font-family: verdana, tahoma, open sans, sans-serif; font-size: 14px; font-weight: bold;" href="https://plotly.com/get-pricing/">PRICING</a></li>
                        <li><a href="https://plotly.com/get-demo" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">GET DEMO</a></li>
                            <li><a href="http://plotly.cloud" data-mode="1" target="_blank" id="teal-background" class="typeform-share button --enterprise-quaternary"
                                style="font-family: verdana, tahoma, open sans, sans-serif;">DASH CLOUD</a></li>
                            
<iframe src="https://ghbtns.com/github-btn.html?user=ropensci&repo=plotly&type=star&count=true&size=large" style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>
                   
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


  <main class="--page page--single --index">

    <div class="--wrap">
      <!-- aside - Main Sidebar-->
      <aside class="--sidebar-container">
        <div class="--sidebar-fixed reference" data-spy="affix" id="where">
          
          <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
            <input id="modal-input" style="border-radius: 5px; width: 100%;" type="text" placeholder="   Search..."
              readonly />
          </button>
          
          <header class="--sidebar-header">On This Page</header>
          <nav class="--sidebar-body watch" id="where">
            <ul class="--sidebar-list"></ul>
          </nav>
        </div>
      </aside>
      <!-- Main-->
      <section class="--page-body --tutorial-index --base">
        <header class="--welcome">
          <div class="--welcome-body">
            <!--div.--wrap-inner-->
            <div class="--title">
              <div class="--body">
                <div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                
                <a id="forklink" href= "https://github.com/plotly/plotly.r-docs/edit/master/ggplot2/2016-11-29-geom_point.Rmd" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>
                
                <h1>
                  geom_point
                  
                  in 
                  ggplot2
                   
                  
                </h1>
                <p>How to make a scatter chart in ggplot2. Examples of scatter charts and line charts with fits and regressions. </p>
                <br>  
                
                



<div class="db-client-lib">
  <label>
    This page in another language
  </label>
  <div class="list-lib-wrap">
    <div class="list-lib">
      
      
        <a href=" //ggplot2/layers/geoms/geom_point/" class="list-lib-item ">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            
            
          </p>
        </a>
        
      
      <a href=" /ggplot2/geom_point/" class="current list-lib-item ggplot2">
        
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            ggplot2
            
          </p>
        </a>
        
    </div>
  </div>
</div>

                






<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/r/is-plotly-free/">free and open-source</a> graphing library for R. We recommend you read our <a href="/r/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/r/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/r/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>


              </div>
            </div>
          </div>
        </header>

        <!-- Start Plotly Basics Section -->
        <section class="tutorial-content">

          






          <h3>Scatter Chart</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">set.seed</span><span class="p">(</span><span class="m">955</span><span class="p">)</span><span class="w">
</span><span class="c1"># Make some noisily increasing data</span><span class="w">
</span><span class="n">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">cond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">),</span><span class="w"> </span><span class="n">each</span><span class="o">=</span><span class="m">10</span><span class="p">),</span><span class="w">
                  </span><span class="n">xvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">),</span><span class="w">
                  </span><span class="n">yvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">))</span><span class="w">

</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">xvar</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">yvar</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">geom_point</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w">      </span><span class="c1"># Use hollow circles</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-a8f75d06592efb60ae32" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-a8f75d06592efb60ae32">{"x":{"data":[{"x":[-4.2523540913161,1.70231797080429,4.32305375264429,1.78062840828558,11.5373483707262,6.6721303879751,0.00429484839917471,9.97140300744114,9.00745603205534,11.7669979720019,8.84021564536606,5.97409378324296,15.0348288493311,10.985009895119,13.5432219611818,11.4357894932451,16.9770633883129,17.2200126978937,17.7933592179153,19.3199091632599],"y":[3.47315727519937,0.00593961194215842,-0.0942524273841228,2.07280827811164,1.21544035750516,3.608111411445,7.52921028893478,6.15615435544134,8.93523814691022,8.92809218735164,13.2024109715517,17.6448907941774,10.485402010084,10.1380430658948,18.6818761141095,19.1434718052458,18.8325049552779,18.9398188644009,19.7185877614054,19.6478998627784],"text":["xvar: -4.252354091<br />yvar:  3.473157275","xvar:  1.702317971<br />yvar:  0.005939612","xvar:  4.323053753<br />yvar: -0.094252427","xvar:  1.780628408<br />yvar:  2.072808278","xvar: 11.537348371<br />yvar:  1.215440358","xvar:  6.672130388<br />yvar:  3.608111411","xvar:  0.004294848<br />yvar:  7.529210289","xvar:  9.971403007<br />yvar:  6.156154355","xvar:  9.007456032<br />yvar:  8.935238147","xvar: 11.766997972<br />yvar:  8.928092187","xvar:  8.840215645<br />yvar: 13.202410972","xvar:  5.974093783<br />yvar: 17.644890794","xvar: 15.034828849<br />yvar: 10.485402010","xvar: 10.985009895<br />yvar: 10.138043066","xvar: 13.543221961<br />yvar: 18.681876114","xvar: 11.435789493<br />yvar: 19.143471805","xvar: 16.977063388<br />yvar: 18.832504955","xvar: 17.220012698<br />yvar: 18.939818864","xvar: 17.793359218<br />yvar: 19.718587761","xvar: 19.319909163<br />yvar: 19.647899863"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle-open","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.4309672540449,20.4985223259887],"tickmode":"array","ticktext":["-5","0","5","10","15","20"],"tickvals":[-5,0,5,10,15,20],"categoryorder":"array","categoryarray":["-5","0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"xvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.0848944368236,20.7092297708449],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"yvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de44bb9229":{"x":{},"y":{},"type":"scatter"}},"cur_data":"36de44bb9229","visdat":{"36de44bb9229":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Liner Regression w/ smooth</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">set.seed</span><span class="p">(</span><span class="m">955</span><span class="p">)</span><span class="w">
</span><span class="c1"># Make some noisily increasing data</span><span class="w">
</span><span class="n">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">cond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">),</span><span class="w"> </span><span class="n">each</span><span class="o">=</span><span class="m">10</span><span class="p">),</span><span class="w">
                  </span><span class="n">xvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">),</span><span class="w">
                  </span><span class="n">yvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">))</span><span class="w">

</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">xvar</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">yvar</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">geom_point</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">    </span><span class="c1"># Use hollow circles</span><span class="w">
    </span><span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">lm</span><span class="p">)</span><span class="w">   </span><span class="c1"># Add linear regression line</span><span class="w">


</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-47ac64fa88b394a29257" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-47ac64fa88b394a29257">{"x":{"data":[{"x":[-4.2523540913161,1.70231797080429,4.32305375264429,1.78062840828558,11.5373483707262,6.6721303879751,0.00429484839917471,9.97140300744114,9.00745603205534,11.7669979720019,8.84021564536606,5.97409378324296,15.0348288493311,10.985009895119,13.5432219611818,11.4357894932451,16.9770633883129,17.2200126978937,17.7933592179153,19.3199091632599],"y":[3.47315727519937,0.00593961194215842,-0.0942524273841228,2.07280827811164,1.21544035750516,3.608111411445,7.52921028893478,6.15615435544134,8.93523814691022,8.92809218735164,13.2024109715517,17.6448907941774,10.485402010084,10.1380430658948,18.6818761141095,19.1434718052458,18.8325049552779,18.9398188644009,19.7185877614054,19.6478998627784],"text":["xvar: -4.252354091<br />yvar:  3.473157275","xvar:  1.702317971<br />yvar:  0.005939612","xvar:  4.323053753<br />yvar: -0.094252427","xvar:  1.780628408<br />yvar:  2.072808278","xvar: 11.537348371<br />yvar:  1.215440358","xvar:  6.672130388<br />yvar:  3.608111411","xvar:  0.004294848<br />yvar:  7.529210289","xvar:  9.971403007<br />yvar:  6.156154355","xvar:  9.007456032<br />yvar:  8.935238147","xvar: 11.766997972<br />yvar:  8.928092187","xvar:  8.840215645<br />yvar: 13.202410972","xvar:  5.974093783<br />yvar: 17.644890794","xvar: 15.034828849<br />yvar: 10.485402010","xvar: 10.985009895<br />yvar: 10.138043066","xvar: 13.543221961<br />yvar: 18.681876114","xvar: 11.435789493<br />yvar: 19.143471805","xvar: 16.977063388<br />yvar: 18.832504955","xvar: 17.220012698<br />yvar: 18.939818864","xvar: 17.793359218<br />yvar: 19.718587761","xvar: 19.319909163<br />yvar: 19.647899863"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle-open","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-4.2523540913161,-3.95397101214425,-3.6555879329724,-3.35720485380056,-3.05882177462871,-2.76043869545686,-2.46205561628501,-2.16367253711316,-1.86528945794132,-1.56690637876947,-1.26852329959762,-0.970140220425773,-0.671757141253925,-0.373374062082077,-0.0749909829102293,0.223392096261618,0.521775175433466,0.820158254605314,1.11854133377716,1.41692441294901,1.71530749212086,2.0136905712927,2.31207365046455,2.6104567296364,2.90883980880825,3.2072228879801,3.50560596715194,3.80398904632379,4.10237212549564,4.40075520466749,4.69913828383933,4.99752136301118,5.29590444218303,5.59428752135488,5.89267060052673,6.19105367969857,6.48943675887042,6.78781983804227,7.08620291721412,7.38458599638596,7.68296907555781,7.98135215472966,8.27973523390151,8.57811831307336,8.8765013922452,9.17488447141705,9.4732675505889,9.77165062976075,10.0700337089326,10.3684167881044,10.6667998672763,10.9651829464481,11.26356602562,11.5619491047918,11.8603321839637,12.1587152631355,12.4570983423074,12.7554814214792,13.0538645006511,13.3522475798229,13.6506306589948,13.9490137381666,14.2473968173385,14.5457798965103,14.8441629756822,15.142546054854,15.4409291340259,15.7393122131977,16.0376952923695,16.3360783715414,16.6344614507132,16.9328445298851,17.2312276090569,17.5296106882288,17.8279937674006,18.1263768465725,18.4247599257443,18.7231430049162,19.021526084088,19.3199091632599],"y":[-0.672000863282888,-0.431167757473637,-0.190334651664385,0.0504984541448663,0.291331559954118,0.532164665763369,0.77299777157262,1.01383087738187,1.25466398319112,1.49549708900037,1.73633019480963,1.97716330061888,2.21799640642813,2.45882951223738,2.69966261804663,2.94049572385588,3.18132882966513,3.42216193547439,3.66299504128364,3.90382814709289,4.14466125290214,4.38549435871139,4.62632746452064,4.86716057032989,5.10799367613914,5.34882678194839,5.58965988775765,5.8304929935669,6.07132609937615,6.3121592051854,6.55299231099465,6.7938254168039,7.03465852261315,7.27549162842241,7.51632473423166,7.75715784004091,7.99799094585016,8.23882405165941,8.47965715746866,8.72049026327791,8.96132336908716,9.20215647489642,9.44298958070567,9.68382268651492,9.92465579232417,10.1654888981334,10.4063220039427,10.6471551097519,10.8879882155612,11.1288213213704,11.3696544271797,11.6104875329889,11.8513206387982,12.0921537446074,12.3329868504167,12.5738199562259,12.8146530620352,13.0554861678444,13.2963192736537,13.5371523794629,13.7779854852722,14.0188185910814,14.2596516968907,14.5004848026999,14.7413179085092,14.9821510143185,15.2229841201277,15.4638172259369,15.7046503317462,15.9454834375555,16.1863165433647,16.427149649174,16.6679827549832,16.9088158607925,17.1496489666017,17.390482072411,17.6313151782202,17.8721482840295,18.1129813898387,18.353814495648],"text":["xvar: -4.25235409<br />yvar: -0.67200086","xvar: -3.95397101<br />yvar: -0.43116776","xvar: -3.65558793<br />yvar: -0.19033465","xvar: -3.35720485<br />yvar:  0.05049845","xvar: -3.05882177<br />yvar:  0.29133156","xvar: -2.76043870<br />yvar:  0.53216467","xvar: -2.46205562<br />yvar:  0.77299777","xvar: -2.16367254<br />yvar:  1.01383088","xvar: -1.86528946<br />yvar:  1.25466398","xvar: -1.56690638<br />yvar:  1.49549709","xvar: -1.26852330<br />yvar:  1.73633019","xvar: -0.97014022<br />yvar:  1.97716330","xvar: -0.67175714<br />yvar:  2.21799641","xvar: -0.37337406<br />yvar:  2.45882951","xvar: -0.07499098<br />yvar:  2.69966262","xvar:  0.22339210<br />yvar:  2.94049572","xvar:  0.52177518<br />yvar:  3.18132883","xvar:  0.82015825<br />yvar:  3.42216194","xvar:  1.11854133<br />yvar:  3.66299504","xvar:  1.41692441<br />yvar:  3.90382815","xvar:  1.71530749<br />yvar:  4.14466125","xvar:  2.01369057<br />yvar:  4.38549436","xvar:  2.31207365<br />yvar:  4.62632746","xvar:  2.61045673<br />yvar:  4.86716057","xvar:  2.90883981<br />yvar:  5.10799368","xvar:  3.20722289<br />yvar:  5.34882678","xvar:  3.50560597<br />yvar:  5.58965989","xvar:  3.80398905<br />yvar:  5.83049299","xvar:  4.10237213<br />yvar:  6.07132610","xvar:  4.40075520<br />yvar:  6.31215921","xvar:  4.69913828<br />yvar:  6.55299231","xvar:  4.99752136<br />yvar:  6.79382542","xvar:  5.29590444<br />yvar:  7.03465852","xvar:  5.59428752<br />yvar:  7.27549163","xvar:  5.89267060<br />yvar:  7.51632473","xvar:  6.19105368<br />yvar:  7.75715784","xvar:  6.48943676<br />yvar:  7.99799095","xvar:  6.78781984<br />yvar:  8.23882405","xvar:  7.08620292<br />yvar:  8.47965716","xvar:  7.38458600<br />yvar:  8.72049026","xvar:  7.68296908<br />yvar:  8.96132337","xvar:  7.98135215<br />yvar:  9.20215647","xvar:  8.27973523<br />yvar:  9.44298958","xvar:  8.57811831<br />yvar:  9.68382269","xvar:  8.87650139<br />yvar:  9.92465579","xvar:  9.17488447<br />yvar: 10.16548890","xvar:  9.47326755<br />yvar: 10.40632200","xvar:  9.77165063<br />yvar: 10.64715511","xvar: 10.07003371<br />yvar: 10.88798822","xvar: 10.36841679<br />yvar: 11.12882132","xvar: 10.66679987<br />yvar: 11.36965443","xvar: 10.96518295<br />yvar: 11.61048753","xvar: 11.26356603<br />yvar: 11.85132064","xvar: 11.56194910<br />yvar: 12.09215374","xvar: 11.86033218<br />yvar: 12.33298685","xvar: 12.15871526<br />yvar: 12.57381996","xvar: 12.45709834<br />yvar: 12.81465306","xvar: 12.75548142<br />yvar: 13.05548617","xvar: 13.05386450<br />yvar: 13.29631927","xvar: 13.35224758<br />yvar: 13.53715238","xvar: 13.65063066<br />yvar: 13.77798549","xvar: 13.94901374<br />yvar: 14.01881859","xvar: 14.24739682<br />yvar: 14.25965170","xvar: 14.54577990<br />yvar: 14.50048480","xvar: 14.84416298<br />yvar: 14.74131791","xvar: 15.14254605<br />yvar: 14.98215101","xvar: 15.44092913<br />yvar: 15.22298412","xvar: 15.73931221<br />yvar: 15.46381723","xvar: 16.03769529<br />yvar: 15.70465033","xvar: 16.33607837<br />yvar: 15.94548344","xvar: 16.63446145<br />yvar: 16.18631654","xvar: 16.93284453<br />yvar: 16.42714965","xvar: 17.23122761<br />yvar: 16.66798275","xvar: 17.52961069<br />yvar: 16.90881586","xvar: 17.82799377<br />yvar: 17.14964897","xvar: 18.12637685<br />yvar: 17.39048207","xvar: 18.42475993<br />yvar: 17.63131518","xvar: 18.72314300<br />yvar: 17.87214828","xvar: 19.02152608<br />yvar: 18.11298139","xvar: 19.31990916<br />yvar: 18.35381450"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-4.2523540913161,-3.95397101214425,-3.6555879329724,-3.35720485380056,-3.05882177462871,-2.76043869545686,-2.46205561628501,-2.16367253711316,-1.86528945794132,-1.56690637876947,-1.26852329959762,-0.970140220425773,-0.671757141253925,-0.373374062082077,-0.0749909829102293,0.223392096261618,0.521775175433466,0.820158254605314,1.11854133377716,1.41692441294901,1.71530749212086,2.0136905712927,2.31207365046455,2.6104567296364,2.90883980880825,3.2072228879801,3.50560596715194,3.80398904632379,4.10237212549564,4.40075520466749,4.69913828383933,4.99752136301118,5.29590444218303,5.59428752135488,5.89267060052673,6.19105367969857,6.48943675887042,6.78781983804227,7.08620291721412,7.38458599638596,7.68296907555781,7.98135215472966,8.27973523390151,8.57811831307336,8.8765013922452,9.17488447141705,9.4732675505889,9.77165062976075,10.0700337089326,10.3684167881044,10.6667998672763,10.9651829464481,11.26356602562,11.5619491047918,11.8603321839637,12.1587152631355,12.4570983423074,12.7554814214792,13.0538645006511,13.3522475798229,13.6506306589948,13.9490137381666,14.2473968173385,14.5457798965103,14.8441629756822,15.142546054854,15.4409291340259,15.7393122131977,16.0376952923695,16.3360783715414,16.6344614507132,16.9328445298851,17.2312276090569,17.5296106882288,17.8279937674006,18.1263768465725,18.4247599257443,18.7231430049162,19.021526084088,19.3199091632599,19.3199091632599,19.3199091632599,19.021526084088,18.7231430049162,18.4247599257443,18.1263768465725,17.8279937674006,17.5296106882288,17.2312276090569,16.9328445298851,16.6344614507132,16.3360783715414,16.0376952923695,15.7393122131977,15.4409291340259,15.142546054854,14.8441629756822,14.5457798965103,14.2473968173385,13.9490137381666,13.6506306589948,13.3522475798229,13.0538645006511,12.7554814214792,12.4570983423074,12.1587152631355,11.8603321839637,11.5619491047918,11.26356602562,10.9651829464481,10.6667998672763,10.3684167881044,10.0700337089326,9.77165062976075,9.4732675505889,9.17488447141705,8.8765013922452,8.57811831307336,8.27973523390151,7.98135215472966,7.68296907555781,7.38458599638596,7.08620291721412,6.78781983804227,6.48943675887042,6.19105367969857,5.89267060052673,5.59428752135488,5.29590444218303,4.99752136301118,4.69913828383933,4.40075520466749,4.10237212549564,3.80398904632379,3.50560596715194,3.2072228879801,2.90883980880825,2.6104567296364,2.31207365046455,2.0136905712927,1.71530749212086,1.41692441294901,1.11854133377716,0.820158254605314,0.521775175433466,0.223392096261618,-0.0749909829102293,-0.373374062082077,-0.671757141253925,-0.970140220425773,-1.26852329959762,-1.56690637876947,-1.86528945794132,-2.16367253711316,-2.46205561628501,-2.76043869545686,-3.05882177462871,-3.35720485380056,-3.6555879329724,-3.95397101214425,-4.2523540913161,-4.2523540913161],"y":[-6.63918868724982,-6.29138518931983,-5.94400781129534,-5.59708067009325,-5.25062962346566,-4.90468241778255,-4.5592688495296,-4.21442094177421,-3.8701731369353,-3.52656250726801,-3.18362898453789,-2.84141561040347,-2.49996880904152,-2.15933868352408,-1.81957933737384,-1.48074922256493,-1.14291151497336,-0.806134517883145,-0.470492093579774,-0.136064122264755,0.197063013557258,0.528795922500587,0.859033680676361,1.18766729855435,1.51457918882765,1.83964264948574,2.16272138075697,2.48366905984567,2.8023290034424,3.11853395471436,3.43210603863578,3.74285693665228,4.05058833810203,4.35509273056159,4.65615459305231,4.95355205325668,5.24705906079466,5.53644811147846,5.82149353096792,6.10197528990786,6.37768327735543,6.64842190788032,6.91401488504913,7.17430989692845,7.42918298576947,7.6785423219604,7.92233112743923,8.16052953807958,8.39315526520835,8.62026300553115,8.84194264473781,9.05831638991224,9.26953503783513,9.47577363222777,9.67722677975888,9.87410388399283,10.0666245240145,10.2550141579491,10.4395002790432,10.6203091003244,10.7976627981335,10.9717773079315,11.1428606387196,11.3111116547758,11.4767192638925,11.6398619482,11.8007075752112,11.9594134313371,12.1161264264818,12.2709834254406,12.4241116689941,12.5756292543463,12.7256456506582,12.8742622307325,13.0215728044104,13.1676641429706,13.3126164868454,13.4565040313874,13.5993953873095,13.7413540138775,13.7413540138775,22.9662749774184,22.6265673923679,22.2877925366715,21.950013869595,21.6133000018513,21.277725128793,20.9433694908524,20.6103198593082,20.2786700440016,19.9485214177353,19.6199834496703,19.2931742370106,18.9682210205368,18.6452606650442,18.3244400804369,18.0059165531259,17.6898579506241,17.3764427550618,17.0658598742314,16.7583081724109,16.4539956586015,16.1531382682641,15.8559581777397,15.5626816000558,15.273536028459,14.9887469210745,14.7085338569871,14.4331062397612,14.1626586760656,13.8973662096215,13.6373796372097,13.382821165914,13.1337806814243,12.8903128804461,12.6524354743064,12.4201285988789,12.1933354761014,11.9719642763622,11.7558910419125,11.5449634608189,11.339005236648,11.1378207839694,10.9411999918404,10.7489228309057,10.5607636268251,10.376494875411,10.1958905262832,10.0187287071243,9.84479389695553,9.67387858335352,9.50578445565645,9.3403231953099,9.17731692728812,9.01659839475832,8.85801091441104,8.70140816345064,8.54665384210544,8.39362124836492,8.24219279492219,8.09225949224702,7.94372041645053,7.79648217614705,7.65045838883192,7.50556917430363,7.36174067027669,7.21890457346711,7.07699770799884,6.93596162189778,6.79574221164122,6.65628937415714,6.51755668526876,6.37950110331754,6.24208269653795,6.10526439267484,5.96901174930929,5.8332927433739,5.69807757838298,5.56333850796657,5.42904967437256,5.29518696068405,-6.63918868724982],"text":["xvar: -4.25235409<br />yvar: -0.67200086","xvar: -3.95397101<br />yvar: -0.43116776","xvar: -3.65558793<br />yvar: -0.19033465","xvar: -3.35720485<br />yvar:  0.05049845","xvar: -3.05882177<br />yvar:  0.29133156","xvar: -2.76043870<br />yvar:  0.53216467","xvar: -2.46205562<br />yvar:  0.77299777","xvar: -2.16367254<br />yvar:  1.01383088","xvar: -1.86528946<br />yvar:  1.25466398","xvar: -1.56690638<br />yvar:  1.49549709","xvar: -1.26852330<br />yvar:  1.73633019","xvar: -0.97014022<br />yvar:  1.97716330","xvar: -0.67175714<br />yvar:  2.21799641","xvar: -0.37337406<br />yvar:  2.45882951","xvar: -0.07499098<br />yvar:  2.69966262","xvar:  0.22339210<br />yvar:  2.94049572","xvar:  0.52177518<br />yvar:  3.18132883","xvar:  0.82015825<br />yvar:  3.42216194","xvar:  1.11854133<br />yvar:  3.66299504","xvar:  1.41692441<br />yvar:  3.90382815","xvar:  1.71530749<br />yvar:  4.14466125","xvar:  2.01369057<br />yvar:  4.38549436","xvar:  2.31207365<br />yvar:  4.62632746","xvar:  2.61045673<br />yvar:  4.86716057","xvar:  2.90883981<br />yvar:  5.10799368","xvar:  3.20722289<br />yvar:  5.34882678","xvar:  3.50560597<br />yvar:  5.58965989","xvar:  3.80398905<br />yvar:  5.83049299","xvar:  4.10237213<br />yvar:  6.07132610","xvar:  4.40075520<br />yvar:  6.31215921","xvar:  4.69913828<br />yvar:  6.55299231","xvar:  4.99752136<br />yvar:  6.79382542","xvar:  5.29590444<br />yvar:  7.03465852","xvar:  5.59428752<br />yvar:  7.27549163","xvar:  5.89267060<br />yvar:  7.51632473","xvar:  6.19105368<br />yvar:  7.75715784","xvar:  6.48943676<br />yvar:  7.99799095","xvar:  6.78781984<br />yvar:  8.23882405","xvar:  7.08620292<br />yvar:  8.47965716","xvar:  7.38458600<br />yvar:  8.72049026","xvar:  7.68296908<br />yvar:  8.96132337","xvar:  7.98135215<br />yvar:  9.20215647","xvar:  8.27973523<br />yvar:  9.44298958","xvar:  8.57811831<br />yvar:  9.68382269","xvar:  8.87650139<br />yvar:  9.92465579","xvar:  9.17488447<br />yvar: 10.16548890","xvar:  9.47326755<br />yvar: 10.40632200","xvar:  9.77165063<br />yvar: 10.64715511","xvar: 10.07003371<br />yvar: 10.88798822","xvar: 10.36841679<br />yvar: 11.12882132","xvar: 10.66679987<br />yvar: 11.36965443","xvar: 10.96518295<br />yvar: 11.61048753","xvar: 11.26356603<br />yvar: 11.85132064","xvar: 11.56194910<br />yvar: 12.09215374","xvar: 11.86033218<br />yvar: 12.33298685","xvar: 12.15871526<br />yvar: 12.57381996","xvar: 12.45709834<br />yvar: 12.81465306","xvar: 12.75548142<br />yvar: 13.05548617","xvar: 13.05386450<br />yvar: 13.29631927","xvar: 13.35224758<br />yvar: 13.53715238","xvar: 13.65063066<br />yvar: 13.77798549","xvar: 13.94901374<br />yvar: 14.01881859","xvar: 14.24739682<br />yvar: 14.25965170","xvar: 14.54577990<br />yvar: 14.50048480","xvar: 14.84416298<br />yvar: 14.74131791","xvar: 15.14254605<br />yvar: 14.98215101","xvar: 15.44092913<br />yvar: 15.22298412","xvar: 15.73931221<br />yvar: 15.46381723","xvar: 16.03769529<br />yvar: 15.70465033","xvar: 16.33607837<br />yvar: 15.94548344","xvar: 16.63446145<br />yvar: 16.18631654","xvar: 16.93284453<br />yvar: 16.42714965","xvar: 17.23122761<br />yvar: 16.66798275","xvar: 17.52961069<br />yvar: 16.90881586","xvar: 17.82799377<br />yvar: 17.14964897","xvar: 18.12637685<br />yvar: 17.39048207","xvar: 18.42475993<br />yvar: 17.63131518","xvar: 18.72314300<br />yvar: 17.87214828","xvar: 19.02152608<br />yvar: 18.11298139","xvar: 19.31990916<br />yvar: 18.35381450","xvar: 19.31990916<br />yvar: 18.35381450","xvar: 19.31990916<br />yvar: 18.35381450","xvar: 19.02152608<br />yvar: 18.11298139","xvar: 18.72314300<br />yvar: 17.87214828","xvar: 18.42475993<br />yvar: 17.63131518","xvar: 18.12637685<br />yvar: 17.39048207","xvar: 17.82799377<br />yvar: 17.14964897","xvar: 17.52961069<br />yvar: 16.90881586","xvar: 17.23122761<br />yvar: 16.66798275","xvar: 16.93284453<br />yvar: 16.42714965","xvar: 16.63446145<br />yvar: 16.18631654","xvar: 16.33607837<br />yvar: 15.94548344","xvar: 16.03769529<br />yvar: 15.70465033","xvar: 15.73931221<br />yvar: 15.46381723","xvar: 15.44092913<br />yvar: 15.22298412","xvar: 15.14254605<br />yvar: 14.98215101","xvar: 14.84416298<br />yvar: 14.74131791","xvar: 14.54577990<br />yvar: 14.50048480","xvar: 14.24739682<br />yvar: 14.25965170","xvar: 13.94901374<br />yvar: 14.01881859","xvar: 13.65063066<br />yvar: 13.77798549","xvar: 13.35224758<br />yvar: 13.53715238","xvar: 13.05386450<br />yvar: 13.29631927","xvar: 12.75548142<br />yvar: 13.05548617","xvar: 12.45709834<br />yvar: 12.81465306","xvar: 12.15871526<br />yvar: 12.57381996","xvar: 11.86033218<br />yvar: 12.33298685","xvar: 11.56194910<br />yvar: 12.09215374","xvar: 11.26356603<br />yvar: 11.85132064","xvar: 10.96518295<br />yvar: 11.61048753","xvar: 10.66679987<br />yvar: 11.36965443","xvar: 10.36841679<br />yvar: 11.12882132","xvar: 10.07003371<br />yvar: 10.88798822","xvar:  9.77165063<br />yvar: 10.64715511","xvar:  9.47326755<br />yvar: 10.40632200","xvar:  9.17488447<br />yvar: 10.16548890","xvar:  8.87650139<br />yvar:  9.92465579","xvar:  8.57811831<br />yvar:  9.68382269","xvar:  8.27973523<br />yvar:  9.44298958","xvar:  7.98135215<br />yvar:  9.20215647","xvar:  7.68296908<br />yvar:  8.96132337","xvar:  7.38458600<br />yvar:  8.72049026","xvar:  7.08620292<br />yvar:  8.47965716","xvar:  6.78781984<br />yvar:  8.23882405","xvar:  6.48943676<br />yvar:  7.99799095","xvar:  6.19105368<br />yvar:  7.75715784","xvar:  5.89267060<br />yvar:  7.51632473","xvar:  5.59428752<br />yvar:  7.27549163","xvar:  5.29590444<br />yvar:  7.03465852","xvar:  4.99752136<br />yvar:  6.79382542","xvar:  4.69913828<br />yvar:  6.55299231","xvar:  4.40075520<br />yvar:  6.31215921","xvar:  4.10237213<br />yvar:  6.07132610","xvar:  3.80398905<br />yvar:  5.83049299","xvar:  3.50560597<br />yvar:  5.58965989","xvar:  3.20722289<br />yvar:  5.34882678","xvar:  2.90883981<br />yvar:  5.10799368","xvar:  2.61045673<br />yvar:  4.86716057","xvar:  2.31207365<br />yvar:  4.62632746","xvar:  2.01369057<br />yvar:  4.38549436","xvar:  1.71530749<br />yvar:  4.14466125","xvar:  1.41692441<br />yvar:  3.90382815","xvar:  1.11854133<br />yvar:  3.66299504","xvar:  0.82015825<br />yvar:  3.42216194","xvar:  0.52177518<br />yvar:  3.18132883","xvar:  0.22339210<br />yvar:  2.94049572","xvar: -0.07499098<br />yvar:  2.69966262","xvar: -0.37337406<br />yvar:  2.45882951","xvar: -0.67175714<br />yvar:  2.21799641","xvar: -0.97014022<br />yvar:  1.97716330","xvar: -1.26852330<br />yvar:  1.73633019","xvar: -1.56690638<br />yvar:  1.49549709","xvar: -1.86528946<br />yvar:  1.25466398","xvar: -2.16367254<br />yvar:  1.01383088","xvar: -2.46205562<br />yvar:  0.77299777","xvar: -2.76043870<br />yvar:  0.53216467","xvar: -3.05882177<br />yvar:  0.29133156","xvar: -3.35720485<br />yvar:  0.05049845","xvar: -3.65558793<br />yvar: -0.19033465","xvar: -3.95397101<br />yvar: -0.43116776","xvar: -4.25235409<br />yvar: -0.67200086","xvar: -4.25235409<br />yvar: -0.67200086"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.4309672540449,20.4985223259887],"tickmode":"array","ticktext":["-5","0","5","10","15","20"],"tickvals":[-5,0,5,10,15,20],"categoryorder":"array","categoryarray":["-5","0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"xvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-8.11946187048324,24.4465481606518],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"yvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de520f82be":{"x":{},"y":{},"type":"scatter"},"36de5bb7358d":{"x":{},"y":{}}},"cur_data":"36de520f82be","visdat":{"36de520f82be":["function (y) ","x"],"36de5bb7358d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Without Shading</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">set.seed</span><span class="p">(</span><span class="m">955</span><span class="p">)</span><span class="w">
</span><span class="c1"># Make some noisily increasing data</span><span class="w">
</span><span class="n">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">cond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">),</span><span class="w"> </span><span class="n">each</span><span class="o">=</span><span class="m">10</span><span class="p">),</span><span class="w">
                  </span><span class="n">xvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">),</span><span class="w">
                  </span><span class="n">yvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">))</span><span class="w">

</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">xvar</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">yvar</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">geom_point</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">    </span><span class="c1"># Use hollow circles</span><span class="w">
    </span><span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">lm</span><span class="p">,</span><span class="w">   </span><span class="c1"># Add linear regression line</span><span class="w">
                </span><span class="n">se</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">    </span><span class="c1"># Don't add shaded confidence region</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-9f3e73e9a722a8b32607" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-9f3e73e9a722a8b32607">{"x":{"data":[{"x":[-4.2523540913161,1.70231797080429,4.32305375264429,1.78062840828558,11.5373483707262,6.6721303879751,0.00429484839917471,9.97140300744114,9.00745603205534,11.7669979720019,8.84021564536606,5.97409378324296,15.0348288493311,10.985009895119,13.5432219611818,11.4357894932451,16.9770633883129,17.2200126978937,17.7933592179153,19.3199091632599],"y":[3.47315727519937,0.00593961194215842,-0.0942524273841228,2.07280827811164,1.21544035750516,3.608111411445,7.52921028893478,6.15615435544134,8.93523814691022,8.92809218735164,13.2024109715517,17.6448907941774,10.485402010084,10.1380430658948,18.6818761141095,19.1434718052458,18.8325049552779,18.9398188644009,19.7185877614054,19.6478998627784],"text":["xvar: -4.252354091<br />yvar:  3.473157275","xvar:  1.702317971<br />yvar:  0.005939612","xvar:  4.323053753<br />yvar: -0.094252427","xvar:  1.780628408<br />yvar:  2.072808278","xvar: 11.537348371<br />yvar:  1.215440358","xvar:  6.672130388<br />yvar:  3.608111411","xvar:  0.004294848<br />yvar:  7.529210289","xvar:  9.971403007<br />yvar:  6.156154355","xvar:  9.007456032<br />yvar:  8.935238147","xvar: 11.766997972<br />yvar:  8.928092187","xvar:  8.840215645<br />yvar: 13.202410972","xvar:  5.974093783<br />yvar: 17.644890794","xvar: 15.034828849<br />yvar: 10.485402010","xvar: 10.985009895<br />yvar: 10.138043066","xvar: 13.543221961<br />yvar: 18.681876114","xvar: 11.435789493<br />yvar: 19.143471805","xvar: 16.977063388<br />yvar: 18.832504955","xvar: 17.220012698<br />yvar: 18.939818864","xvar: 17.793359218<br />yvar: 19.718587761","xvar: 19.319909163<br />yvar: 19.647899863"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle-open","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-4.2523540913161,-3.95397101214425,-3.6555879329724,-3.35720485380056,-3.05882177462871,-2.76043869545686,-2.46205561628501,-2.16367253711316,-1.86528945794132,-1.56690637876947,-1.26852329959762,-0.970140220425773,-0.671757141253925,-0.373374062082077,-0.0749909829102293,0.223392096261618,0.521775175433466,0.820158254605314,1.11854133377716,1.41692441294901,1.71530749212086,2.0136905712927,2.31207365046455,2.6104567296364,2.90883980880825,3.2072228879801,3.50560596715194,3.80398904632379,4.10237212549564,4.40075520466749,4.69913828383933,4.99752136301118,5.29590444218303,5.59428752135488,5.89267060052673,6.19105367969857,6.48943675887042,6.78781983804227,7.08620291721412,7.38458599638596,7.68296907555781,7.98135215472966,8.27973523390151,8.57811831307336,8.8765013922452,9.17488447141705,9.4732675505889,9.77165062976075,10.0700337089326,10.3684167881044,10.6667998672763,10.9651829464481,11.26356602562,11.5619491047918,11.8603321839637,12.1587152631355,12.4570983423074,12.7554814214792,13.0538645006511,13.3522475798229,13.6506306589948,13.9490137381666,14.2473968173385,14.5457798965103,14.8441629756822,15.142546054854,15.4409291340259,15.7393122131977,16.0376952923695,16.3360783715414,16.6344614507132,16.9328445298851,17.2312276090569,17.5296106882288,17.8279937674006,18.1263768465725,18.4247599257443,18.7231430049162,19.021526084088,19.3199091632599],"y":[-0.672000863282888,-0.431167757473637,-0.190334651664385,0.0504984541448663,0.291331559954118,0.532164665763369,0.77299777157262,1.01383087738187,1.25466398319112,1.49549708900037,1.73633019480963,1.97716330061888,2.21799640642813,2.45882951223738,2.69966261804663,2.94049572385588,3.18132882966513,3.42216193547439,3.66299504128364,3.90382814709289,4.14466125290214,4.38549435871139,4.62632746452064,4.86716057032989,5.10799367613914,5.34882678194839,5.58965988775765,5.8304929935669,6.07132609937615,6.3121592051854,6.55299231099465,6.7938254168039,7.03465852261315,7.27549162842241,7.51632473423166,7.75715784004091,7.99799094585016,8.23882405165941,8.47965715746866,8.72049026327791,8.96132336908716,9.20215647489642,9.44298958070567,9.68382268651492,9.92465579232417,10.1654888981334,10.4063220039427,10.6471551097519,10.8879882155612,11.1288213213704,11.3696544271797,11.6104875329889,11.8513206387982,12.0921537446074,12.3329868504167,12.5738199562259,12.8146530620352,13.0554861678444,13.2963192736537,13.5371523794629,13.7779854852722,14.0188185910814,14.2596516968907,14.5004848026999,14.7413179085092,14.9821510143185,15.2229841201277,15.4638172259369,15.7046503317462,15.9454834375555,16.1863165433647,16.427149649174,16.6679827549832,16.9088158607925,17.1496489666017,17.390482072411,17.6313151782202,17.8721482840295,18.1129813898387,18.353814495648],"text":["xvar: -4.25235409<br />yvar: -0.67200086","xvar: -3.95397101<br />yvar: -0.43116776","xvar: -3.65558793<br />yvar: -0.19033465","xvar: -3.35720485<br />yvar:  0.05049845","xvar: -3.05882177<br />yvar:  0.29133156","xvar: -2.76043870<br />yvar:  0.53216467","xvar: -2.46205562<br />yvar:  0.77299777","xvar: -2.16367254<br />yvar:  1.01383088","xvar: -1.86528946<br />yvar:  1.25466398","xvar: -1.56690638<br />yvar:  1.49549709","xvar: -1.26852330<br />yvar:  1.73633019","xvar: -0.97014022<br />yvar:  1.97716330","xvar: -0.67175714<br />yvar:  2.21799641","xvar: -0.37337406<br />yvar:  2.45882951","xvar: -0.07499098<br />yvar:  2.69966262","xvar:  0.22339210<br />yvar:  2.94049572","xvar:  0.52177518<br />yvar:  3.18132883","xvar:  0.82015825<br />yvar:  3.42216194","xvar:  1.11854133<br />yvar:  3.66299504","xvar:  1.41692441<br />yvar:  3.90382815","xvar:  1.71530749<br />yvar:  4.14466125","xvar:  2.01369057<br />yvar:  4.38549436","xvar:  2.31207365<br />yvar:  4.62632746","xvar:  2.61045673<br />yvar:  4.86716057","xvar:  2.90883981<br />yvar:  5.10799368","xvar:  3.20722289<br />yvar:  5.34882678","xvar:  3.50560597<br />yvar:  5.58965989","xvar:  3.80398905<br />yvar:  5.83049299","xvar:  4.10237213<br />yvar:  6.07132610","xvar:  4.40075520<br />yvar:  6.31215921","xvar:  4.69913828<br />yvar:  6.55299231","xvar:  4.99752136<br />yvar:  6.79382542","xvar:  5.29590444<br />yvar:  7.03465852","xvar:  5.59428752<br />yvar:  7.27549163","xvar:  5.89267060<br />yvar:  7.51632473","xvar:  6.19105368<br />yvar:  7.75715784","xvar:  6.48943676<br />yvar:  7.99799095","xvar:  6.78781984<br />yvar:  8.23882405","xvar:  7.08620292<br />yvar:  8.47965716","xvar:  7.38458600<br />yvar:  8.72049026","xvar:  7.68296908<br />yvar:  8.96132337","xvar:  7.98135215<br />yvar:  9.20215647","xvar:  8.27973523<br />yvar:  9.44298958","xvar:  8.57811831<br />yvar:  9.68382269","xvar:  8.87650139<br />yvar:  9.92465579","xvar:  9.17488447<br />yvar: 10.16548890","xvar:  9.47326755<br />yvar: 10.40632200","xvar:  9.77165063<br />yvar: 10.64715511","xvar: 10.07003371<br />yvar: 10.88798822","xvar: 10.36841679<br />yvar: 11.12882132","xvar: 10.66679987<br />yvar: 11.36965443","xvar: 10.96518295<br />yvar: 11.61048753","xvar: 11.26356603<br />yvar: 11.85132064","xvar: 11.56194910<br />yvar: 12.09215374","xvar: 11.86033218<br />yvar: 12.33298685","xvar: 12.15871526<br />yvar: 12.57381996","xvar: 12.45709834<br />yvar: 12.81465306","xvar: 12.75548142<br />yvar: 13.05548617","xvar: 13.05386450<br />yvar: 13.29631927","xvar: 13.35224758<br />yvar: 13.53715238","xvar: 13.65063066<br />yvar: 13.77798549","xvar: 13.94901374<br />yvar: 14.01881859","xvar: 14.24739682<br />yvar: 14.25965170","xvar: 14.54577990<br />yvar: 14.50048480","xvar: 14.84416298<br />yvar: 14.74131791","xvar: 15.14254605<br />yvar: 14.98215101","xvar: 15.44092913<br />yvar: 15.22298412","xvar: 15.73931221<br />yvar: 15.46381723","xvar: 16.03769529<br />yvar: 15.70465033","xvar: 16.33607837<br />yvar: 15.94548344","xvar: 16.63446145<br />yvar: 16.18631654","xvar: 16.93284453<br />yvar: 16.42714965","xvar: 17.23122761<br />yvar: 16.66798275","xvar: 17.52961069<br />yvar: 16.90881586","xvar: 17.82799377<br />yvar: 17.14964897","xvar: 18.12637685<br />yvar: 17.39048207","xvar: 18.42475993<br />yvar: 17.63131518","xvar: 18.72314300<br />yvar: 17.87214828","xvar: 19.02152608<br />yvar: 18.11298139","xvar: 19.31990916<br />yvar: 18.35381450"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.4309672540449,20.4985223259887],"tickmode":"array","ticktext":["-5","0","5","10","15","20"],"tickvals":[-5,0,5,10,15,20],"categoryorder":"array","categoryarray":["-5","0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"xvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.6915302945173,20.7381171926398],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[2.22044604925031e-16,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"yvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de29f09e8d":{"x":{},"y":{},"type":"scatter"},"36de4bd3ce85":{"x":{},"y":{}}},"cur_data":"36de29f09e8d","visdat":{"36de29f09e8d":["function (y) ","x"],"36de4bd3ce85":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Loess Smoothed Fit</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">set.seed</span><span class="p">(</span><span class="m">955</span><span class="p">)</span><span class="w">
</span><span class="c1"># Make some noisily increasing data</span><span class="w">
</span><span class="n">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">cond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">),</span><span class="w"> </span><span class="n">each</span><span class="o">=</span><span class="m">10</span><span class="p">),</span><span class="w">
                  </span><span class="n">xvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">),</span><span class="w">
                  </span><span class="n">yvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="m">3</span><span class="p">))</span><span class="w">

</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">xvar</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">yvar</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">geom_point</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">    </span><span class="c1"># Use hollow circles</span><span class="w">
    </span><span class="n">geom_smooth</span><span class="p">()</span><span class="w">            </span><span class="c1"># Add a loess smoothed fit curve with confidence region</span><span class="w">
</span><span class="c1"># &gt; geom_smooth: method="auto" and size of largest group is less than 1000, so using loess.</span><span class="w">
</span><span class="c1"># Use 'method = x' to change the smoothing method.</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-b30cca723f334913d171" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-b30cca723f334913d171">{"x":{"data":[{"x":[-4.2523540913161,1.70231797080429,4.32305375264429,1.78062840828558,11.5373483707262,6.6721303879751,0.00429484839917471,9.97140300744114,9.00745603205534,11.7669979720019,8.84021564536606,5.97409378324296,15.0348288493311,10.985009895119,13.5432219611818,11.4357894932451,16.9770633883129,17.2200126978937,17.7933592179153,19.3199091632599],"y":[3.47315727519937,0.00593961194215842,-0.0942524273841228,2.07280827811164,1.21544035750516,3.608111411445,7.52921028893478,6.15615435544134,8.93523814691022,8.92809218735164,13.2024109715517,17.6448907941774,10.485402010084,10.1380430658948,18.6818761141095,19.1434718052458,18.8325049552779,18.9398188644009,19.7185877614054,19.6478998627784],"text":["xvar: -4.252354091<br />yvar:  3.473157275","xvar:  1.702317971<br />yvar:  0.005939612","xvar:  4.323053753<br />yvar: -0.094252427","xvar:  1.780628408<br />yvar:  2.072808278","xvar: 11.537348371<br />yvar:  1.215440358","xvar:  6.672130388<br />yvar:  3.608111411","xvar:  0.004294848<br />yvar:  7.529210289","xvar:  9.971403007<br />yvar:  6.156154355","xvar:  9.007456032<br />yvar:  8.935238147","xvar: 11.766997972<br />yvar:  8.928092187","xvar:  8.840215645<br />yvar: 13.202410972","xvar:  5.974093783<br />yvar: 17.644890794","xvar: 15.034828849<br />yvar: 10.485402010","xvar: 10.985009895<br />yvar: 10.138043066","xvar: 13.543221961<br />yvar: 18.681876114","xvar: 11.435789493<br />yvar: 19.143471805","xvar: 16.977063388<br />yvar: 18.832504955","xvar: 17.220012698<br />yvar: 18.939818864","xvar: 17.793359218<br />yvar: 19.718587761","xvar: 19.319909163<br />yvar: 19.647899863"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle-open","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-4.2523540913161,-3.95397101214425,-3.6555879329724,-3.35720485380056,-3.05882177462871,-2.76043869545686,-2.46205561628501,-2.16367253711316,-1.86528945794132,-1.56690637876947,-1.26852329959762,-0.970140220425773,-0.671757141253925,-0.373374062082077,-0.0749909829102293,0.223392096261618,0.521775175433466,0.820158254605314,1.11854133377716,1.41692441294901,1.71530749212086,2.0136905712927,2.31207365046455,2.6104567296364,2.90883980880825,3.2072228879801,3.50560596715194,3.80398904632379,4.10237212549564,4.40075520466749,4.69913828383933,4.99752136301118,5.29590444218303,5.59428752135488,5.89267060052673,6.19105367969857,6.48943675887042,6.78781983804227,7.08620291721412,7.38458599638596,7.68296907555781,7.98135215472966,8.27973523390151,8.57811831307336,8.8765013922452,9.17488447141705,9.4732675505889,9.77165062976075,10.0700337089326,10.3684167881044,10.6667998672763,10.9651829464481,11.26356602562,11.5619491047918,11.8603321839637,12.1587152631355,12.4570983423074,12.7554814214792,13.0538645006511,13.3522475798229,13.6506306589948,13.9490137381666,14.2473968173385,14.5457798965103,14.8441629756822,15.142546054854,15.4409291340259,15.7393122131977,16.0376952923695,16.3360783715414,16.6344614507132,16.9328445298851,17.2312276090569,17.5296106882288,17.8279937674006,18.1263768465725,18.4247599257443,18.7231430049162,19.021526084088,19.3199091632599],"y":[3.89053860851378,3.75858714637904,3.64168336499955,3.53956252954785,3.45195990519646,3.37861075711792,3.31925035048474,3.27361395046946,3.24143682224461,3.22245423098272,3.21640144185631,3.22301372003792,3.24202633070007,3.2731745390153,3.31619361015613,3.37081880929509,3.43678540160471,3.51382865225752,3.60168382642605,3.70008618928283,3.8087955085423,3.94068068800671,4.10323161602763,4.29137731517441,4.50004680801635,4.72416911712277,4.95867326506301,5.19848827440637,5.43854316772219,5.6744943568209,5.91692740737604,6.16937892937126,6.42979307389094,6.69611399201944,6.96628583484113,7.23825275344038,7.50995889890156,7.77934842230904,8.04436547474718,8.30295420730036,8.55305877105294,8.79262331708929,9.01959199649378,9.23190896035078,9.42647313634651,9.53334538724387,9.57030835522185,9.62065328064942,9.75631712656472,9.89300266590396,10.0119806791038,10.1366173022722,10.2902786715171,10.4962297102141,10.7546211046793,11.049548728287,11.3732805860603,11.7180846830226,12.0762290241968,12.4399816146064,12.8038025340442,13.1859241499519,13.5893293207367,14.010348356076,14.445311565647,14.8905492591271,15.3423917461935,15.7971693365237,16.2512123397948,16.7008510656843,17.1424158238694,17.5722369240275,17.9866564263862,18.3916839736673,18.794934346746,19.1969714809706,19.5983593116892,19.9996617742497,20.4014428040005,20.8042663362896],"text":["xvar: -4.25235409<br />yvar:  3.890539","xvar: -3.95397101<br />yvar:  3.758587","xvar: -3.65558793<br />yvar:  3.641683","xvar: -3.35720485<br />yvar:  3.539563","xvar: -3.05882177<br />yvar:  3.451960","xvar: -2.76043870<br />yvar:  3.378611","xvar: -2.46205562<br />yvar:  3.319250","xvar: -2.16367254<br />yvar:  3.273614","xvar: -1.86528946<br />yvar:  3.241437","xvar: -1.56690638<br />yvar:  3.222454","xvar: -1.26852330<br />yvar:  3.216401","xvar: -0.97014022<br />yvar:  3.223014","xvar: -0.67175714<br />yvar:  3.242026","xvar: -0.37337406<br />yvar:  3.273175","xvar: -0.07499098<br />yvar:  3.316194","xvar:  0.22339210<br />yvar:  3.370819","xvar:  0.52177518<br />yvar:  3.436785","xvar:  0.82015825<br />yvar:  3.513829","xvar:  1.11854133<br />yvar:  3.601684","xvar:  1.41692441<br />yvar:  3.700086","xvar:  1.71530749<br />yvar:  3.808796","xvar:  2.01369057<br />yvar:  3.940681","xvar:  2.31207365<br />yvar:  4.103232","xvar:  2.61045673<br />yvar:  4.291377","xvar:  2.90883981<br />yvar:  4.500047","xvar:  3.20722289<br />yvar:  4.724169","xvar:  3.50560597<br />yvar:  4.958673","xvar:  3.80398905<br />yvar:  5.198488","xvar:  4.10237213<br />yvar:  5.438543","xvar:  4.40075520<br />yvar:  5.674494","xvar:  4.69913828<br />yvar:  5.916927","xvar:  4.99752136<br />yvar:  6.169379","xvar:  5.29590444<br />yvar:  6.429793","xvar:  5.59428752<br />yvar:  6.696114","xvar:  5.89267060<br />yvar:  6.966286","xvar:  6.19105368<br />yvar:  7.238253","xvar:  6.48943676<br />yvar:  7.509959","xvar:  6.78781984<br />yvar:  7.779348","xvar:  7.08620292<br />yvar:  8.044365","xvar:  7.38458600<br />yvar:  8.302954","xvar:  7.68296908<br />yvar:  8.553059","xvar:  7.98135215<br />yvar:  8.792623","xvar:  8.27973523<br />yvar:  9.019592","xvar:  8.57811831<br />yvar:  9.231909","xvar:  8.87650139<br />yvar:  9.426473","xvar:  9.17488447<br />yvar:  9.533345","xvar:  9.47326755<br />yvar:  9.570308","xvar:  9.77165063<br />yvar:  9.620653","xvar: 10.07003371<br />yvar:  9.756317","xvar: 10.36841679<br />yvar:  9.893003","xvar: 10.66679987<br />yvar: 10.011981","xvar: 10.96518295<br />yvar: 10.136617","xvar: 11.26356603<br />yvar: 10.290279","xvar: 11.56194910<br />yvar: 10.496230","xvar: 11.86033218<br />yvar: 10.754621","xvar: 12.15871526<br />yvar: 11.049549","xvar: 12.45709834<br />yvar: 11.373281","xvar: 12.75548142<br />yvar: 11.718085","xvar: 13.05386450<br />yvar: 12.076229","xvar: 13.35224758<br />yvar: 12.439982","xvar: 13.65063066<br />yvar: 12.803803","xvar: 13.94901374<br />yvar: 13.185924","xvar: 14.24739682<br />yvar: 13.589329","xvar: 14.54577990<br />yvar: 14.010348","xvar: 14.84416298<br />yvar: 14.445312","xvar: 15.14254605<br />yvar: 14.890549","xvar: 15.44092913<br />yvar: 15.342392","xvar: 15.73931221<br />yvar: 15.797169","xvar: 16.03769529<br />yvar: 16.251212","xvar: 16.33607837<br />yvar: 16.700851","xvar: 16.63446145<br />yvar: 17.142416","xvar: 16.93284453<br />yvar: 17.572237","xvar: 17.23122761<br />yvar: 17.986656","xvar: 17.52961069<br />yvar: 18.391684","xvar: 17.82799377<br />yvar: 18.794934","xvar: 18.12637685<br />yvar: 19.196971","xvar: 18.42475993<br />yvar: 19.598359","xvar: 18.72314300<br />yvar: 19.999662","xvar: 19.02152608<br />yvar: 20.401443","xvar: 19.31990916<br />yvar: 20.804266"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-4.2523540913161,-3.95397101214425,-3.6555879329724,-3.35720485380056,-3.05882177462871,-2.76043869545686,-2.46205561628501,-2.16367253711316,-1.86528945794132,-1.56690637876947,-1.26852329959762,-0.970140220425773,-0.671757141253925,-0.373374062082077,-0.0749909829102293,0.223392096261618,0.521775175433466,0.820158254605314,1.11854133377716,1.41692441294901,1.71530749212086,2.0136905712927,2.31207365046455,2.6104567296364,2.90883980880825,3.2072228879801,3.50560596715194,3.80398904632379,4.10237212549564,4.40075520466749,4.69913828383933,4.99752136301118,5.29590444218303,5.59428752135488,5.89267060052673,6.19105367969857,6.48943675887042,6.78781983804227,7.08620291721412,7.38458599638596,7.68296907555781,7.98135215472966,8.27973523390151,8.57811831307336,8.8765013922452,9.17488447141705,9.4732675505889,9.77165062976075,10.0700337089326,10.3684167881044,10.6667998672763,10.9651829464481,11.26356602562,11.5619491047918,11.8603321839637,12.1587152631355,12.4570983423074,12.7554814214792,13.0538645006511,13.3522475798229,13.6506306589948,13.9490137381666,14.2473968173385,14.5457798965103,14.8441629756822,15.142546054854,15.4409291340259,15.7393122131977,16.0376952923695,16.3360783715414,16.6344614507132,16.9328445298851,17.2312276090569,17.5296106882288,17.8279937674006,18.1263768465725,18.4247599257443,18.7231430049162,19.021526084088,19.3199091632599,19.3199091632599,19.3199091632599,19.021526084088,18.7231430049162,18.4247599257443,18.1263768465725,17.8279937674006,17.5296106882288,17.2312276090569,16.9328445298851,16.6344614507132,16.3360783715414,16.0376952923695,15.7393122131977,15.4409291340259,15.142546054854,14.8441629756822,14.5457798965103,14.2473968173385,13.9490137381666,13.6506306589948,13.3522475798229,13.0538645006511,12.7554814214792,12.4570983423074,12.1587152631355,11.8603321839637,11.5619491047918,11.26356602562,10.9651829464481,10.6667998672763,10.3684167881044,10.0700337089326,9.77165062976075,9.4732675505889,9.17488447141705,8.8765013922452,8.57811831307336,8.27973523390151,7.98135215472966,7.68296907555781,7.38458599638596,7.08620291721412,6.78781983804227,6.48943675887042,6.19105367969857,5.89267060052673,5.59428752135488,5.29590444218303,4.99752136301118,4.69913828383933,4.40075520466749,4.10237212549564,3.80398904632379,3.50560596715194,3.2072228879801,2.90883980880825,2.6104567296364,2.31207365046455,2.0136905712927,1.71530749212086,1.41692441294901,1.11854133377716,0.820158254605314,0.521775175433466,0.223392096261618,-0.0749909829102293,-0.373374062082077,-0.671757141253925,-0.970140220425773,-1.26852329959762,-1.56690637876947,-1.86528945794132,-2.16367253711316,-2.46205561628501,-2.76043869545686,-3.05882177462871,-3.35720485380056,-3.6555879329724,-3.95397101214425,-4.2523540913161,-4.2523540913161],"y":[-7.46236823922766,-6.84784214577266,-6.26742526447506,-5.72234480607048,-5.21385149774305,-4.74314973389387,-4.31129752789586,-3.91907426624725,-3.56682044535842,-3.25426288242011,-2.98034965022971,-2.74312728602768,-2.53969348373637,-2.36624785695929,-2.21824269702935,-2.09061199153698,-1.97803983864128,-1.87522516122635,-1.77710804272694,-1.67903842855888,-1.57682921723443,-1.43900562398172,-1.25397010499567,-1.04439239918958,-0.833113755862843,-0.637903813424568,-0.467681137879897,-0.320951250942,-0.186716169849406,-0.045406033144979,0.154516905602966,0.423344136153106,0.749529840039216,1.11841346386483,1.51367813908686,1.91863241934996,2.31754173859279,2.69707272525493,3.04772641687084,3.36496519244068,3.64968560802883,3.9078303963553,4.14920240913291,4.38575321945023,4.62888510753731,4.82246083320274,4.9219703121513,4.98252090941279,5.13843575880017,5.34500724666857,5.51843027590974,5.63409513077377,5.72080885689149,5.85649252706641,6.07287084090693,6.30096105080327,6.48836451520318,6.6238705267436,6.74255028276656,6.91012183316026,7.19364824316211,7.55981424104534,7.9821373510042,8.45038141587746,8.95424755137332,9.48360239540316,10.0284015311739,10.5782739777668,11.1217199092678,11.6448981327172,12.1300741568815,12.5540150207592,12.8869797520863,13.1001381215488,13.1727888144033,13.0919017237951,12.8554685969564,12.4697113280583,11.9451868428382,11.2936670096909,11.2936670096909,30.3148656628884,28.8576987651629,27.5296122204412,26.3412500264219,25.3020412381462,24.4170798790888,23.6832298257857,23.0863331006861,22.5904588272958,22.1547574908573,21.7568039986514,21.3807047703218,21.0160646952805,20.6563819612131,20.297496122851,19.9363755799206,19.5703152962745,19.1965212904692,18.8120340588584,18.4139568249263,17.9698413960526,17.4099077656271,16.8122988393015,16.2581966569175,15.7981364057708,15.4363713684517,15.1359668933618,14.8597484861428,14.6391394737705,14.5055310822978,14.4409980851393,14.3741984943293,14.258785651886,14.2186463982924,14.244229941285,14.2240611651557,14.0780647012513,13.8899815838546,13.6774162378233,13.4564319340771,13.24094322216,13.0410045326235,12.8616241193631,12.7023760592103,12.5578730875308,12.4188935305954,12.273814520174,12.1100563077427,11.9154137225894,11.6793379091491,11.3943947467868,11.0638025052938,10.7179277997547,10.3850276680059,10.0862420476701,9.83320737189554,9.6271470295384,9.46043333705094,9.32036699999513,9.19442023431904,9.07921080712454,8.98047569557905,8.9028824657414,8.85161064185071,8.83224961012716,8.85062991734161,8.91259693498989,9.02374614513652,9.18915472610352,9.41315253394234,9.69917134438555,10.0496940898476,10.4663021671862,10.9497982288653,11.5003712481297,12.117771308136,12.8014698651662,13.5507919944742,14.3650164385307,15.2434454562552,-7.46236823922766],"text":["xvar: -4.25235409<br />yvar:  3.890539","xvar: -3.95397101<br />yvar:  3.758587","xvar: -3.65558793<br />yvar:  3.641683","xvar: -3.35720485<br />yvar:  3.539563","xvar: -3.05882177<br />yvar:  3.451960","xvar: -2.76043870<br />yvar:  3.378611","xvar: -2.46205562<br />yvar:  3.319250","xvar: -2.16367254<br />yvar:  3.273614","xvar: -1.86528946<br />yvar:  3.241437","xvar: -1.56690638<br />yvar:  3.222454","xvar: -1.26852330<br />yvar:  3.216401","xvar: -0.97014022<br />yvar:  3.223014","xvar: -0.67175714<br />yvar:  3.242026","xvar: -0.37337406<br />yvar:  3.273175","xvar: -0.07499098<br />yvar:  3.316194","xvar:  0.22339210<br />yvar:  3.370819","xvar:  0.52177518<br />yvar:  3.436785","xvar:  0.82015825<br />yvar:  3.513829","xvar:  1.11854133<br />yvar:  3.601684","xvar:  1.41692441<br />yvar:  3.700086","xvar:  1.71530749<br />yvar:  3.808796","xvar:  2.01369057<br />yvar:  3.940681","xvar:  2.31207365<br />yvar:  4.103232","xvar:  2.61045673<br />yvar:  4.291377","xvar:  2.90883981<br />yvar:  4.500047","xvar:  3.20722289<br />yvar:  4.724169","xvar:  3.50560597<br />yvar:  4.958673","xvar:  3.80398905<br />yvar:  5.198488","xvar:  4.10237213<br />yvar:  5.438543","xvar:  4.40075520<br />yvar:  5.674494","xvar:  4.69913828<br />yvar:  5.916927","xvar:  4.99752136<br />yvar:  6.169379","xvar:  5.29590444<br />yvar:  6.429793","xvar:  5.59428752<br />yvar:  6.696114","xvar:  5.89267060<br />yvar:  6.966286","xvar:  6.19105368<br />yvar:  7.238253","xvar:  6.48943676<br />yvar:  7.509959","xvar:  6.78781984<br />yvar:  7.779348","xvar:  7.08620292<br />yvar:  8.044365","xvar:  7.38458600<br />yvar:  8.302954","xvar:  7.68296908<br />yvar:  8.553059","xvar:  7.98135215<br />yvar:  8.792623","xvar:  8.27973523<br />yvar:  9.019592","xvar:  8.57811831<br />yvar:  9.231909","xvar:  8.87650139<br />yvar:  9.426473","xvar:  9.17488447<br />yvar:  9.533345","xvar:  9.47326755<br />yvar:  9.570308","xvar:  9.77165063<br />yvar:  9.620653","xvar: 10.07003371<br />yvar:  9.756317","xvar: 10.36841679<br />yvar:  9.893003","xvar: 10.66679987<br />yvar: 10.011981","xvar: 10.96518295<br />yvar: 10.136617","xvar: 11.26356603<br />yvar: 10.290279","xvar: 11.56194910<br />yvar: 10.496230","xvar: 11.86033218<br />yvar: 10.754621","xvar: 12.15871526<br />yvar: 11.049549","xvar: 12.45709834<br />yvar: 11.373281","xvar: 12.75548142<br />yvar: 11.718085","xvar: 13.05386450<br />yvar: 12.076229","xvar: 13.35224758<br />yvar: 12.439982","xvar: 13.65063066<br />yvar: 12.803803","xvar: 13.94901374<br />yvar: 13.185924","xvar: 14.24739682<br />yvar: 13.589329","xvar: 14.54577990<br />yvar: 14.010348","xvar: 14.84416298<br />yvar: 14.445312","xvar: 15.14254605<br />yvar: 14.890549","xvar: 15.44092913<br />yvar: 15.342392","xvar: 15.73931221<br />yvar: 15.797169","xvar: 16.03769529<br />yvar: 16.251212","xvar: 16.33607837<br />yvar: 16.700851","xvar: 16.63446145<br />yvar: 17.142416","xvar: 16.93284453<br />yvar: 17.572237","xvar: 17.23122761<br />yvar: 17.986656","xvar: 17.52961069<br />yvar: 18.391684","xvar: 17.82799377<br />yvar: 18.794934","xvar: 18.12637685<br />yvar: 19.196971","xvar: 18.42475993<br />yvar: 19.598359","xvar: 18.72314300<br />yvar: 19.999662","xvar: 19.02152608<br />yvar: 20.401443","xvar: 19.31990916<br />yvar: 20.804266","xvar: 19.31990916<br />yvar: 20.804266","xvar: 19.31990916<br />yvar: 20.804266","xvar: 19.02152608<br />yvar: 20.401443","xvar: 18.72314300<br />yvar: 19.999662","xvar: 18.42475993<br />yvar: 19.598359","xvar: 18.12637685<br />yvar: 19.196971","xvar: 17.82799377<br />yvar: 18.794934","xvar: 17.52961069<br />yvar: 18.391684","xvar: 17.23122761<br />yvar: 17.986656","xvar: 16.93284453<br />yvar: 17.572237","xvar: 16.63446145<br />yvar: 17.142416","xvar: 16.33607837<br />yvar: 16.700851","xvar: 16.03769529<br />yvar: 16.251212","xvar: 15.73931221<br />yvar: 15.797169","xvar: 15.44092913<br />yvar: 15.342392","xvar: 15.14254605<br />yvar: 14.890549","xvar: 14.84416298<br />yvar: 14.445312","xvar: 14.54577990<br />yvar: 14.010348","xvar: 14.24739682<br />yvar: 13.589329","xvar: 13.94901374<br />yvar: 13.185924","xvar: 13.65063066<br />yvar: 12.803803","xvar: 13.35224758<br />yvar: 12.439982","xvar: 13.05386450<br />yvar: 12.076229","xvar: 12.75548142<br />yvar: 11.718085","xvar: 12.45709834<br />yvar: 11.373281","xvar: 12.15871526<br />yvar: 11.049549","xvar: 11.86033218<br />yvar: 10.754621","xvar: 11.56194910<br />yvar: 10.496230","xvar: 11.26356603<br />yvar: 10.290279","xvar: 10.96518295<br />yvar: 10.136617","xvar: 10.66679987<br />yvar: 10.011981","xvar: 10.36841679<br />yvar:  9.893003","xvar: 10.07003371<br />yvar:  9.756317","xvar:  9.77165063<br />yvar:  9.620653","xvar:  9.47326755<br />yvar:  9.570308","xvar:  9.17488447<br />yvar:  9.533345","xvar:  8.87650139<br />yvar:  9.426473","xvar:  8.57811831<br />yvar:  9.231909","xvar:  8.27973523<br />yvar:  9.019592","xvar:  7.98135215<br />yvar:  8.792623","xvar:  7.68296908<br />yvar:  8.553059","xvar:  7.38458600<br />yvar:  8.302954","xvar:  7.08620292<br />yvar:  8.044365","xvar:  6.78781984<br />yvar:  7.779348","xvar:  6.48943676<br />yvar:  7.509959","xvar:  6.19105368<br />yvar:  7.238253","xvar:  5.89267060<br />yvar:  6.966286","xvar:  5.59428752<br />yvar:  6.696114","xvar:  5.29590444<br />yvar:  6.429793","xvar:  4.99752136<br />yvar:  6.169379","xvar:  4.69913828<br />yvar:  5.916927","xvar:  4.40075520<br />yvar:  5.674494","xvar:  4.10237213<br />yvar:  5.438543","xvar:  3.80398905<br />yvar:  5.198488","xvar:  3.50560597<br />yvar:  4.958673","xvar:  3.20722289<br />yvar:  4.724169","xvar:  2.90883981<br />yvar:  4.500047","xvar:  2.61045673<br />yvar:  4.291377","xvar:  2.31207365<br />yvar:  4.103232","xvar:  2.01369057<br />yvar:  3.940681","xvar:  1.71530749<br />yvar:  3.808796","xvar:  1.41692441<br />yvar:  3.700086","xvar:  1.11854133<br />yvar:  3.601684","xvar:  0.82015825<br />yvar:  3.513829","xvar:  0.52177518<br />yvar:  3.436785","xvar:  0.22339210<br />yvar:  3.370819","xvar: -0.07499098<br />yvar:  3.316194","xvar: -0.37337406<br />yvar:  3.273175","xvar: -0.67175714<br />yvar:  3.242026","xvar: -0.97014022<br />yvar:  3.223014","xvar: -1.26852330<br />yvar:  3.216401","xvar: -1.56690638<br />yvar:  3.222454","xvar: -1.86528946<br />yvar:  3.241437","xvar: -2.16367254<br />yvar:  3.273614","xvar: -2.46205562<br />yvar:  3.319250","xvar: -2.76043870<br />yvar:  3.378611","xvar: -3.05882177<br />yvar:  3.451960","xvar: -3.35720485<br />yvar:  3.539563","xvar: -3.65558793<br />yvar:  3.641683","xvar: -3.95397101<br />yvar:  3.758587","xvar: -4.25235409<br />yvar:  3.890539","xvar: -4.25235409<br />yvar:  3.890539"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.4309672540449,20.4985223259887],"tickmode":"array","ticktext":["-5","0","5","10","15","20"],"tickvals":[-5,0,5,10,15,20],"categoryorder":"array","categoryarray":["-5","0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"xvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-9.35122993433346,32.2037273579942],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[0,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"yvar","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de1b06e2e5":{"x":{},"y":{},"type":"scatter"},"36de593b3c41":{"x":{},"y":{}}},"cur_data":"36de1b06e2e5","visdat":{"36de1b06e2e5":["function (y) ","x"],"36de593b3c41":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Constrained Slope</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span><span class="w">

</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">20</span><span class="w">

</span><span class="n">x</span><span class="m">1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="p">);</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w">
</span><span class="n">y</span><span class="m">1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w">
</span><span class="n">y</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="nf">rep</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">))</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">x</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">y</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">)</span><span class="w">
</span><span class="n">fm</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">)</span><span class="w">

</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">pred</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">predict</span><span class="p">(</span><span class="n">fm</span><span class="p">)),</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">))</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_line</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pred</span><span class="p">))</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-08cd8fcd3bd1c342dcdb" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-08cd8fcd3bd1c342dcdb">{"x":{"data":[{"x":[-1.20706574938542,0.27742924211066,1.08444117668306,-2.34569770262935,0.42912468881105,0.506055892157574,-0.574739960134649,-0.546631855784187,-0.564451999093283,-0.890037829044104,-0.477192699753547,-0.998386444859704,-0.77625389463799,0.0644588172762693,0.959494058970771,-0.110285494390774,-0.511009505806642,-0.911195416629811,-0.83717168026894,2.41583517848934],"y":[-0.96463523348371,-0.513784239453261,1.3135177196286,-4.97201840721615,-0.136090698673565,0.0435974664430989,-2.25679811291106,-2.34524959720731,-1.65273211717392,-2.27692561535491,-2.76041665630904,-2.57884881440874,-2.66139741370276,-0.886044374939471,1.75667859438472,0.342484830212969,0.625798461201777,-2.59574425720332,-0.0684337316805828,3.67386180928427],"text":["x: -1.20706575<br />y: -0.96463523<br />A: 1","x:  0.27742924<br />y: -0.51378424<br />A: 1","x:  1.08444118<br />y:  1.31351772<br />A: 1","x: -2.34569770<br />y: -4.97201841<br />A: 1","x:  0.42912469<br />y: -0.13609070<br />A: 1","x:  0.50605589<br />y:  0.04359747<br />A: 1","x: -0.57473996<br />y: -2.25679811<br />A: 1","x: -0.54663186<br />y: -2.34524960<br />A: 1","x: -0.56445200<br />y: -1.65273212<br />A: 1","x: -0.89003783<br />y: -2.27692562<br />A: 1","x: -0.47719270<br />y: -2.76041666<br />A: 1","x: -0.99838644<br />y: -2.57884881<br />A: 1","x: -0.77625389<br />y: -2.66139741<br />A: 1","x:  0.06445882<br />y: -0.88604437<br />A: 1","x:  0.95949406<br />y:  1.75667859<br />A: 1","x: -0.11028549<br />y:  0.34248483<br />A: 1","x: -0.51100951<br />y:  0.62579846<br />A: 1","x: -0.91119542<br />y: -2.59574426<br />A: 1","x: -0.83717168<br />y: -0.06843373<br />A: 1","x:  2.41583518<br />y:  3.67386181<br />A: 1"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.134088220152031,-0.490685896690943,-0.440547872353227,0.459589441005854,-0.693720246937475,-1.44820491038647,0.574755720900728,-1.02365572296388,-0.0151383003641817,-0.935948601168394,1.10229754620026,-0.475593078869057,-0.709440037512506,-0.501258060594761,-1.6290934690787,-1.16761926209419,-2.18003964894867,-1.34099319210003,-0.294293858763713,-0.46589754040611],"y":[3.0588531247889,3.07693338064503,0.643595993136481,2.7091347433556,-0.0887654965234008,-0.567530283015989,2.58565942595128,0.296860010531625,3.28414988968981,-0.471373006301364,5.31378547704275,0.1177520252314,-0.494844045411452,1.14451238571886,-0.817009545905169,-1.65625619874953,-5.93081989354751,-2.74656135341024,1.37538018587671,0.28524826382047],"text":["x:  0.13408822<br />y:  3.05885312<br />A: 2","x: -0.49068590<br />y:  3.07693338<br />A: 2","x: -0.44054787<br />y:  0.64359599<br />A: 2","x:  0.45958944<br />y:  2.70913474<br />A: 2","x: -0.69372025<br />y: -0.08876550<br />A: 2","x: -1.44820491<br />y: -0.56753028<br />A: 2","x:  0.57475572<br />y:  2.58565943<br />A: 2","x: -1.02365572<br />y:  0.29686001<br />A: 2","x: -0.01513830<br />y:  3.28414989<br />A: 2","x: -0.93594860<br />y: -0.47137301<br />A: 2","x:  1.10229755<br />y:  5.31378548<br />A: 2","x: -0.47559308<br />y:  0.11775203<br />A: 2","x: -0.70944004<br />y: -0.49484405<br />A: 2","x: -0.50125806<br />y:  1.14451239<br />A: 2","x: -1.62909347<br />y: -0.81700955<br />A: 2","x: -1.16761926<br />y: -1.65625620<br />A: 2","x: -2.18003965<br />y: -5.93081989<br />A: 2","x: -1.34099319<br />y: -2.74656135<br />A: 2","x: -0.29429386<br />y:  1.37538019<br />A: 2","x: -0.46589754<br />y:  0.28524826<br />A: 2"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-2.34569770262935,-1.20706574938542,-0.998386444859704,-0.911195416629811,-0.890037829044104,-0.83717168026894,-0.77625389463799,-0.574739960134649,-0.564451999093283,-0.546631855784187,-0.511009505806642,-0.477192699753547,-0.110285494390774,0.0644588172762693,0.27742924211066,0.42912468881105,0.506055892157574,0.959494058970771,1.08444117668306,2.41583517848934],"y":[-5.41468956352435,-2.98581163464146,-2.54066642724312,-2.35467448888161,-2.30954208471104,-2.19677041904751,-2.06682336761101,-1.63696300185974,-1.61501719098083,-1.57700407124562,-1.50101609340177,-1.4288796197909,-0.646209846195649,-0.273453223129944,0.180845607068305,0.504435439017871,0.668541585273845,1.63579527277839,1.90232678511149,4.74239595445227],"text":["x: -2.34569770<br />pred: -5.4146896<br />A: 1","x: -1.20706575<br />pred: -2.9858116<br />A: 1","x: -0.99838644<br />pred: -2.5406664<br />A: 1","x: -0.91119542<br />pred: -2.3546745<br />A: 1","x: -0.89003783<br />pred: -2.3095421<br />A: 1","x: -0.83717168<br />pred: -2.1967704<br />A: 1","x: -0.77625389<br />pred: -2.0668234<br />A: 1","x: -0.57473996<br />pred: -1.6369630<br />A: 1","x: -0.56445200<br />pred: -1.6150172<br />A: 1","x: -0.54663186<br />pred: -1.5770041<br />A: 1","x: -0.51100951<br />pred: -1.5010161<br />A: 1","x: -0.47719270<br />pred: -1.4288796<br />A: 1","x: -0.11028549<br />pred: -0.6462098<br />A: 1","x:  0.06445882<br />pred: -0.2734532<br />A: 1","x:  0.27742924<br />pred:  0.1808456<br />A: 1","x:  0.42912469<br />pred:  0.5044354<br />A: 1","x:  0.50605589<br />pred:  0.6685416<br />A: 1","x:  0.95949406<br />pred:  1.6357953<br />A: 1","x:  1.08444118<br />pred:  1.9023268<br />A: 1","x:  2.41583518<br />pred:  4.7423960<br />A: 1"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-2.18003964894867,-1.6290934690787,-1.44820491038647,-1.34099319210003,-1.16761926209419,-1.02365572296388,-0.935948601168394,-0.709440037512506,-0.693720246937475,-0.501258060594761,-0.490685896690943,-0.475593078869057,-0.46589754040611,-0.440547872353227,-0.294293858763713,-0.0151383003641817,0.134088220152031,0.459589441005854,0.574755720900728,1.10229754620026],"y":[-2.86344687294598,-1.68819352398096,-1.30233027243309,-1.07363110803526,-0.70379772084183,-0.396701242685502,-0.20960839698766,0.273569375601064,0.307102118350445,0.717653706350908,0.740205765858249,0.772401078828159,0.793083160789934,0.847157920472149,1.15914033463685,1.75462228347018,2.07294551430276,2.76728992375297,3.01295739741843,4.13828564100245],"text":["x: -2.18003965<br />pred: -2.8634469<br />A: 2","x: -1.62909347<br />pred: -1.6881935<br />A: 2","x: -1.44820491<br />pred: -1.3023303<br />A: 2","x: -1.34099319<br />pred: -1.0736311<br />A: 2","x: -1.16761926<br />pred: -0.7037977<br />A: 2","x: -1.02365572<br />pred: -0.3967012<br />A: 2","x: -0.93594860<br />pred: -0.2096084<br />A: 2","x: -0.70944004<br />pred:  0.2735694<br />A: 2","x: -0.69372025<br />pred:  0.3071021<br />A: 2","x: -0.50125806<br />pred:  0.7176537<br />A: 2","x: -0.49068590<br />pred:  0.7402058<br />A: 2","x: -0.47559308<br />pred:  0.7724011<br />A: 2","x: -0.46589754<br />pred:  0.7930832<br />A: 2","x: -0.44054787<br />pred:  0.8471579<br />A: 2","x: -0.29429386<br />pred:  1.1591403<br />A: 2","x: -0.01513830<br />pred:  1.7546223<br />A: 2","x:  0.13408822<br />pred:  2.0729455<br />A: 2","x:  0.45958944<br />pred:  2.7672899<br />A: 2","x:  0.57475572<br />pred:  3.0129574<br />A: 2","x:  1.10229755<br />pred:  4.1382856<br />A: 2"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.58377434668528,2.65391182254528],"tickmode":"array","ticktext":["-2","-1","0","1","2"],"tickvals":[-2,-1,0,1,2],"categoryorder":"array","categoryarray":["-2","-1","0","1","2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"x","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-6.49305016207703,5.87601574557226],"tickmode":"array","ticktext":["-6","-3","0","3"],"tickvals":[-6,-3,0,3],"categoryorder":"array","categoryarray":["-6","-3","0","3"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"y","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"A","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de67823c95":{"x":{},"y":{},"colour":{},"type":"scatter"},"36de108a0082":{"x":{},"y":{},"colour":{}}},"cur_data":"36de67823c95","visdat":{"36de67823c95":["function (y) ","x"],"36de108a0082":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<p>Inspire by <a #href="http://stackoverflow.com/questions/4251294/constraining-slope-in-stat-smooth-with-ggplot-plotting-ancova">Stack Overflow</a></p>

<h3>Stat Summary</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">hist</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">Sys.Date</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">0</span><span class="o">:</span><span class="m">13</span><span class="p">,</span><span class="w"> </span><span class="n">counts</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">14</span><span class="p">)</span><span class="w">
</span><span class="n">hist</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">transform</span><span class="p">(</span><span class="n">hist</span><span class="p">,</span><span class="w"> </span><span class="n">weekday</span><span class="o">=</span><span class="n">factor</span><span class="p">(</span><span class="n">weekdays</span><span class="p">(</span><span class="n">date</span><span class="p">),</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s1">'Monday'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Tuesday'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Wednesday'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Thursday'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Friday'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Saturday'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Sunday'</span><span class="p">)))</span><span class="w">

</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">hist</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">weekday</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">counts</span><span class="p">,</span><span class="w"> </span><span class="n">group</span><span class="o">=</span><span class="m">1</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">geom_point</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s1">'summary'</span><span class="p">,</span><span class="w"> </span><span class="n">fun.y</span><span class="o">=</span><span class="n">sum</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">stat_summary</span><span class="p">(</span><span class="n">fun.y</span><span class="o">=</span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="o">=</span><span class="s2">"line"</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-4a07e629d0e5b2ad6cbb" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-4a07e629d0e5b2ad6cbb">{"x":{"data":[{"x":[1,2,3,4,5,6,7],"y":[9.5,10.5,4.5,5.5,6.5,7.5,8.5],"text":["weekday: Monday<br />counts:  9.5","weekday: Tuesday<br />counts: 10.5","weekday: Wednesday<br />counts:  4.5","weekday: Thursday<br />counts:  5.5","weekday: Friday<br />counts:  6.5","weekday: Saturday<br />counts:  7.5","weekday: Sunday<br />counts:  8.5"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7],"y":[19,21,9,11,13,15,17],"text":["weekday: Monday<br />counts: 19","weekday: Tuesday<br />counts: 21","weekday: Wednesday<br />counts:  9","weekday: Thursday<br />counts: 11","weekday: Friday<br />counts: 13","weekday: Saturday<br />counts: 15","weekday: Sunday<br />counts: 17"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,7.6],"tickmode":"array","ticktext":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"tickvals":[1,2,3,4,5,6,7],"categoryorder":"array","categoryarray":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"weekday","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0,22],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"counts","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de52dd0f75":{"x":{},"y":{},"type":"scatter"},"36de5c180750":{"x":{},"y":{}}},"cur_data":"36de52dd0f75","visdat":{"36de52dd0f75":["function (y) ","x"],"36de5c180750":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<p>Inspire by <a #href="http://stackoverflow.com/questions/16350720/using-geom-line-with-x-axis-being-factors">Stack Overflow</a> </p>

<h3>Control Line Order</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">),</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">),</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">))</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">dat</span><span class="p">[</span><span class="n">order</span><span class="p">(</span><span class="n">dat</span><span class="o">$</span><span class="n">order</span><span class="p">),],</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">0.25</span><span class="p">,</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="n">order</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
     </span><span class="n">geom_path</span><span class="p">()</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-a380861a871cdbb28c5e" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-a380861a871cdbb28c5e">{"x":{"data":[{"x":[7,8,9,6,5,2,4,1,10,3],"y":[10,9,6,4,2,7,8,5,1,3],"text":["x:  7<br />y: 10","x:  8<br />y:  9","x:  9<br />y:  6","x:  6<br />y:  4","x:  5<br />y:  2","x:  2<br />y:  7","x:  4<br />y:  8","x:  1<br />y:  5","x: 10<br />y:  1","x:  3<br />y:  3"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"frame":null},{"x":[7,8,9,6,5,2,4,1,10,3],"y":[10.25,9.25,6.25,4.25,2.25,7.25,8.25,5.25,1.25,3.25],"text":[1,2,3,4,5,6,7,8,9,10],"hovertext":["x:  7<br />y + 0.25: 10.25<br />order:  1","x:  8<br />y + 0.25:  9.25<br />order:  2","x:  9<br />y + 0.25:  6.25<br />order:  3","x:  6<br />y + 0.25:  4.25<br />order:  4","x:  5<br />y + 0.25:  2.25<br />order:  5","x:  2<br />y + 0.25:  7.25<br />order:  6","x:  4<br />y + 0.25:  8.25<br />order:  7","x:  1<br />y + 0.25:  5.25<br />order:  8","x: 10<br />y + 0.25:  1.25<br />order:  9","x:  3<br />y + 0.25:  3.25<br />order: 10"],"textfont":{"size":14.6645669291339,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.55,10.45],"tickmode":"array","ticktext":["2.5","5.0","7.5","10.0"],"tickvals":[2.5,5,7.5,10],"categoryorder":"array","categoryarray":["2.5","5.0","7.5","10.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"x","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.5375,10.7125],"tickmode":"array","ticktext":["2.5","5.0","7.5","10.0"],"tickvals":[2.5,5,7.5,10],"categoryorder":"array","categoryarray":["2.5","5.0","7.5","10.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"y","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de4cd52224":{"x":{},"y":{},"type":"scatter"},"36de19b73ddc":{"x":{},"y":{},"label":{}},"36de29fd35ed":{"x":{},"y":{}}},"cur_data":"36de4cd52224","visdat":{"36de4cd52224":["function (y) ","x"],"36de19b73ddc":["function (y) ","x"],"36de29fd35ed":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Horizontal Line w/ Segment</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span><span class="n">aes</span><span class="p">(</span><span class="n">mpg</span><span class="p">,</span><span class="n">qsec</span><span class="p">))</span><span class="o">+</span><span class="n">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_segment</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">15</span><span class="p">,</span><span class="n">xend</span><span class="o">=</span><span class="m">20</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="m">18</span><span class="p">,</span><span class="n">yend</span><span class="o">=</span><span class="m">18</span><span class="p">))</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-37aa2aa25ae9235b81ed" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-37aa2aa25ae9235b81ed">{"x":{"data":[{"x":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"y":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"text":["mpg: 21.0<br />qsec: 16.46","mpg: 21.0<br />qsec: 17.02","mpg: 22.8<br />qsec: 18.61","mpg: 21.4<br />qsec: 19.44","mpg: 18.7<br />qsec: 17.02","mpg: 18.1<br />qsec: 20.22","mpg: 14.3<br />qsec: 15.84","mpg: 24.4<br />qsec: 20.00","mpg: 22.8<br />qsec: 22.90","mpg: 19.2<br />qsec: 18.30","mpg: 17.8<br />qsec: 18.90","mpg: 16.4<br />qsec: 17.40","mpg: 17.3<br />qsec: 17.60","mpg: 15.2<br />qsec: 18.00","mpg: 10.4<br />qsec: 17.98","mpg: 10.4<br />qsec: 17.82","mpg: 14.7<br />qsec: 17.42","mpg: 32.4<br />qsec: 19.47","mpg: 30.4<br />qsec: 18.52","mpg: 33.9<br />qsec: 19.90","mpg: 21.5<br />qsec: 20.01","mpg: 15.5<br />qsec: 16.87","mpg: 15.2<br />qsec: 17.30","mpg: 13.3<br />qsec: 15.41","mpg: 19.2<br />qsec: 17.05","mpg: 27.3<br />qsec: 18.90","mpg: 26.0<br />qsec: 16.70","mpg: 30.4<br />qsec: 16.90","mpg: 15.8<br />qsec: 14.50","mpg: 19.7<br />qsec: 15.50","mpg: 15.0<br />qsec: 14.60","mpg: 21.4<br />qsec: 18.60"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20,null,15,20],"y":[18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18,null,18,18],"text":"x: 15<br />y: 18<br />xend: 20<br />yend: 18","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.225,35.075],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"mpg","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[14.08,23.32],"tickmode":"array","ticktext":["16","18","20","22"],"tickvals":[16,18,20,22],"categoryorder":"array","categoryarray":["16","18","20","22"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"qsec","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de4adaf85c":{"x":{},"y":{},"type":"scatter"},"36de5e00beae":{"x":{},"y":{},"xend":{},"yend":{}}},"cur_data":"36de4adaf85c","visdat":{"36de4adaf85c":["function (y) ","x"],"36de5e00beae":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<p>Inspired by <a #href="http://stackoverflow.com/questions/20311718/add-horizontal-line-to-ggplot-for-specified-interval-of-x-axis">Stack Overflow</a></p>

<h3>Add Points</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">as.factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">)),</span><span class="w"> 
               </span><span class="n">value</span><span class="o">=</span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">11</span><span class="p">,</span><span class="w"> </span><span class="m">10.5</span><span class="p">,</span><span class="w"> </span><span class="m">11.4</span><span class="p">,</span><span class="w"> </span><span class="m">10.9</span><span class="p">,</span><span class="w"> </span><span class="m">11.6</span><span class="p">)),</span><span class="w"> 
               </span><span class="n">side</span><span class="o">=</span><span class="n">as.factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"E"</span><span class="p">,</span><span class="s2">"F"</span><span class="p">,</span><span class="s2">"E"</span><span class="p">,</span><span class="s2">"F"</span><span class="p">,</span><span class="s2">"E"</span><span class="p">,</span><span class="s2">"F"</span><span class="p">,</span><span class="s2">"E"</span><span class="p">,</span><span class="s2">"F"</span><span class="p">,</span><span class="s2">"E"</span><span class="p">,</span><span class="s2">"F"</span><span class="p">)))</span><span class="w">


</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">group</span><span class="o">=</span><span class="n">side</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">side</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
     </span><span class="n">geom_line</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-75e1e88d4f436d3d67e5" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-75e1e88d4f436d3d67e5">{"x":{"data":[{"x":[1,2,3,4,5],"y":[7,9,10,10.5,10.9],"text":["time: 1<br />value:  7.0<br />side: E<br />side: E","time: 2<br />value:  9.0<br />side: E<br />side: E","time: 3<br />value: 10.0<br />side: E<br />side: E","time: 4<br />value: 10.5<br />side: E<br />side: E","time: 5<br />value: 10.9<br />side: E<br />side: E"],"type":"scatter","mode":"lines+markers","line":{"width":3.77952755905512,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"E","legendgroup":"E","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"frame":null},{"x":[1,2,3,4,5],"y":[8,10,11,11.4,11.6],"text":["time: 1<br />value:  8.0<br />side: F<br />side: F","time: 2<br />value: 10.0<br />side: F<br />side: F","time: 3<br />value: 11.0<br />side: F<br />side: F","time: 4<br />value: 11.4<br />side: F<br />side: F","time: 5<br />value: 11.6<br />side: F<br />side: F"],"type":"scatter","mode":"lines+markers","line":{"width":3.77952755905512,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,5.6],"tickmode":"array","ticktext":["1","2","3","4","5"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1","2","3","4","5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"time","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[6.77,11.83],"tickmode":"array","ticktext":["7","8","9","10","11"],"tickvals":[7,8,9,10,11],"categoryorder":"array","categoryarray":["7","8","9","10","11"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"value","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"side","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de714420a7":{"x":{},"y":{},"colour":{},"type":"scatter"},"36de54c2ea97":{"x":{},"y":{},"colour":{}}},"cur_data":"36de714420a7","visdat":{"36de714420a7":["function (y) ","x"],"36de54c2ea97":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Add Regression w/ Abline</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">set.seed</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="w">
</span><span class="n">dd</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rbind</span><span class="p">(</span><span class="n">data.frame</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="n">fac</span><span class="o">=</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="n">rnorm</span><span class="p">(</span><span class="m">10</span><span class="p">)),</span><span class="w">
            </span><span class="n">data.frame</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">2</span><span class="o">*</span><span class="n">x</span><span class="p">,</span><span class="n">fac</span><span class="o">=</span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="n">rnorm</span><span class="p">(</span><span class="m">10</span><span class="p">)))</span><span class="w">
</span><span class="n">coef</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="n">y</span><span class="o">~</span><span class="n">x</span><span class="o">:</span><span class="n">fac</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">dd</span><span class="p">)</span><span class="o">$</span><span class="n">coefficients</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">qplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dd</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="n">fac</span><span class="p">)</span><span class="o">+</span><span class="w">
    </span><span class="n">geom_abline</span><span class="p">(</span><span class="n">slope</span><span class="o">=</span><span class="n">coef</span><span class="p">[</span><span class="s2">"x:faca"</span><span class="p">],</span><span class="w"> </span><span class="n">intercept</span><span class="o">=</span><span class="n">coef</span><span class="p">[</span><span class="s2">"(Intercept)"</span><span class="p">])</span><span class="o">+</span><span class="w">
    </span><span class="n">geom_abline</span><span class="p">(</span><span class="n">slope</span><span class="o">=</span><span class="n">coef</span><span class="p">[</span><span class="s2">"x:facb"</span><span class="p">],</span><span class="w"> </span><span class="n">intercept</span><span class="o">=</span><span class="n">coef</span><span class="p">[</span><span class="s2">"(Intercept)"</span><span class="p">])</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-be854b1703ab3bfccaae" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-be854b1703ab3bfccaae">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10],"y":[0.373546189257668,2.18364332422208,2.16437138758995,5.59528080213779,5.32950777181536,5.17953161588198,7.48742905242849,8.73832470512922,9.57578135165349,9.69461161284364],"text":["x:  1<br />y:  0.3735462<br />fac: a","x:  2<br />y:  2.1836433<br />fac: a","x:  3<br />y:  2.1643714<br />fac: a","x:  4<br />y:  5.5952808<br />fac: a","x:  5<br />y:  5.3295078<br />fac: a","x:  6<br />y:  5.1795316<br />fac: a","x:  7<br />y:  7.4874291<br />fac: a","x:  8<br />y:  8.7383247<br />fac: a","x:  9<br />y:  9.5757814<br />fac: a","x: 10<br />y:  9.6946116<br />fac: a"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"a","legendgroup":"a","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,4,6,8,10,12,14,16,18,20],"y":[2.51178116845085,2.38984323641143,2.3787594194582,1.7853001128225,6.12493091814311,5.95506639098477,6.98380973690105,8.9438362106853,9.82122119509809,10.5939013212175],"text":["x:  2<br />y:  2.5117812<br />fac: b","x:  4<br />y:  2.3898432<br />fac: b","x:  6<br />y:  2.3787594<br />fac: b","x:  8<br />y:  1.7853001<br />fac: b","x: 10<br />y:  6.1249309<br />fac: b","x: 12<br />y:  5.9550664<br />fac: b","x: 14<br />y:  6.9838097<br />fac: b","x: 16<br />y:  8.9438362<br />fac: b","x: 18<br />y:  9.8212212<br />fac: b","x: 20<br />y: 10.5939013<br />fac: b"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"b","legendgroup":"b","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.0499999999999999,20.95],"y":[-0.0412870756171871,21.7776752474046],"text":"intercept: -0.09348555<br />slope: 1.043969","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.0499999999999999,20.95],"y":[-0.0670028834278464,11.0027517747383],"text":"intercept: -0.09348555<br />slope: 0.5296533","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.0499999999999999,20.95],"tickmode":"array","ticktext":["5","10","15","20"],"tickvals":[5,10,15,20],"categoryorder":"array","categoryarray":["5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"x","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.137471567340324,11.1049190778155],"tickmode":"array","ticktext":["0.0","2.5","5.0","7.5","10.0"],"tickvals":[0,2.5,5,7.5,10],"categoryorder":"array","categoryarray":["0.0","2.5","5.0","7.5","10.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"y","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"fac","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36de5da8a860":{"x":{},"y":{},"colour":{},"type":"scatter"},"36de5cb3ad98":{"intercept":{},"slope":{}},"36de557d4a21":{"intercept":{},"slope":{}}},"cur_data":"36de5da8a860","visdat":{"36de5da8a860":["function (y) ","x"],"36de5cb3ad98":["function (y) ","x"],"36de557d4a21":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<p>Inspired by <a #href="http://stats.stackexchange.com/questions/39233/regression-lines-with-same-intercept">Stats Exchange</a></p>

<h3>What About Dash?</h3>

<p><a href="https://dashr.plot.ly/">Dash for R</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. </p>

<p>Learn about how to install Dash for R at https://dashr.plot.ly/installation.</p>

<p>Everywhere in this page that you see <code>fig</code>, you can display the same figure in a Dash for R application by passing it to the <code>figure</code> argument of the <a href="https://dashr.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dashCoreComponents</code> package like this:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> 
</span><span class="c1"># fig &lt;- fig %&gt;% add_trace( ... )</span><span class="w">
</span><span class="c1"># fig &lt;- fig %&gt;% layout( ... ) </span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashCoreComponents</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashHtmlComponents</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Dash</span><span class="o">$</span><span class="n">new</span><span class="p">()</span><span class="w">
</span><span class="n">app</span><span class="o">$</span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">htmlDiv</span><span class="p">(</span><span class="w">
        </span><span class="nf">list</span><span class="p">(</span><span class="w">
            </span><span class="n">dccGraph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span><span class="w"> 
        </span><span class="p">)</span><span class="w">
     </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="o">$</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">dev_tools_hot_reload</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>

        </section>

        

        <a href="https://dashr.plotly.com"><img width="100%" style="margin-top: 20px;"
            src="/all_static/images/dash.png" /></a>

        
        <!--End Plotly Basics Section-->
      </section>
    </div>
  </main>


  <script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


  <footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly ‚Äî from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2021 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "ggplot2";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'r_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>

</html>