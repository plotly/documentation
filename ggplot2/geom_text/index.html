<!DOCTYPE html>
<html>

<head>
  <!-- This page was last built at 2021-09-02 19:05 -->

  <meta charset="utf-8" />

  <link rel="canonical" href="https://plotly.com/ggplot2/geom_text/" />

  <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
  <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    crossorigin="anonymous">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

  
  
  <!-- code highlighting -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <!-- Mathjax -->
  <script type='text/javascript'
    src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>

  

  
  <!-- Plotly.js hardcoded to 1.x due to Plotly.plot() -->
  <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
  <script src="/all_static/r_files/r_dependencies.js"></script>
  
  
  
  <!--
      //// Stylesheets
      -->

  <!-- Fonts -->
  <link
    href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap"
    rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Main Stylesheets -->
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/main.css?version=../all_sta">
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/improve.css?version=../all_sta">

  <!-- LOCAL DEV STYLESHEET -->
  <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

  <!-- Icon -->
  <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

  <!-- Google Tags-->
  <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



  <!-- META TAGS -->
  <!-- SEO Tags - title, meta_description -->
<title>geom_text |  ggplot2  | Plotly  </title>
<meta name="description" content="How to make a text graph using ggplotly.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="geom_text"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/geom_text.jpg">
    <meta property="og:description" content="How to make a text graph using ggplotly."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="geom_text"/>
    <meta name="twitter:url" content="https://plotly.com/ggplot2/geom_text/"/>
    <meta name="twitter:description" content="How to make a text graph using ggplotly."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/geom_text.jpg">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>

<body data-spy="scroll" data-target=".watch" style="position:relative;">
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


  <!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

  <div class="header-container">
    <div id="campaign-zero-banner">
        ‚úäüèø Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july" style="color:deeppink">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/ggplot2">ggplot2</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/ggplot2/#basic-charts">Basic</a>

                        

                        
                        &gt;<a href="#">geom_text</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li><a style="font-family: verdana, tahoma, open sans, sans-serif; font-size: 14px; font-weight: bold;" href="https://plotly.com/get-pricing/">PRICING</a></li>
                        <li><a href="https://plotly.com/get-demo" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">GET DEMO</a></li>
                            <li><a href="http://plotly.cloud" data-mode="1" target="_blank" id="teal-background" class="typeform-share button --enterprise-quaternary"
                                style="font-family: verdana, tahoma, open sans, sans-serif;">DASH CLOUD</a></li>
                            
<iframe src="https://ghbtns.com/github-btn.html?user=ropensci&repo=plotly&type=star&count=true&size=large" style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>
                   
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


  <main class="--page page--single --index">

    <div class="--wrap">
      <!-- aside - Main Sidebar-->
      <aside class="--sidebar-container">
        <div class="--sidebar-fixed reference" data-spy="affix" id="where">
          
          <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
            <input id="modal-input" style="border-radius: 5px; width: 100%;" type="text" placeholder="   Search..."
              readonly />
          </button>
          
          <header class="--sidebar-header">On This Page</header>
          <nav class="--sidebar-body watch" id="where">
            <ul class="--sidebar-list"></ul>
          </nav>
        </div>
      </aside>
      <!-- Main-->
      <section class="--page-body --tutorial-index --base">
        <header class="--welcome">
          <div class="--welcome-body">
            <!--div.--wrap-inner-->
            <div class="--title">
              <div class="--body">
                <div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                
                <a id="forklink" href= "https://github.com/plotly/plotly.r-docs/edit/master/ggplot2/2019-07-30-geom_text.Rmd" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>
                
                <h1>
                  geom_text
                  
                  in 
                  ggplot2
                   
                  
                </h1>
                <p>How to make a text graph using ggplotly. </p>
                <br>  
                
                



<div class="db-client-lib">
  <label>
    This page in another language
  </label>
  <div class="list-lib-wrap">
    <div class="list-lib">
      
      
        <a href=" //ggplot2/layers/geoms/geom_text/" class="list-lib-item ">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            
            
          </p>
        </a>
        
      
      <a href=" /ggplot2/geom_text/" class="current list-lib-item ggplot2">
        
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            ggplot2
            
          </p>
        </a>
        
    </div>
  </div>
</div>

                






<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/r/is-plotly-free/">free and open-source</a> graphing library for R. We recommend you read our <a href="/r/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/r/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/r/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>


              </div>
            </div>
          </div>
        </header>

        <!-- Start Plotly Basics Section -->
        <section class="tutorial-content">

          






          <h3>Basic Text Graph</h3>

<p>Sources: <a href="https://www.idea.int/data-tools/continent-view/Europe/40?st=par#rep">International IDEA</a> for national turnout and <a href="https://election-results.eu/turnout/">European Parliament</a> for European turnout, while regional classifications are based on <a href="https://publications.europa.eu/en/web/eu-vocabularies/th-concept-scheme/-/resource/eurovoc/100277?target=Browse">EuroVoc</a>.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">recent_turnout</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv"</span><span class="p">,</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"British"</span><span class="p">,</span><span class="s2">"Northern"</span><span class="p">,</span><span class="s2">"Western"</span><span class="p">,</span><span class="s2">"Mediterranean"</span><span class="p">,</span><span class="s2">"Central/Eastern"</span><span class="p">))</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">recent_turnout</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nat_turnout</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">euro_turnout</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="o">/</span><span class="m">3.5</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="n">abbreviation</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">region</span><span class="p">),</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Recent turnout in European Union countries"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Latest legislative or presidential election (whichever had higher turnout)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"May 2019 European Parliament election"</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-c597753e150c20ec2d1c" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-c597753e150c20ec2d1c">{"x":{"data":[{"x":[65.09,68.93],"y":[49.7,36.9],"text":["IE","UK"],"hovertext":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE<br />region: British","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK<br />region: British"],"textfont":{"size":[8.27446618557142,20.7098630516402],"color":"rgba(248,118,109,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.6,68.73,87.18],"y":[66,40.7,55.27],"text":["DK","FI","SV"],"hovertext":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK<br />region: Northern","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI<br />region: Northern","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV<br />region: Northern"],"textfont":{"size":[8.69525751294995,8.56376047321249,10.3269959632001],"color":"rgba(163,165,0,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,74.56,76.15,89.66,81.93],"y":[59.8,88.47,50.12,61.38,84.24,41.93],"text":["AT","BE","FR","DE","LU","NL"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT<br />region: Western","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE<br />region: Western","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR<br />region: Western","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE<br />region: Western","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU<br />region: Western","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL<br />region: Western"],"textfont":{"size":[9.87368513237624,10.8522782679064,21.014498802136,22.6771653543307,4.69807285000024,12.3959600590339],"color":"rgba(0,191,125,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.97,57.92,72.93,92.06,55.84,71.76],"y":[44.99,58.69,54.5,72.7,30.75,60.73],"text":["CY","GR","IT","MT","PT","ES"],"hovertext":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY<br />region: Mediterranean","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR<br />region: Mediterranean","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT<br />region: Mediterranean","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT<br />region: Mediterranean","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT<br />region: Mediterranean","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES<br />region: Mediterranean"],"textfont":{"size":[5.69152024420555,10.5647342474954,20.3746929107578,3.77952755905512,10.5885486595156,18.593054421317],"color":"rgba(0,176,246,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.28,59.05,61.88,63.67,69.67,54.58,57.37,55.34,64.11,59.82,52.64],"y":[32.64,29.86,28.72,37.6,43.36,33.53,53.48,45.68,51.07,22.74,28.89],"text":["BU","HR","CZ","EE","HU","LV","LT","PO","RO","SK","SI"],"hovertext":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU<br />region: Central/Eastern","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR<br />region: Central/Eastern","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ<br />region: Central/Eastern","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE<br />region: Central/Eastern","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU<br />region: Central/Eastern","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV<br />region: Central/Eastern","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT<br />region: Central/Eastern","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO<br />region: Central/Eastern","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO<br />region: Central/Eastern","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK<br />region: Central/Eastern","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI<br />region: Central/Eastern"],"textfont":{"size":[9.25389493132619,8.02898174244089,10.5429193119765,5.69099951491581,10.2533526517882,6.3705385125721,7.01217536060109,16.7697791302095,13.5228820476005,8.51258344730506,6.40651545487506],"color":"rgba(231,107,243,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.669,94.031],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.4535,91.7565],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"population/3.5<br />region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3ae34506602a":{"x":{},"y":{},"size":{},"label":{},"colour":{},"type":"scatter"}},"cur_data":"3ae34506602a","visdat":{"3ae34506602a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Overlaid Points</h3>

<p>Colour-coding the text itself might present readability issues. Another possible use of geom_text is to keep the text grey, but overlay it on a coloured point graph.</p>

<p>Adding the <em>text</em> option within aes() allows us to control the text that appears when hovering over a point.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">recent_turnout</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv"</span><span class="p">,</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"British"</span><span class="p">,</span><span class="s2">"Northern"</span><span class="p">,</span><span class="s2">"Western"</span><span class="p">,</span><span class="s2">"Mediterranean"</span><span class="p">,</span><span class="s2">"Central/Eastern"</span><span class="p">))</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">recent_turnout</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nat_turnout</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">euro_turnout</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s2">"country:"</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">)),</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="o">/</span><span class="m">3.5</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="n">abbreviation</span><span class="p">),</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Recent turnout in European Union countries"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Latest legislative or presidential election (whichever had higher turnout)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"May 2019 European Parliament election"</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-1ce433d66c4b7103b2d6" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-1ce433d66c4b7103b2d6">{"x":{"data":[{"x":[65.09,68.93],"y":[49.7,36.9],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.4,"size":[8.41088803645276,20.7175535740913],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.6,68.73,87.18],"y":[66,40.7,55.27],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.4,"size":[8.81885233909577,8.69114555393357,10.4150843766811],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,74.56,76.15,89.66,81.93],"y":[59.8,88.47,50.12,61.38,84.24,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.4,"size":[9.96993989428586,10.9320541101783,21.0209381144539,22.6771653543307,5.24932243908293,12.4564074244088],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.97,57.92,72.93,92.06,55.84,71.76],"y":[44.99,58.69,54.5,72.7,30.75,60.73],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.4,"size":[6.00705898418766,10.6489226159428,20.3837891284099,4.92830491200919,10.6723593906737,18.6102172156867],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.28,59.05,61.88,63.67,69.67,54.58,57.37,55.34,64.11,59.82,52.64],"y":[32.64,29.86,28.72,37.6,43.36,33.53,53.48,45.68,51.07,22.74,28.89],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":0.4,"size":[9.36322189357758,8.17393536632179,10.6274556291592,6.00661368611665,10.3426995591886,6.6094072334863,7.20459466286421,16.7965451058184,13.572475771793,8.64149472039324,6.64226277108161],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,56.28,59.05,73.97,61.88,84.6,63.67,68.73,74.56,76.15,57.92,69.67,65.09,72.93,54.58,57.37,89.66,92.06,81.93,55.34,55.84,64.11,59.82,52.64,71.76,87.18,68.93],"y":[59.8,88.47,32.64,29.86,44.99,28.72,66,37.6,40.7,50.12,61.38,58.69,43.36,49.7,54.5,33.53,53.48,84.24,72.7,41.93,45.68,30.75,51.07,22.74,28.89,60.73,55.27,36.9],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[7.03096748066861,7.55308013522302,6.70028837064015,6.04675560668799,4.79964055605844,7.38802663154886,6.40223634589972,4.79936272930705,6.33207821174708,12.9749697302484,13.8620587723506,7.39966564012065,7.23353298947008,6.17772988966747,12.6336115700298,5.16191985040046,5.504254888141,4.26960265029721,3.77952755905512,8.37668676855211,10.7102677051843,7.41237143727481,8.97793790098265,6.30477353130473,5.18111477029776,11.6830469610983,7.27282419581048,12.8124362169948],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.669,94.031],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.4535,91.7565],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"population<br />region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3ae34327a61b":{"x":{},"y":{},"size":{},"colour":{},"text":{},"type":"scatter"},"3ae37294a004":{"x":{},"y":{},"size":{},"label":{}}},"cur_data":"3ae34327a61b","visdat":{"3ae34327a61b":["function (y) ","x"],"3ae37294a004":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Customed Colour and Size Scale</h3>

<p>Let&#39;s use the LaCroixColoR package to spruce up the colour scheme. In addition, by using scale_size_continuous, we can make sure that none of the text is too small.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">recent_turnout</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv"</span><span class="p">,</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"British"</span><span class="p">,</span><span class="s2">"Northern"</span><span class="p">,</span><span class="s2">"Western"</span><span class="p">,</span><span class="s2">"Mediterranean"</span><span class="p">,</span><span class="s2">"Central/Eastern"</span><span class="p">))</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">LaCroixColoR</span><span class="p">)</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">recent_turnout</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nat_turnout</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">euro_turnout</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s2">"country:"</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">)),</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="o">/</span><span class="m">3.5</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="n">abbreviation</span><span class="p">),</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_colour_manual</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">lacroix_palette</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s2">"PeachPear"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_size_continuous</span><span class="p">(</span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Recent turnout in European Union countries"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Latest legislative or presidential election (whichever had higher turnout)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"May 2019 European Parliament election"</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-45698115ae361b021a19" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-45698115ae361b021a19">{"x":{"data":[{"x":[65.09,68.93],"y":[49.7,36.9],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,50,0,1)","opacity":0.4,"size":[15.969943154563,28.2766086922016],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,50,0,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.6,68.73,87.18],"y":[66,40.7,55.27],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,161,124,1)","opacity":0.4,"size":[16.377907457206,16.2502006720438,17.9741394947913],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(233,161,124,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,74.56,76.15,89.66,81.93],"y":[59.8,88.47,50.12,61.38,84.24,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,228,166,1)","opacity":0.4,"size":[17.5289950123961,18.4911092282885,28.5799932325641,30.2362204724409,12.8083775571932,20.0154625425191],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(233,228,166,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.97,57.92,72.93,92.06,55.84,71.76],"y":[44.99,58.69,54.5,72.7,30.75,60.73],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(27,182,175,1)","opacity":0.4,"size":[13.5661141022979,18.207977734053,27.9428442465202,12.4873600301194,18.2314145087839,26.1692723337969],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(27,182,175,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.28,59.05,61.88,63.67,69.67,54.58,57.37,55.34,64.11,59.82,52.64],"y":[32.64,29.86,28.72,37.6,43.36,33.53,53.48,45.68,51.07,22.74,28.89],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,118,187,1)","opacity":0.4,"size":[16.9222770116878,15.732990484432,18.1865107472694,13.5656688042269,17.9017546772988,14.1684623515965,14.7636497809744,24.3556002239286,21.1315308899033,16.2005498385035,14.2013178891918],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,118,187,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,56.28,59.05,73.97,61.88,84.6,63.67,68.73,74.56,76.15,57.92,69.67,65.09,72.93,54.58,57.37,89.66,92.06,81.93,55.34,55.84,64.11,59.82,52.64,71.76,87.18,68.93],"y":[59.8,88.47,32.64,29.86,44.99,28.72,66,37.6,40.7,50.12,61.38,58.69,43.36,49.7,54.5,33.53,53.48,84.24,72.7,41.93,45.68,30.75,51.07,22.74,28.89,60.73,55.27,36.9],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[14.5900225987788,15.1121352533333,14.2593434887504,13.6058107247982,12.3586956741687,14.9470817496591,13.96129146401,12.3584178474173,13.8911333298573,20.5340248483586,21.4211138904608,14.9587207582309,14.7925881075803,13.7367850077777,20.1926666881401,12.7209749685107,13.0633100062512,11.8286577684074,11.3385826771654,15.9357418866623,18.2693228232945,14.971426555385,16.5369930190929,13.863828649415,12.740169888408,19.2421020792086,14.8318793139207,20.371491335105],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.669,94.031],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.4535,91.7565],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"population<br />region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3ae3201ecca4":{"x":{},"y":{},"size":{},"colour":{},"text":{},"type":"scatter"},"3ae32f0bd3d5":{"x":{},"y":{},"size":{},"label":{}}},"cur_data":"3ae3201ecca4","visdat":{"3ae3201ecca4":["function (y) ","x"],"3ae32f0bd3d5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Adding a regression</h3>

<p>Adding a regression line as well as a label. geom_smooth does not allow for adjusting the transparency of the line (using alpha), which is why stat_smooth is used here. annotate is used to include a single text label (geom_text would create one label for every data point, all overlapped with each other).</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">recent_turnout</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv"</span><span class="p">,</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"British"</span><span class="p">,</span><span class="s2">"Northern"</span><span class="p">,</span><span class="s2">"Western"</span><span class="p">,</span><span class="s2">"Mediterranean"</span><span class="p">,</span><span class="s2">"Central/Eastern"</span><span class="p">))</span><span class="w">
</span><span class="n">m</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="n">euro_turnout</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">nat_turnout</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recent_turnout</span><span class="p">)</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">LaCroixColoR</span><span class="p">)</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">recent_turnout</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nat_turnout</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">euro_turnout</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">stat_smooth</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="s2">"line"</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="n">se</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s2">"country:"</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">)),</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="o">/</span><span class="m">3.5</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="n">abbreviation</span><span class="p">),</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_colour_manual</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">lacroix_palette</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s2">"PeachPear"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_size_continuous</span><span class="p">(</span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Recent turnout in European Union countries"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Latest legislative or presidential election (whichever had higher turnout)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"May 2019 European Parliament election"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">annotate</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="m">60</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="m">80</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paste</span><span class="p">(</span><span class="s2">"European turnout = \n"</span><span class="p">,</span><span class="w">
                                                  </span><span class="nf">round</span><span class="p">(</span><span class="n">unname</span><span class="p">(</span><span class="n">coef</span><span class="p">(</span><span class="n">m</span><span class="p">)[</span><span class="m">2</span><span class="p">]),</span><span class="m">2</span><span class="p">),</span><span class="w">
                                                  </span><span class="s2">"x national turnout"</span><span class="p">,</span><span class="w">
                                                  </span><span class="nf">round</span><span class="p">(</span><span class="n">unname</span><span class="p">(</span><span class="n">coef</span><span class="p">(</span><span class="n">m</span><span class="p">)[</span><span class="m">1</span><span class="p">]),</span><span class="m">1</span><span class="p">)))</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-cb1c5fa0fab5bc5babd5" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-cb1c5fa0fab5bc5babd5">{"x":{"data":[{"x":[52.64,53.1389873417722,53.6379746835443,54.1369620253165,54.6359493670886,55.1349367088608,55.6339240506329,56.1329113924051,56.6318987341772,57.1308860759494,57.6298734177215,58.1288607594937,58.6278481012658,59.126835443038,59.6258227848101,60.1248101265823,60.6237974683544,61.1227848101266,61.6217721518987,62.1207594936709,62.619746835443,63.1187341772152,63.6177215189873,64.1167088607595,64.6156962025317,65.1146835443038,65.613670886076,66.1126582278481,66.6116455696203,67.1106329113924,67.6096202531646,68.1086075949367,68.6075949367089,69.106582278481,69.6055696202532,70.1045569620253,70.6035443037975,71.1025316455696,71.6015189873418,72.1005063291139,72.5994936708861,73.0984810126582,73.5974683544304,74.0964556962025,74.5954430379747,75.0944303797468,75.593417721519,76.0924050632911,76.5913924050633,77.0903797468355,77.5893670886076,78.0883544303798,78.5873417721519,79.0863291139241,79.5853164556962,80.0843037974684,80.5832911392405,81.0822784810127,81.5812658227848,82.080253164557,82.5792405063291,83.0782278481013,83.5772151898734,84.0762025316456,84.5751898734177,85.0741772151899,85.573164556962,86.0721518987342,86.5711392405063,87.0701265822785,87.5691139240506,88.0681012658228,88.5670886075949,89.0660759493671,89.5650632911392,90.0640506329114,90.5630379746835,91.0620253164557,91.5610126582279,92.06],"y":[31.0311865038497,31.5571160397105,32.0830455755713,32.6089751114321,33.1349046472929,33.6608341831536,34.1867637190144,34.7126932548752,35.238622790736,35.7645523265968,36.2904818624576,36.8164113983184,37.3423409341791,37.8682704700399,38.3942000059007,38.9201295417615,39.4460590776223,39.9719886134831,40.4979181493438,41.0238476852046,41.5497772210654,42.0757067569262,42.601636292787,43.1275658286478,43.6534953645086,44.1794249003693,44.7053544362301,45.2312839720909,45.7572135079517,46.2831430438125,46.8090725796732,47.335002115534,47.8609316513948,48.3868611872556,48.9127907231164,49.4387202589772,49.9646497948379,50.4905793306987,51.0165088665595,51.5424384024203,52.0683679382811,52.5942974741419,53.1202270100027,53.6461565458634,54.1720860817242,54.698015617585,55.2239451534458,55.7498746893066,56.2758042251674,56.8017337610282,57.3276632968889,57.8535928327497,58.3795223686105,58.9054519044713,59.4313814403321,59.9573109761929,60.4832405120536,61.0091700479144,61.5350995837752,62.061029119636,62.5869586554968,63.1128881913575,63.6388177272183,64.1647472630791,64.6906767989399,65.2166063348007,65.7425358706615,66.2684654065223,66.7943949423831,67.3203244782438,67.8462540141046,68.3721835499654,68.8981130858262,69.424042621687,69.9499721575477,70.4759016934085,71.0018312292693,71.5277607651301,72.0536903009909,72.5796198368517],"text":["nat_turnout: 52.64000<br />euro_turnout: 31.03119","nat_turnout: 53.13899<br />euro_turnout: 31.55712","nat_turnout: 53.63797<br />euro_turnout: 32.08305","nat_turnout: 54.13696<br />euro_turnout: 32.60898","nat_turnout: 54.63595<br />euro_turnout: 33.13490","nat_turnout: 55.13494<br />euro_turnout: 33.66083","nat_turnout: 55.63392<br />euro_turnout: 34.18676","nat_turnout: 56.13291<br />euro_turnout: 34.71269","nat_turnout: 56.63190<br />euro_turnout: 35.23862","nat_turnout: 57.13089<br />euro_turnout: 35.76455","nat_turnout: 57.62987<br />euro_turnout: 36.29048","nat_turnout: 58.12886<br />euro_turnout: 36.81641","nat_turnout: 58.62785<br />euro_turnout: 37.34234","nat_turnout: 59.12684<br />euro_turnout: 37.86827","nat_turnout: 59.62582<br />euro_turnout: 38.39420","nat_turnout: 60.12481<br />euro_turnout: 38.92013","nat_turnout: 60.62380<br />euro_turnout: 39.44606","nat_turnout: 61.12278<br />euro_turnout: 39.97199","nat_turnout: 61.62177<br />euro_turnout: 40.49792","nat_turnout: 62.12076<br />euro_turnout: 41.02385","nat_turnout: 62.61975<br />euro_turnout: 41.54978","nat_turnout: 63.11873<br />euro_turnout: 42.07571","nat_turnout: 63.61772<br />euro_turnout: 42.60164","nat_turnout: 64.11671<br />euro_turnout: 43.12757","nat_turnout: 64.61570<br />euro_turnout: 43.65350","nat_turnout: 65.11468<br />euro_turnout: 44.17942","nat_turnout: 65.61367<br />euro_turnout: 44.70535","nat_turnout: 66.11266<br />euro_turnout: 45.23128","nat_turnout: 66.61165<br />euro_turnout: 45.75721","nat_turnout: 67.11063<br />euro_turnout: 46.28314","nat_turnout: 67.60962<br />euro_turnout: 46.80907","nat_turnout: 68.10861<br />euro_turnout: 47.33500","nat_turnout: 68.60759<br />euro_turnout: 47.86093","nat_turnout: 69.10658<br />euro_turnout: 48.38686","nat_turnout: 69.60557<br />euro_turnout: 48.91279","nat_turnout: 70.10456<br />euro_turnout: 49.43872","nat_turnout: 70.60354<br />euro_turnout: 49.96465","nat_turnout: 71.10253<br />euro_turnout: 50.49058","nat_turnout: 71.60152<br />euro_turnout: 51.01651","nat_turnout: 72.10051<br />euro_turnout: 51.54244","nat_turnout: 72.59949<br />euro_turnout: 52.06837","nat_turnout: 73.09848<br />euro_turnout: 52.59430","nat_turnout: 73.59747<br />euro_turnout: 53.12023","nat_turnout: 74.09646<br />euro_turnout: 53.64616","nat_turnout: 74.59544<br />euro_turnout: 54.17209","nat_turnout: 75.09443<br />euro_turnout: 54.69802","nat_turnout: 75.59342<br />euro_turnout: 55.22395","nat_turnout: 76.09241<br />euro_turnout: 55.74987","nat_turnout: 76.59139<br />euro_turnout: 56.27580","nat_turnout: 77.09038<br />euro_turnout: 56.80173","nat_turnout: 77.58937<br />euro_turnout: 57.32766","nat_turnout: 78.08835<br />euro_turnout: 57.85359","nat_turnout: 78.58734<br />euro_turnout: 58.37952","nat_turnout: 79.08633<br />euro_turnout: 58.90545","nat_turnout: 79.58532<br />euro_turnout: 59.43138","nat_turnout: 80.08430<br />euro_turnout: 59.95731","nat_turnout: 80.58329<br />euro_turnout: 60.48324","nat_turnout: 81.08228<br />euro_turnout: 61.00917","nat_turnout: 81.58127<br />euro_turnout: 61.53510","nat_turnout: 82.08025<br />euro_turnout: 62.06103","nat_turnout: 82.57924<br />euro_turnout: 62.58696","nat_turnout: 83.07823<br />euro_turnout: 63.11289","nat_turnout: 83.57722<br />euro_turnout: 63.63882","nat_turnout: 84.07620<br />euro_turnout: 64.16475","nat_turnout: 84.57519<br />euro_turnout: 64.69068","nat_turnout: 85.07418<br />euro_turnout: 65.21661","nat_turnout: 85.57316<br />euro_turnout: 65.74254","nat_turnout: 86.07215<br />euro_turnout: 66.26847","nat_turnout: 86.57114<br />euro_turnout: 66.79439","nat_turnout: 87.07013<br />euro_turnout: 67.32032","nat_turnout: 87.56911<br />euro_turnout: 67.84625","nat_turnout: 88.06810<br />euro_turnout: 68.37218","nat_turnout: 88.56709<br />euro_turnout: 68.89811","nat_turnout: 89.06608<br />euro_turnout: 69.42404","nat_turnout: 89.56506<br />euro_turnout: 69.94997","nat_turnout: 90.06405<br />euro_turnout: 70.47590","nat_turnout: 90.56304<br />euro_turnout: 71.00183","nat_turnout: 91.06203<br />euro_turnout: 71.52776","nat_turnout: 91.56101<br />euro_turnout: 72.05369","nat_turnout: 92.06000<br />euro_turnout: 72.57962"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,0.3)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[65.09,68.93],"y":[49.7,36.9],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,50,0,1)","opacity":0.4,"size":[15.969943154563,28.2766086922016],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,50,0,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.6,68.73,87.18],"y":[66,40.7,55.27],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,161,124,1)","opacity":0.4,"size":[16.377907457206,16.2502006720438,17.9741394947913],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(233,161,124,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,74.56,76.15,89.66,81.93],"y":[59.8,88.47,50.12,61.38,84.24,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,228,166,1)","opacity":0.4,"size":[17.5289950123961,18.4911092282885,28.5799932325641,30.2362204724409,12.8083775571932,20.0154625425191],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(233,228,166,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.97,57.92,72.93,92.06,55.84,71.76],"y":[44.99,58.69,54.5,72.7,30.75,60.73],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(27,182,175,1)","opacity":0.4,"size":[13.5661141022979,18.207977734053,27.9428442465202,12.4873600301194,18.2314145087839,26.1692723337969],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(27,182,175,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.28,59.05,61.88,63.67,69.67,54.58,57.37,55.34,64.11,59.82,52.64],"y":[32.64,29.86,28.72,37.6,43.36,33.53,53.48,45.68,51.07,22.74,28.89],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,118,187,1)","opacity":0.4,"size":[16.9222770116878,15.732990484432,18.1865107472694,13.5656688042269,17.9017546772988,14.1684623515965,14.7636497809744,24.3556002239286,21.1315308899033,16.2005498385035,14.2013178891918],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,118,187,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,56.28,59.05,73.97,61.88,84.6,63.67,68.73,74.56,76.15,57.92,69.67,65.09,72.93,54.58,57.37,89.66,92.06,81.93,55.34,55.84,64.11,59.82,52.64,71.76,87.18,68.93],"y":[59.8,88.47,32.64,29.86,44.99,28.72,66,37.6,40.7,50.12,61.38,58.69,43.36,49.7,54.5,33.53,53.48,84.24,72.7,41.93,45.68,30.75,51.07,22.74,28.89,60.73,55.27,36.9],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[14.5900225987788,15.1121352533333,14.2593434887504,13.6058107247982,12.3586956741687,14.9470817496591,13.96129146401,12.3584178474173,13.8911333298573,20.5340248483586,21.4211138904608,14.9587207582309,14.7925881075803,13.7367850077777,20.1926666881401,12.7209749685107,13.0633100062512,11.8286577684074,11.3385826771654,15.9357418866623,18.2693228232945,14.971426555385,16.5369930190929,13.863828649415,12.740169888408,19.2421020792086,14.8318793139207,20.371491335105],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[60],"y":[80],"text":"European turnout = <br /> 1.05 x national turnout -24.5","hovertext":"x: 60<br />y: 80","textfont":{"size":14.6645669291339,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.669,94.031],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.4535,91.7565],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"population<br />region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3ae367c0aef2":{"x":{},"y":{},"type":"scatter"},"3ae360b22bf4":{"x":{},"y":{},"size":{},"colour":{},"text":{}},"3ae33b4de45f":{"x":{},"y":{},"size":{},"label":{}},"3ae33bc9a805":{"x":{},"y":{}}},"cur_data":"3ae367c0aef2","visdat":{"3ae367c0aef2":["function (y) ","x"],"3ae360b22bf4":["function (y) ","x"],"3ae33b4de45f":["function (y) ","x"],"3ae33bc9a805":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Customized Formatting</h3>

<p>Changed the font of the geom_text and of the graph (these must be done separately!), corrected the size label, centre-aligned the title.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">recent_turnout</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv"</span><span class="p">,</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">recent_turnout</span><span class="o">$</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"British"</span><span class="p">,</span><span class="s2">"Northern"</span><span class="p">,</span><span class="s2">"Western"</span><span class="p">,</span><span class="s2">"Mediterranean"</span><span class="p">,</span><span class="s2">"Central/Eastern"</span><span class="p">))</span><span class="w">
</span><span class="n">m</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="n">euro_turnout</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">nat_turnout</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recent_turnout</span><span class="p">)</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">LaCroixColoR</span><span class="p">)</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">recent_turnout</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nat_turnout</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">euro_turnout</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">stat_smooth</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="s2">"line"</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="n">se</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s2">"country:"</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">)),</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">population</span><span class="o">/</span><span class="m">3.5</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="n">abbreviation</span><span class="p">),</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">family</span><span class="o">=</span><span class="s2">"Fira Sans"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_colour_manual</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">lacroix_palette</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s2">"PeachPear"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_size_continuous</span><span class="p">(</span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Recent turnout in European Union countries"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Latest legislative or presidential election (whichever had higher turnout)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"May 2019 European Parliament election"</span><span class="p">,</span><span class="w">
       </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">annotate</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="m">60</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="m">80</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paste</span><span class="p">(</span><span class="s2">"European turnout = \n"</span><span class="p">,</span><span class="w">
                                                  </span><span class="nf">round</span><span class="p">(</span><span class="n">unname</span><span class="p">(</span><span class="n">coef</span><span class="p">(</span><span class="n">m</span><span class="p">)[</span><span class="m">2</span><span class="p">]),</span><span class="m">2</span><span class="p">),</span><span class="w">
                                                  </span><span class="s2">"x national turnout"</span><span class="p">,</span><span class="w">
                                                  </span><span class="nf">round</span><span class="p">(</span><span class="n">unname</span><span class="p">(</span><span class="n">coef</span><span class="p">(</span><span class="n">m</span><span class="p">)[</span><span class="m">1</span><span class="p">]),</span><span class="m">1</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">plot.title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">hjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">guide_legend</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Fira Sans'</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-3aff409e075a1ee183dd" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-3aff409e075a1ee183dd">{"x":{"data":[{"x":[52.64,53.1389873417722,53.6379746835443,54.1369620253165,54.6359493670886,55.1349367088608,55.6339240506329,56.1329113924051,56.6318987341772,57.1308860759494,57.6298734177215,58.1288607594937,58.6278481012658,59.126835443038,59.6258227848101,60.1248101265823,60.6237974683544,61.1227848101266,61.6217721518987,62.1207594936709,62.619746835443,63.1187341772152,63.6177215189873,64.1167088607595,64.6156962025317,65.1146835443038,65.613670886076,66.1126582278481,66.6116455696203,67.1106329113924,67.6096202531646,68.1086075949367,68.6075949367089,69.106582278481,69.6055696202532,70.1045569620253,70.6035443037975,71.1025316455696,71.6015189873418,72.1005063291139,72.5994936708861,73.0984810126582,73.5974683544304,74.0964556962025,74.5954430379747,75.0944303797468,75.593417721519,76.0924050632911,76.5913924050633,77.0903797468355,77.5893670886076,78.0883544303798,78.5873417721519,79.0863291139241,79.5853164556962,80.0843037974684,80.5832911392405,81.0822784810127,81.5812658227848,82.080253164557,82.5792405063291,83.0782278481013,83.5772151898734,84.0762025316456,84.5751898734177,85.0741772151899,85.573164556962,86.0721518987342,86.5711392405063,87.0701265822785,87.5691139240506,88.0681012658228,88.5670886075949,89.0660759493671,89.5650632911392,90.0640506329114,90.5630379746835,91.0620253164557,91.5610126582279,92.06],"y":[31.0311865038497,31.5571160397105,32.0830455755713,32.6089751114321,33.1349046472929,33.6608341831536,34.1867637190144,34.7126932548752,35.238622790736,35.7645523265968,36.2904818624576,36.8164113983184,37.3423409341791,37.8682704700399,38.3942000059007,38.9201295417615,39.4460590776223,39.9719886134831,40.4979181493438,41.0238476852046,41.5497772210654,42.0757067569262,42.601636292787,43.1275658286478,43.6534953645086,44.1794249003693,44.7053544362301,45.2312839720909,45.7572135079517,46.2831430438125,46.8090725796732,47.335002115534,47.8609316513948,48.3868611872556,48.9127907231164,49.4387202589772,49.9646497948379,50.4905793306987,51.0165088665595,51.5424384024203,52.0683679382811,52.5942974741419,53.1202270100027,53.6461565458634,54.1720860817242,54.698015617585,55.2239451534458,55.7498746893066,56.2758042251674,56.8017337610282,57.3276632968889,57.8535928327497,58.3795223686105,58.9054519044713,59.4313814403321,59.9573109761929,60.4832405120536,61.0091700479144,61.5350995837752,62.061029119636,62.5869586554968,63.1128881913575,63.6388177272183,64.1647472630791,64.6906767989399,65.2166063348007,65.7425358706615,66.2684654065223,66.7943949423831,67.3203244782438,67.8462540141046,68.3721835499654,68.8981130858262,69.424042621687,69.9499721575477,70.4759016934085,71.0018312292693,71.5277607651301,72.0536903009909,72.5796198368517],"text":["nat_turnout: 52.64000<br />euro_turnout: 31.03119","nat_turnout: 53.13899<br />euro_turnout: 31.55712","nat_turnout: 53.63797<br />euro_turnout: 32.08305","nat_turnout: 54.13696<br />euro_turnout: 32.60898","nat_turnout: 54.63595<br />euro_turnout: 33.13490","nat_turnout: 55.13494<br />euro_turnout: 33.66083","nat_turnout: 55.63392<br />euro_turnout: 34.18676","nat_turnout: 56.13291<br />euro_turnout: 34.71269","nat_turnout: 56.63190<br />euro_turnout: 35.23862","nat_turnout: 57.13089<br />euro_turnout: 35.76455","nat_turnout: 57.62987<br />euro_turnout: 36.29048","nat_turnout: 58.12886<br />euro_turnout: 36.81641","nat_turnout: 58.62785<br />euro_turnout: 37.34234","nat_turnout: 59.12684<br />euro_turnout: 37.86827","nat_turnout: 59.62582<br />euro_turnout: 38.39420","nat_turnout: 60.12481<br />euro_turnout: 38.92013","nat_turnout: 60.62380<br />euro_turnout: 39.44606","nat_turnout: 61.12278<br />euro_turnout: 39.97199","nat_turnout: 61.62177<br />euro_turnout: 40.49792","nat_turnout: 62.12076<br />euro_turnout: 41.02385","nat_turnout: 62.61975<br />euro_turnout: 41.54978","nat_turnout: 63.11873<br />euro_turnout: 42.07571","nat_turnout: 63.61772<br />euro_turnout: 42.60164","nat_turnout: 64.11671<br />euro_turnout: 43.12757","nat_turnout: 64.61570<br />euro_turnout: 43.65350","nat_turnout: 65.11468<br />euro_turnout: 44.17942","nat_turnout: 65.61367<br />euro_turnout: 44.70535","nat_turnout: 66.11266<br />euro_turnout: 45.23128","nat_turnout: 66.61165<br />euro_turnout: 45.75721","nat_turnout: 67.11063<br />euro_turnout: 46.28314","nat_turnout: 67.60962<br />euro_turnout: 46.80907","nat_turnout: 68.10861<br />euro_turnout: 47.33500","nat_turnout: 68.60759<br />euro_turnout: 47.86093","nat_turnout: 69.10658<br />euro_turnout: 48.38686","nat_turnout: 69.60557<br />euro_turnout: 48.91279","nat_turnout: 70.10456<br />euro_turnout: 49.43872","nat_turnout: 70.60354<br />euro_turnout: 49.96465","nat_turnout: 71.10253<br />euro_turnout: 50.49058","nat_turnout: 71.60152<br />euro_turnout: 51.01651","nat_turnout: 72.10051<br />euro_turnout: 51.54244","nat_turnout: 72.59949<br />euro_turnout: 52.06837","nat_turnout: 73.09848<br />euro_turnout: 52.59430","nat_turnout: 73.59747<br />euro_turnout: 53.12023","nat_turnout: 74.09646<br />euro_turnout: 53.64616","nat_turnout: 74.59544<br />euro_turnout: 54.17209","nat_turnout: 75.09443<br />euro_turnout: 54.69802","nat_turnout: 75.59342<br />euro_turnout: 55.22395","nat_turnout: 76.09241<br />euro_turnout: 55.74987","nat_turnout: 76.59139<br />euro_turnout: 56.27580","nat_turnout: 77.09038<br />euro_turnout: 56.80173","nat_turnout: 77.58937<br />euro_turnout: 57.32766","nat_turnout: 78.08835<br />euro_turnout: 57.85359","nat_turnout: 78.58734<br />euro_turnout: 58.37952","nat_turnout: 79.08633<br />euro_turnout: 58.90545","nat_turnout: 79.58532<br />euro_turnout: 59.43138","nat_turnout: 80.08430<br />euro_turnout: 59.95731","nat_turnout: 80.58329<br />euro_turnout: 60.48324","nat_turnout: 81.08228<br />euro_turnout: 61.00917","nat_turnout: 81.58127<br />euro_turnout: 61.53510","nat_turnout: 82.08025<br />euro_turnout: 62.06103","nat_turnout: 82.57924<br />euro_turnout: 62.58696","nat_turnout: 83.07823<br />euro_turnout: 63.11289","nat_turnout: 83.57722<br />euro_turnout: 63.63882","nat_turnout: 84.07620<br />euro_turnout: 64.16475","nat_turnout: 84.57519<br />euro_turnout: 64.69068","nat_turnout: 85.07418<br />euro_turnout: 65.21661","nat_turnout: 85.57316<br />euro_turnout: 65.74254","nat_turnout: 86.07215<br />euro_turnout: 66.26847","nat_turnout: 86.57114<br />euro_turnout: 66.79439","nat_turnout: 87.07013<br />euro_turnout: 67.32032","nat_turnout: 87.56911<br />euro_turnout: 67.84625","nat_turnout: 88.06810<br />euro_turnout: 68.37218","nat_turnout: 88.56709<br />euro_turnout: 68.89811","nat_turnout: 89.06608<br />euro_turnout: 69.42404","nat_turnout: 89.56506<br />euro_turnout: 69.94997","nat_turnout: 90.06405<br />euro_turnout: 70.47590","nat_turnout: 90.56304<br />euro_turnout: 71.00183","nat_turnout: 91.06203<br />euro_turnout: 71.52776","nat_turnout: 91.56101<br />euro_turnout: 72.05369","nat_turnout: 92.06000<br />euro_turnout: 72.57962"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,0.3)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[65.09,68.93],"y":[49.7,36.9],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,50,0,1)","opacity":0.4,"size":[15.969943154563,28.2766086922016],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,50,0,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.6,68.73,87.18],"y":[66,40.7,55.27],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,161,124,1)","opacity":0.4,"size":[16.377907457206,16.2502006720438,17.9741394947913],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(233,161,124,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,74.56,76.15,89.66,81.93],"y":[59.8,88.47,50.12,61.38,84.24,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,228,166,1)","opacity":0.4,"size":[17.5289950123961,18.4911092282885,28.5799932325641,30.2362204724409,12.8083775571932,20.0154625425191],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(233,228,166,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.97,57.92,72.93,92.06,55.84,71.76],"y":[44.99,58.69,54.5,72.7,30.75,60.73],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(27,182,175,1)","opacity":0.4,"size":[13.5661141022979,18.207977734053,27.9428442465202,12.4873600301194,18.2314145087839,26.1692723337969],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(27,182,175,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.28,59.05,61.88,63.67,69.67,54.58,57.37,55.34,64.11,59.82,52.64],"y":[32.64,29.86,28.72,37.6,43.36,33.53,53.48,45.68,51.07,22.74,28.89],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,118,187,1)","opacity":0.4,"size":[16.9222770116878,15.732990484432,18.1865107472694,13.5656688042269,17.9017546772988,14.1684623515965,14.7636497809744,24.3556002239286,21.1315308899033,16.2005498385035,14.2013178891918],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,118,187,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.38,56.28,59.05,73.97,61.88,84.6,63.67,68.73,74.56,76.15,57.92,69.67,65.09,72.93,54.58,57.37,89.66,92.06,81.93,55.34,55.84,64.11,59.82,52.64,71.76,87.18,68.93],"y":[59.8,88.47,32.64,29.86,44.99,28.72,66,37.6,40.7,50.12,61.38,58.69,43.36,49.7,54.5,33.53,53.48,84.24,72.7,41.93,45.68,30.75,51.07,22.74,28.89,60.73,55.27,36.9],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[14.5900225987788,15.1121352533333,14.2593434887504,13.6058107247982,12.3586956741687,14.9470817496591,13.96129146401,12.3584178474173,13.8911333298573,20.5340248483586,21.4211138904608,14.9587207582309,14.7925881075803,13.7367850077777,20.1926666881401,12.7209749685107,13.0633100062512,11.8286577684074,11.3385826771654,15.9357418866623,18.2693228232945,14.971426555385,16.5369930190929,13.863828649415,12.740169888408,19.2421020792086,14.8318793139207,20.371491335105],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[60],"y":[80],"text":"European turnout = <br /> 1.05 x national turnout -24.5","hovertext":"x: 60<br />y: 80","textfont":{"size":14.6645669291339,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.6118721461187},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":17.5342465753425},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.669,94.031],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Fira Sans","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.4535,91.7565],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Fira Sans","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":11.689497716895},"title":{"text":"<br />region","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3ae34e7f5402":{"x":{},"y":{},"type":"scatter"},"3ae320ceffee":{"x":{},"y":{},"size":{},"colour":{},"text":{}},"3ae37dee2174":{"x":{},"y":{},"size":{},"label":{}},"3ae3766aa578":{"x":{},"y":{}}},"cur_data":"3ae34e7f5402","visdat":{"3ae34e7f5402":["function (y) ","x"],"3ae320ceffee":["function (y) ","x"],"3ae37dee2174":["function (y) ","x"],"3ae3766aa578":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>What About Dash?</h3>

<p><a href="https://dashr.plot.ly/">Dash for R</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. </p>

<p>Learn about how to install Dash for R at https://dashr.plot.ly/installation.</p>

<p>Everywhere in this page that you see <code>fig</code>, you can display the same figure in a Dash for R application by passing it to the <code>figure</code> argument of the <a href="https://dashr.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dashCoreComponents</code> package like this:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> 
</span><span class="c1"># fig &lt;- fig %&gt;% add_trace( ... )</span><span class="w">
</span><span class="c1"># fig &lt;- fig %&gt;% layout( ... ) </span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashCoreComponents</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashHtmlComponents</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Dash</span><span class="o">$</span><span class="n">new</span><span class="p">()</span><span class="w">
</span><span class="n">app</span><span class="o">$</span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">htmlDiv</span><span class="p">(</span><span class="w">
        </span><span class="nf">list</span><span class="p">(</span><span class="w">
            </span><span class="n">dccGraph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span><span class="w"> 
        </span><span class="p">)</span><span class="w">
     </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="o">$</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">dev_tools_hot_reload</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>

        </section>

        

        <a href="https://dashr.plotly.com"><img width="100%" style="margin-top: 20px;"
            src="/all_static/images/dash.png" /></a>

        
        <!--End Plotly Basics Section-->
      </section>
    </div>
  </main>


  <script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


  <footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly ‚Äî from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2021 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "ggplot2";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'r_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>

</html>