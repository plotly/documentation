<!DOCTYPE html>
<html>

<head>
      <!-- This page was last built at 2020-09-12 14:00 -->

      <meta charset="utf-8"/>

      <link rel="canonical" href="https://plotly.com/javascript/plotlyjs-events/"/>

      <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
      <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

      
      <!-- code highlighting -->
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
      

        <!-- Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

      
      <!--
      //// Stylesheets
      -->

      <!-- Fonts -->
      <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css"/>

      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

      <!-- Main Stylesheets -->
      <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=../all_sta">

      <!-- LOCAL DEV STYLESHEET -->
      <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

      <!-- Icon -->
      <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

      <!-- Google Tags-->
      <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



    <!-- META TAGS -->
    <!-- SEO Tags - title, meta_description -->
<title>Event Handlers |  JavaScript  | Plotly  </title>
<meta name="description" content="Definitions and examples of how to use Plotly.js event handlers to add additional interactive capabilities to Plotly charts.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Event Handlers"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://help.plot.ly/images/twitter-default.png">
    <meta property="og:description" content="Definitions and examples of how to use Plotly.js event handlers to add additional interactive capabilities to Plotly charts."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Event Handlers"/>
    <meta name="twitter:url" content="https://plotly.com/javascript/plotlyjs-events/"/>
    <meta name="twitter:description" content="Definitions and examples of how to use Plotly.js event handlers to add additional interactive capabilities to Plotly charts."/>
    <meta name="twitter:image" content="https://help.plot.ly/images/twitter-default.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div class="header-container">
    <div id="campaign-zero-banner">
        Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/javascript">JavaScript</a>
                        

                        
                        

                        

                        
                        &gt;<a href="#">Event Handlers</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        
<iframe src="https://ghbtns.com/github-btn.html?user=plotly&repo=plotly.js&type=star&count=true&size=large" style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>


                        <li><a href="https://plotly.com/dash/?utm_source=dash_demo&utm_medium=graphing_banner&utm_campaign=plotly_js" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">DO MORE WITH DASH</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


<main class="--page page--single --index">

	<div class="--wrap">
		<!-- aside - Main Sidebar-->
		<aside class="--sidebar-container">
			<div class="--sidebar-fixed reference" data-spy="affix" id="where">
				
                        <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
                            <input id="modal-input" style="border-radius: 5px; width: 100%;"  type="text" placeholder="   Search..." readonly/>
                          </button>
                    
				<header class="--sidebar-header">On This Page</header>
				<nav class="--sidebar-body watch"   id="where">
		  <ul class="--sidebar-list"></ul>


				</nav>
			</div>
		</aside>
		<!-- Main-->
		<section class="--page-body --tutorial-index --base">
			<header class="--welcome">
				<div class="--welcome-body">
					<!--div.--wrap-inner-->
					<div class="--title">
						<div class="--body">
							<div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                
                <a id="forklink" href= "https://github.com/plotly/graphing-library-docs/tree/master/_posts/plotly_js/chart-events/events/" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>

							
							<h1>
								Event Handlers
								
								in JavaScript
								
							</h1>
							<p>Definitions and examples of how to use Plotly.js event handlers to add additional interactive capabilities to Plotly charts. </p>
							<br>

							
							

<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/javascript/is-plotly-free/">free and open-source</a> graphing library for JavaScript. We recommend you read our <a href="/javascript/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/javascript/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/javascript/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>



						</div>
					</div>
				</div>
			</header>

			<!-- Start Plotly Basics Section -->
			<section class="tutorial-content">

				






				

    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="using-plotly.js-events">
            <a class="no_underline plot-blue" href="#using-plotly.js-events">Using Plotly.js Events</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>Plotly graphs emit events prefixed with plotly_ (i.e. <code>&#39;plotly_click&#39;</code>, <code>&#39;plotly_hover&#39;</code>, <code>&#39;plotly_relayout&#39;</code>) when interacted with (clicked, hovered, zoomed). Event handlers can be bound to events using the <code>.on</code> method that is exposed by the plot div object. Please note: it is possible to use jQuery events, but plotly.js no longer bundles jQuery, so we recommend using the plotly.js implementation.</p>

<p>In addition to the event handler, some events emit additional information about the point(s) or plot  interacted with. The following documentation organizes Plotly events based on the accessible information emitted with the event: <a href="">event data</a>, <a href="">update data</a>, or <a href="">no additional data</a>. The following page provides a description and example of each Plotly event as well as the structure of the data or update returned with the event.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">myDiv.on('plotly_event', function(){
    	// do something;
	});

</code></pre>
              </div>
            
            
          </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="simple-event-example">
            <a class="no_underline plot-blue" href="#simple-event-example">Simple Event Example</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>Here&#39;s a simple example using a Plotly event. Click on a point on the chart below to see an alert triggered by the <code>plotly_click</code> event.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var myPlot = document.getElementById('myDiv'),
    x = [1, 2, 3, 4, 5],
    y = [10, 20, 30, 20, 10],
    data = [{x:x, y:y, type:'scatter',
             mode:'markers', marker:{size:20}
            }],
    layout = {hovermode:'closest',
              title:'Click on Points'
     };

Plotly.newPlot('myDiv', data, layout);

myPlot.on('plotly_click', function(){
    alert('You clicked this Plotly chart!');
});
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/NbvPLa/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="event-data">
            <a class="no_underline plot-blue" href="#event-data">Event Data</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>Many Plotly events emit event data when the event is triggered. Event data is information about the data point related to the event (i.e. the point clicked).<br>
The following events emit event data: <a href=""><code>plotly_click</code></a>, <a href=""><code>plotly_hover</code></a>, <a href=""><code>plotly_unhover</code></a>, <a href=""><code>plotly_selecting</code></a>, and <a href=""><code>plotly_selected</code></a>.
<br>Event data differs depending on the type of plot the user is interacting with. The event data structure for Cartesian (2D) plots, 3D plots, and maps can be found below, along with examples of each event.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">// Cartesian
{
  points: [{
    curveNumber: 1,  // index in data of the trace associated with the selected point
    pointNumber: 1,  // index of the selected point
    x: 1,        // x value
    y: 1,      // y value
    data: {/* */},       // ref to the trace as sent to Plotly.newPlot associated with the selected point
    fullData: {/* */},   // ref to the trace including all of the default attributes
   xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
   yaxis: {/* */}    // ref to y-axis object &quot; &quot;
  }, {
    /* similarly for other selected points */
  }]
}

// Cartesian Histograms
{
  points: [{
    curveNumber: 1,  // index in data of the trace associated with the selected point
    pointNumbers: [1, 5, 28, 33, 41, ...],  // Array of indices of the points aggregated into selected bin
    x: 1,        // x value
    y: 45,      // y value
    data: {/* */},       // ref to the trace as sent to Plotly.newPlot associated with the selected point
    fullData: {/* */},   // ref to the trace including all of the default attributes
   xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
   yaxis: {/* */}    // ref to y-axis object &quot; &quot;
  }, {
    /* similarly for other selected points */
  }]
}

// 3D
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point
    pointNumber: 2,  // index of the selected point
    x: 5,        // x value
    y: 600,      // y value
    z: 12,       // z value
    data: {/* */},       // ref to the trace as sent to Plotly.newPlot associated with the selected point
    fullData: {/* */},   // ref to the trace including all of the default attributes
   xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
   yaxis: {/* */}    // ref to y-axis object &quot; &quot;
   zaxis: {/* */}    // ref to z-axis object &quot; &quot;
  }, {
    /* similarly for other selected points */
  }]
}

// Maps
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point
    pointNumber: 2,  // index of the selected point
    lat: 50,        // latitude value
    lon: -12,      // longitude value
    data: {/* */},       // ref to the trace as sent to Plotly.newPlot associated with the selected point
    fullData: {/* */},   // ref to the trace including all of the default attributes
    location:       //
  }, {
    /* similarly for other selected points */
  }]
}
</code></pre>
              </div>
            
            
          </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="click-event">
            <a class="no_underline plot-blue" href="#click-event">Click Event</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>Here&#39;s a simple example of using the data returned from the <code>plotly_click</code> event to restyle the graph. After creating a plot, we can change the color of the point clicked on by updating the <code>marker.color</code> array at the index of the point we clicked on then using <code>Plotly.restyle()</code> to apply the update. For more examples of using <code>plotly_click</code> events, see: <a href="">https://plotly.com/javascript/click-events/</a></p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var myPlot = document.getElementById('myDiv'),
    x = [1, 2, 3, 4, 5, 6],
    y = [1, 2, 3, 2, 3, 4],
    colors = ['#00000','#00000','#00000',
              '#00000','#00000','#00000'],
    data = [{x:x, y:y, type:'scatter',
             mode:'markers', marker:{size:16, color:colors}}],
    layout = {
        hovermode:'closest',
        title:'Click on a Point to Change Color&lt;br&gt;Double Click (anywhere) to Change it Back'
     };

Plotly.newPlot('myDiv', data, layout);

myPlot.on('plotly_click', function(data){
  var pn='',
      tn='',
      colors=[];
  for(var i=0; i &lt; data.points.length; i++){
    pn = data.points[i].pointNumber;
    tn = data.points[i].curveNumber;
    colors = data.points[i].data.marker.color;
  };
  colors[pn] = '#C54C82';

  var update = {'marker':{color: colors, size:16}};
  Plotly.restyle('myDiv', update, [tn]);
});
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/Obxbdv/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="legend-click-events">
            <a class="no_underline plot-blue" href="#legend-click-events">Legend Click Events</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p><code>plotly_legendclick</code> and <code>plotly_legenddoubleclick</code> allow customization of the plotly legend. The default behaviour of <code>plotly_legendclick</code> is to hide a trace and the default behavior of <code>plotly_legenddoubleclick</code> is to select one trace and hide all the others. 
We can add to the default behaviour by creating a new <code>plotly_legendclick</code> event with a function of our choice. We can also disable the default behaviour by creating a function that returns <code>false</code>. In the example below, we do both in order to create a <code>plotly_legendclick</code> event which changes the marker color back to black instead of erasing the trace.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var myPlot = document.getElementById('myDiv'),
    x = [1, 2, 3, 4, 5, 6],
    y = [1, 2, 3, 2, 3, 4],
    y2 = [1, 4, 7, 6, 1, 5],
    colors = [['#5C636E','#5C636E','#5C636E','#5C636E','#5C636E','#5C636E'],
              ['#393e46','#393e46','#393e46','#393e46','#393e46','#393e46']],
    data = [{x:x, y:y, type:'scatter',
             mode:'line', line:{ color:'#5C636E'},marker:{size:16, color:colors[0]}},
            {x:x, y:y2, type:'scatter',
             mode:'line',line:{ color:'#393e46'}, marker:{size:16, color:colors[1]}}],
    layout = {
        showlegend: true,
        hovermode:'closest',
        title:'Click on a Point to Change Color&lt;br&gt;Click on a Trace in the Legend to Change Back One Trace Only'
     };

Plotly.newPlot('myDiv', data, layout);

myPlot.on('plotly_click', function(data){
  var pn='',
      tn='',
      colors=[];
  for(var i=0; i &lt; data.points.length; i++){
    pn = data.points[i].pointNumber;
    tn = data.points[i].curveNumber;
    colors = data.points[i].data.marker.color;
  };
  colors[pn] = '#C54C82';
  var update = {'marker':{color: colors, size:16}};
  Plotly.restyle('myDiv', update,[tn]);
});

myPlot.on('plotly_legendclick', function(data){
  var trColors = [['#5C636E','#5C636E','#5C636E','#5C636E','#5C636E','#5C636E'],
              ['#393e46','#393e46','#393e46','#393e46','#393e46','#393e46']];
  var update = {'marker':{color: trColors[data.curveNumber], size:16}};
  Plotly.restyle('myDiv', update,[data.curveNumber]);
  return false;
});
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/vazxKv/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="hover-event">
            <a class="no_underline plot-blue" href="#hover-event">Hover Event</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>Here&#39;s a simple example of using the data returned from the <code>plotly_hover</code> and <code>plotly_unhover</code> events to restyle the graph. After creating a plot, we can change the color of the point hovered on by updating the <code>marker.color</code> array at the index of the point we hovered on then using <code>Plotly.restyle()</code> to apply the update. Then we can use <code>plotly_unhover</code> to change the <code>marker.color</code> back to the original color. For more examples of using <code>plotly_hover</code> events, see: https://plotly.com/javascript/hover-events/</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var myPlot = document.getElementById('myDiv'),
    x = [1, 2, 3, 4, 5, 6, 7],
    y = [1, 2, 3, 2, 3, 4, 3],
    colors =['#00000','#00000','#00000',
             '#00000','#00000','#00000',
             '#00000'],
    data = [{x:x, y:y,
             type:'scatter',
             mode:'markers', marker:{size:16, color:colors}}],
    layout = {
        hovermode:'closest',
        title:'Hover on a Point&lt;br&gt;to Change Color'
     };

Plotly.newPlot('myDiv', data, layout);

myPlot.on('plotly_hover', function(data){
  var pn='',
      tn='',
      colors=[];
  for(var i=0; i &lt; data.points.length; i++){
    pn = data.points[i].pointNumber;
    tn = data.points[i].curveNumber;
    colors = data.points[i].data.marker.color;
  };
  colors[pn] = '#C54C82';

  var update = {'marker':{color: colors, size:16}};
  Plotly.restyle('myDiv', update, [tn]);
});

myPlot.on('plotly_unhover', function(data){
  var pn='',
      tn='',
      colors=[];
  for(var i=0; i &lt; data.points.length; i++){
    pn = data.points[i].pointNumber;
    tn = data.points[i].curveNumber;
    colors = data.points[i].data.marker.color;
  };
  colors[pn] = '#00000';

  var update = {'marker':{color: colors, size:16}};
  Plotly.restyle('myDiv', update, [tn]);
});
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/xgxbrj/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="select-event">
            <a class="no_underline plot-blue" href="#select-event">Select Event</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>Here&#39;s a simple example using the data returned from the <code>plotly_selected</code> event. <code>plotly_selected</code> returns event data for all points selected simultaneously. After creating a scatter plot with random data and two histograms that display the x and y distributions of that random data, we can select points by clicking and dragging on the plot. Upon <code>plotly_selected</code> the histograms will update to display the distribution of the x and y values of the selected points. The color of the scatter plot will be updated as well to highlight the selected points. For more examples of using <code>plotly_selected</code> and <code>plotly_selecting</code> events, see: https://plotly.com/javascript/lasso-selection/</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var graphDiv = document.getElementById('myDiv');
var N = 1000;
var color1 = '#7b3294';
var color1Light = '#c2a5cf';
var colorX = '#ffa7b5';
var colorY = '#fdae61';

function randomArray() {
  var out = new Array(N);
  for(var i = 0; i &lt; N; i++) {
    out[i] = Math.random();
  }
  return out;
}
var x = randomArray();
var y = randomArray();

Plotly.newPlot(graphDiv, [{
  type: 'scatter',
  mode: 'markers',
  x: x,
  y: y,
  xaxis: 'x',
  yaxis: 'y',
  name: 'random data',
  marker: {color: color1, size: 10}
}, {
  type: 'histogram',
  x: x,
  xaxis: 'x2',
  yaxis: 'y2',
  name: 'x coord dist.',
  marker: {color: colorX}
}, {
  type: 'histogram',
  x: y,
  xaxis: 'x3',
  yaxis: 'y3',
  name: 'y coord dist.',
  marker: {color: colorY}
}], {
  title: 'Lasso around the scatter points to see sub-distributions',
  dragmode: 'lasso',
  xaxis: {
    zeroline: false,
  },
  yaxis: {
    domain: [0.55, 1],
  },
  xaxis2: {
    domain: [0, 0.45],
    anchor: 'y2',
  },
  yaxis2: {
    domain: [0, 0.45],
    anchor: 'x2'
  },
  xaxis3: {
    domain: [0.55, 1],
    anchor: 'y3'
  },
  yaxis3: {
    domain: [0, 0.45],
    anchor: 'x3'
  }
});

graphDiv.on('plotly_selected', function(eventData) {
  var x = [];
  var y = [];

  var colors = [];
  for(var i = 0; i &lt; N; i++) colors.push(color1Light);

  eventData.points.forEach(function(pt) {
    x.push(pt.x);
    y.push(pt.y);
    colors[pt.pointNumber] = color1;
  });

  Plotly.restyle(graphDiv, {
    x: [x, y],
    xbins: {}
  }, [1, 2]);

  Plotly.restyle(graphDiv, 'marker.color', [colors], [0]);
});
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/BpayyX/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="update-data">
            <a class="no_underline plot-blue" href="#update-data">Update Data</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>The following Plotly events emit update information when the event is triggered: <a href=""><code>plotly_restyle</code></a> and <a href=""><code>plotly_relayout</code></a>.
The update emitted with <code>plotly_restyle</code> is similar across plot types and includes an array containing an object of the newly updated
attributes and an array of the trace numbers that were updated.</p>

<p>For Cartesian (2D) plots, <code>plotly_relayout</code> emits only the xaxis and yaxis ranges which were directly changed by the triggering event.
For 3D plots, <a href="https://plotly.com/javascript/reference/layout/scene/#layout-scene-camera"><code>layout.scene.camera</code></a> data is similarly emitted.
See the full structures below:</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">// plotly_restyle update
[
  {update},  // update object -- attribute updated: new value
  [0]       // array of traces updated
]

// plotly_relayout update: Cartesian
//// Upon resizing plot:
{
 xaxis.range[0]: , // new value if xaxis.range[0] was updated
 xaxis.range[1]: ,
 yaxis.range[0]: , // new value if yaxis.range[0] was updated
 yaxis.range[1]:
}
//// Upon autosizing plot:
{
 xaxis.autorange: true,
 yaxis.autorange: true
}

// plotly_relayout update: 3D
// a subset of the following data will be emitted depending on
// which attributes were changed by the triggering event.
{
  scene: {
    center: { // https://plotly.com/javascript/reference/layout/scene/#layout-scene-camera-center
      x: 0,
      y: 0,
      z: 0
    }
  },
  {
    eye: { // https://plotly.com/javascript/reference/layout/scene/#layout-scene-camera-eye
      x: 1.25,
      y: 1.25,
      z: 1.25
    }
  }.
  {
    up: { // https://plotly.com/javascript/reference/layout/scene/#layout-scene-camera-up
      x: 0,
      y: 0,
      z: 1
    }
  }
}
</code></pre>
              </div>
            
            
          </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="additional-events">
            <a class="no_underline plot-blue" href="#additional-events">Additional Events</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>The following Plotly events do not emit additional data or update information: <a href="#webgl-context-lost-event"><code>plotly_webglcontextlost</code></a>, <a href="#afterplot-event"><code>plotly_afterplot</code></a>, <a href=""><code>plotly_autosize</code></a>, <a href=""><code>plotly_deselect</code></a>, <a href="#double-click-event"><code>plotly_doubleclick</code></a>, <a href=""><code>plotly_redraw</code></a>, and <a href=""><code>plotly_animated</code></a>. These event handlers can be used to notify or trigger an additional event with the following syntax:</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">function eventTriggeredHandler() {
   /*  add your event triggered handler here */
}

myDiv.on('plotly_event', eventTriggeredHandler);</code></pre>
              </div>
            
            
          </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="webgl-context-lost-event">
            <a class="no_underline plot-blue" href="#webgl-context-lost-event">Webgl Context Lost Event</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>Plotly graphs which use WebGL receive a &quot;WebGL context&quot; from the browser which gives them access to gpu resources.
A program may lose its WebGL context if the browser is overloaded with them and is forced to shut one down.
The event handler: <code>plotly_webglcontextlost</code>, can be used to trigger an event after a graph loses it&#39;s WebGL context.</p>

            
            
            
          </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="afterplot-event">
            <a class="no_underline plot-blue" href="#afterplot-event">Afterplot Event</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>The event handler: <code>plotly_afterplot</code>, can be used to trigger an event each time a chart is plotted. This also includes re-plotting after the restyling or relayout of a plot.
Users also have the option of adding a post-plot handler to the plot call with the following syntax: <code>Plotly.newPlot(&#39;myDiv&#39;, data, layout, config).then(postPlotHandler);</code></p>

<p>The simple example below logs a console message each time the chart is plotted. Zoom or pan on the graph below to trigger the <code>plotly_afterplot</code> handler.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var myPlot = document.getElementById('myDiv'),
    d3 = Plotly.d3,
    N = 20,
    x = d3.range(N),
    y = d3.range(N).map( d3.random.normal() ),
    data = [{x:x, y:y, type:'scatter',
            mode:'markers', marker:{size:14}}
           ];

Plotly.newPlot('myDiv', data);

myPlot.on('plotly_afterplot', function(){
    console.log('done plotting');
});
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/YeGGdy/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h3 id="double-click-event">
            <a class="no_underline plot-blue" href="#double-click-event">Double Click Event</a>
          </h3>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>In addition to <code>plotly_click</code>, <code>plotly_doubleclick</code> can be used as an event handle in Plotly charts as well. You may already be familiar with <code>plotly_doubleclick</code> if you regularly use Plotly&#39;s zoom and pan functionality, double clicking on the graph will restore the axes ranges after zooming into a specific area. Unlike <code>plotly_click</code>, a <code>plotly_doubleclick</code> is registered upon clicking anywhere on the graph (not just data points), therefore, <code>plotly_doubleclick</code> does not return data. In the following example, we&#39;ll build off of our <code>plotly_click</code> example, and reset the color of our data points upon double clicking anywhere on the graph.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var myPlot = document.getElementById('myDiv'),
    x = [1, 2, 3, 4, 5, 6],
    y = [1, 2, 3, 2, 3, 4],
    colors = ['#00000','#00000','#00000',
              '#00000','#00000','#00000'],
    data = [{x:x, y:y, type:'scatter',
             mode:'markers', marker:{size:16, color:colors}}],
    layout = {
        hovermode:'closest',
        title:'Click on a Point to Change Color&lt;br&gt;Double Click (anywhere) to Change it Back'
     };

Plotly.newPlot('myDiv', data, layout);

myPlot.on('plotly_click', function(data){
  var pn='',
      tn='',
      colors=[];
  for(var i=0; i &lt; data.points.length; i++){
    pn = data.points[i].pointNumber;
    tn = data.points[i].curveNumber;
    colors = data.points[i].data.marker.color;
  };
  colors[pn] = '#C54C82';

  var update = {'marker':{color: colors, size:16}};
  Plotly.restyle('myDiv', update, [tn]);
});

myPlot.on('plotly_doubleclick', function(data){
  var orgColors = ['#00000','#00000','#00000',
                   '#00000','#00000','#00000'];
  var update = {'marker':{color: orgColors, size:16}};
  Plotly.restyle('myDiv', update);
});
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/WoZOdq/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>

				
			</section>

			

			<a href="https://dash.plotly.com"><img width="100%" style="margin-top: 20px;" src="/all_static/images/dash.png"/></a>

			
			<!--End Plotly Basics Section-->
		</section>
	</div>
</main>


<script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


<footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly — from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2020 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


<!-- Mathjax -->
<script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});</script>
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>

 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "plotly_js";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'js_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>

</html>
