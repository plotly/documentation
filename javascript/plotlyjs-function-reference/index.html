<!DOCTYPE html>
<html>
    <head>

        <meta charset="utf-8" />

        <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

    	<!-- Fonts -->
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//fonts/font-awesome/css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/plotly_icons.css" />
        <link href="//fonts.googleapis.com/css?family=Open+Sans:600,400,300,200|Inconsolata|Ubuntu+Mono:400,700" rel="stylesheet" type="text/css" />
	    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="//cdn.plot.ly/plotly-latest.min.js"></script>

    	<!-- Stylesheets -->
        <link rel="stylesheet" href="https://plot.ly/gh-pages/documentation/static//css/js-splash-highlight.css"/>
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/normalize.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/base.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/layout_block.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/modules.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/state.css">
        <link rel="stylesheet" href="https://plot.ly/gh-pages/documentation/static//css/js-splash.css"/>
        
        
        <link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/api_docs.css">
        
        

    	<!-- Icon -->
    	<link rel="shortcut icon" href="https://plot.ly/gh-pages/documentation/static//images/plotly-ico.png" type="image/x-icon" />

    	<!-- META TAGS -->
    	<!-- SEO Tags - title, meta_description -->
    <title>Plotly.js Function Reference</title>
    <meta name="description" content="Plotly.js function reference. How to create, update, and modify graphs drawn with Plotly's Javascript Graphing Library.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Plotly.js Function Reference"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="http://help.plot.ly/images/twitter-default.png">
    <meta property="og:description" content="Plotly.js function reference. How to create, update, and modify graphs drawn with Plotly's Javascript Graphing Library."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Plotly.js Function Reference"/>
    <meta name="twitter:url" content="http://help.plot.ly/javascript/plotlyjs-function-reference"/>
    <meta name="twitter:description" content="Plotly.js function reference. How to create, update, and modify graphs drawn with Plotly's Javascript Graphing Library."/>
    <meta name="twitter:image" content="http://help.plot.ly/images/twitter-default.png">
    <meta name="twitter:site" content="@plotlygraphs"/>

<!-- Favicon -->
    <link rel="shortcut icon" href="https://plot.ly/gh-pages/documentation/static//images/plotly-ico.png" />



    	<!-- code highlighting -->
    	<!--<link rel="stylesheet" href="https://plot.ly/gh-pages/documentation/static//javascripts/codehighlight/styles/tomorrow.css">-->
        
	<!-- start Mixpanel --><script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
	for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
	mixpanel.init("ad6df61d0b9400400b240631576c24d4");</script><!-- end Mixpanel -->

	</head>

<body>

<div id="header" style="
  background-image: url('https://images.plot.ly/excel/plotlyjs/plotlyjs-banner-background.png');
  background-repeat: no-repeat;
  background-size: cover;
  max-width: 100%;
  background-position: center top;
  width: 100%;
  height: 350px;
  position: relative;
  ">

	<div class="headerbar">

  <div class="headerbar-leftside">
      <a href="https://plot.ly/feed/" class="logo" target="_blank">
          <i class="ploticon-plotlylogo"></i>
          <em>plotly</em>
      </a>
  </div>

  <div class="headerbar-rightside hidesmall">


      <a href="/settings" id="toolsignin" class="headerbar-nav-item --product-header" target="_self">Sign In</a>

      <a class="button --enterprise-quaternary" href="/settings" id="signup" target="_self">
        SIGN UP
      </a>
      
      
        <a class="button" href="/2/~bar-chart-excel/?plot_type=Bar%20chart">
          &plus; NEW PROJECT
        </a>
        <a class="button" href="https://plot.ly/products/cloud/">
          UPGRADE
        </a>
      
      
      <a href="https://plotly.typeform.com/to/seG7Vb" class="typeform-share button --enterprise-quaternary" data-mode="1" target="_blank" onclick="window.mixpanel.track('Typeform demo request');">REQUEST DEMO</a>
      <script>(function(){var qs,js,q,s,d=document,gi=d.getElementById,ce=d.createElement,gt=d.getElementsByTagName,id='typef_orm',b='https://s3-eu-west-1.amazonaws.com/share.typeform.com/';if(!gi.call(d,id)){js=ce.call(d,'script');js.id=id;js.src=b+'share.js';q=gt.call(d,'script')[0];q.parentNode.insertBefore(js,q)}})()
      </script>

  </div>

  <div class="headerbar-nav hidesmall">

      <a href="https://plot.ly/feed/" target="_blank">
      <span class="headerbar-nav-item ">Feed</span>
      </a>

      <a href="https://plot.ly/products/cloud/" target="_blank">
      <span class="headerbar-nav-item ">Pricing</span></span>
      </a>

      <a href="http://dashboards.ly/" target="_blank">
      <span class="headerbar-nav-item ">Dashboards</span></span>
      </a>

      <a href="https://plot.ly/api/" onmouseover="dropDownMenu('api-menu')" onmouseout="hideDropDownMenu('api-menu')" target="_self">
      <span class="headerbar-nav-item ">API</span><span class="caret"></span>
      </a>

          <nav id="api-menu" role="menu" class="dropdown-menu" onmouseover="dropDownMenu('api-menu')" onmouseout="hideDropDownMenu('api-menu')" style="display:none; margin-left: 225px;">
              <a href="/python" class="dropdown-menu-item" target="_blank">PYTHON</a>
              <a href="/r" class="dropdown-menu-item" target="_blank">R</a>
              <a href="/matlab" class="dropdown-menu-item" target="_blank">MATLAB</a>
              <a href="/javascript-graphing-library" class="dropdown-menu-item" target="_blank">JAVASCRIPT</a>
              <a href="/api" class="dropdown-menu-item" target="_blank">MORE</a>
          </nav>

  </div>

  <div class="hamburger">
    <a href='#popmenufull' onclick='return clickfullmenu();'>
      <div id="harburger-menu"></div>
    </a>

  </div>

</div>

<!-- POP UP MENU -->
  <div id="popmenufull" style="display:none;">
      <div class="popupheader">
          <div class="headerbar-leftside">
            <a href="/feed/" class="logo">
              <i class="ploticon-plotlylogo"></i>
              <em>plotly</em>
            </a>
          </div>
          <a href='#popmenufull' onclick='return clickfullmenu();'>
          <div class="close"><img alt="close" src="http://i.imgur.com/esVZHwn.png"></div> </a>
      </div>

      <div class="popupmenu">
        <ul>
          <li><a href="https://plot.ly/feed/">Explore</a></li>
          <li><a href="https://plot.ly/products/cloud/">Pricing</a></li>

          <div onmouseover="dropDownMenu('sub-industries')" onmouseout="hideDropDownMenu('sub-industries')">
            <li><a href="https://plot.ly/products/industries/">Industries</a></li>
            <div class="sub-popmenu" id="sub-industries" style="display:none;">
                <ul class="no-margin">
                  <li class="no-margin"><a href="https://plot.ly/products/industries/finance/">FINANCE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/insurance/">INSURANCE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/aerospace/">AEROSPACE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/energy/">ENERGY</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/research-and-development/">RESEARCH &amp; DEVELOPMENT</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/automotive/">AUTOMOTIVE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/government-and-public/">GOVERNMENT</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/pharma/">PHARMA &amp; COMPUTATIONAL BIOLOGY</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/journalism/">JOURNALISM</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/business-intelligence/">BUSINESS INTELLIGENCE</a></li>
                </ul>
            </div>
          </div>
          <div onmouseover="dropDownMenu('sub-api')" onmouseout="hideDropDownMenu('sub-api')">
            <li><a href="https://plot.ly/api/">API</a></li>
            <div class="sub-popmenu" id="sub-api" style="display:none;">
              <ul class="no-margin">
                <li class="no-margin"><a href="/python">PYTHON</a></li>
                <li class="no-margin"><a href="/r">R</a></li>
                <li class="no-margin"><a href="/matlab">MATLAB</a></li>
                <li class="no-margin"><a href="/javascript">JAVASCRIPT</a></li>
                <li class="no-margin"><a href="/api">MORE</a></li>
              </ul>
            </div>
          </div>
        </ul>
      </div>

  </div>

  <!-- POPUP MENU FULL PAGE -->
  <script>
  function clickfullmenu(){
    var thediv=document.getElementById('popmenufull');
    if(thediv.style.display == "none"){
      thediv.style.display = "";
    }else{
      thediv.style.display = "none";
    }
    return false;
  };
  </script>

  <!-- Drop Down Menu -->
  <script>
  function dropDownMenu(divID){
    var chosenDiv = document.getElementById(divID);
    console.log(chosenDiv);
    if(chosenDiv.style.display == "none"){
      chosenDiv.style.display = "block";
    }
  };
  function hideDropDownMenu(divID){
    var chosenDiv = document.getElementById(divID);
    console.log(chosenDiv);
    if(chosenDiv.style.display == "block"){
      chosenDiv.style.display = "none";
    }
  }
  </script>

  <script>
  console.log('got this');
    var hamburgerDiv = document.getElementById('harburger-menu');
    var currentUrl = window.location.href;
    var newImg = document.createElement('img');
    if (currentUrl === 'https://plot.ly/javascript/' ) {
        newImg.setAttribute('src', 'https://plot.ly/gh-pages/documentation/static//images/white-hamburger-bg-transparent.png');
        newImg.setAttribute('alt', 'Menu');
        newImg.setAttribute('id', 'hamburgerlink');
        newImg.setAttribute('onmouseover', 'this.src="https://plot.ly/gh-pages/documentation/static//images/blue-hamburger-bg-transparent.png"');
        newImg.setAttribute('onmouseout', 'this.src="https://plot.ly/gh-pages/documentation/static//images/white-hamburger-bg-transparent.png"');
        hamburgerDiv.appendChild(newImg);
    } else {
        newImg.setAttribute('src', 'http://i.imgur.com/o7Mxj6T.png');
        newImg.setAttribute('alt', 'Menu');
        newImg.setAttribute('id', 'hamburgerlink');
        newImg.setAttribute('onmouseover', 'this.src="http://i.imgur.com/gj2TtuI.png"');
        newImg.setAttribute('onmouseout', 'this.src="http://i.imgur.com/o7Mxj6T.png"');
        hamburgerDiv.appendChild(newImg);
    }

  </script>

  <div style="
    background-image: linear-gradient(0deg, rgba(100,91,158, 0.89)  0%, rgba(58,124,187, 0.89) 100%);
    width: 100%;
    height: 100%;
  "></div>
  
    <!-- Lang Banner -->
    <div class="js-splash--banner-container">
    <div class="js-splash--banner-title" style="font-size: 5rem; margin-top: 0; margin-bottom: 2rem; font-weight: 300; font-family:'Open sans',verdana,arial,sans-serif;">
    
      plotly.js
    
    </div>
    <div class="js-splash--banner-subtitle" style="font-size: 2.2rem; letter-spacing: 0.3px; font-weight: 100;  margin-top: 0; margin-bottom: 2rem; font-weight: 300; font-family:'Open sans',verdana,arial,sans-serif;">
    
            <h5 style="font-size:30px; color: rgb(255,255,255);">The open source JavaScript graphing library that powers plotly</h5>
    
    </div>
    
    
       <iframe src="https://ghbtns.com/github-btn.html?user=plotly&repo=plotly.js&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
    
</div>

</div> 
<!-- </banner> -->

    <!-- sitemap -->
    <div class="navigation-bar">

    <p class="align-left padding_left_small"><a href="http://help.plot.ly/"><i class="fa fa-life-ring"></i> Help</a><span>/</span><a href="/api/">API Libraries</a><span>/</span><a href="/javascript"  id="nav-not-active"  >plotly.js</a><span>/</span><a href="#">Plotly.js Function Reference</a></p>

    <div class="float-right padding_right_small" style="margin-top:10px;">
        
            <a id="forklink" href="https://github.com/plotly/plotly.js"><i class="fa fa-github-alt"></i> Fork on GitHub</a>
        
    </div>

</div>


    <!-- sidebar -->
    
    <!-- If this tag is set to true in the page, it will not apply sidebar -->
    
		
	


<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
<!-- pin the sidebar to the top -->
$(function() {

    var $window    = $(window),
        $header    = $("#header");
    
    function setHeight() {
      if($("#sidebar").length){
          var $sidebar   = $("#sidebar");
          var $top = Math.max(50,(($header.height() + 50) - $window.scrollTop()));
      } 

      else if($("#reference-side-nav").length){
          var $sidebar   = $("#reference-side-nav");
          var $top = Math.max(0,(($header.height() + 60) - $window.scrollTop())); 
      }

      else{
          var $sidebar = null; // dont do anything, if no sidebars
          var $top = 0;
      }
      
      $sidebar.css({top: $top});
    }
    setHeight();
    $window.scroll(setHeight);
});
</script>

<div class="js-splash--container no-side-bar"
 >
					<h1 id="plotlyjs-function-reference" class="centered"><a class="no_underline" href="#plotlyjs-function-reference">Plotly Function Reference</a></h1>

<p><br><br><br>
<div class="row">
    <div class="four columns">
      <div class="toc" style="border-right: 1px solid #f3f3f3; padding-right: 20px;"><br><br>
          <ul>
              <li><a href="#other-resources" class="attribute-name"><p class="left-align">Other Plotly.js resources</p></a></li>
              <li><a href="#retrieving-data-layout" class="attribute-name"><p class="left-align">Retrieving the plot &#39;data&#39; or &#39;layout&#39; objects</p></a></li>
              <li><a href="#plotly-newplot" class="attribute-name"><p class="left-align">Plot with Plotly.newPlot</p></a></li>
              <li><a href="#plotly-restyle" class="attribute-name"><p class="left-align">Edit attributes with Plotly.restyle</p></a></li>
              <li><a href="#plotly-relayout" class="attribute-name"><p class="left-align">Update Layout Attributes with Plotly.relayout</p></a></li>
              <li><a href="#plotly-addtraces" class="attribute-name"><p class="left-align">Add Traces with Plotly.addTraces</p></a></li>
              <li><a href="#plotly-deletetraces" class="attribute-name"><p class="left-align">Delete traces with Plotly.deleteTraces</p></a></li>
              <li><a href="#plotly-movetraces" class="attribute-name"><p class="left-align">Move traces with Plotly.moveTraces</p></a></li>
              <li><a href="#plotly-redraw" class="attribute-name"><p class="left-align">Redraw with Plotly.redraw</p></a></li>
              <li><a href="#plotly-events" class="attribute-name"><p class="left-align">Using events</p></a></li>
          </ul>
      </div>
    </div>
<div class="eight columns">
<h4 id="other-resources"><a class="no_underline plot-blue" href="#other-resources">Other Plotly.js Resources</a></h4></p>

<ul>
<li><p><a href="/javascript/">Simple examples of Plotly.js graphs</a></p></li>
<li><p><a class="no_underline" href="/javascript/reference">Reference of all of valid keys of Plotly.js graphs</a></p></li>
<li><p>Find the JSON description of <b>any</b> plotly graph by adding <code>.json</code> to the end of <b>any</b> Plotly graph url. For example, the JSON to describe this graph: <a class="no_underline" href="https://plot.ly/~PlotBot/82">https://plot.ly/~PlotBot/82</a> is here : <a class="no_underline" href="https://plot.ly/~PlotBot/82.json">https://plot.ly/~PlotBot/82.json</a></p></li>
<li><p><a class="no_underline" href="https://github.com/plotly/postMessage-API">Updating hosted Plotly graphs through iFrames with our postMessage API</a></p></li>
<li><p>Support: <a class="no_underline" href="http://stackoverflow.com/questions/tagged/plotly?sort=newest&pageSize=15">StackOverflow</a> <a class="no_underline" href="http://community.plot.ly/">community.plot.ly/</a></p></li>
</ul>

<h4 id="retrieving-data-layout"><a class="no_underline plot-blue" href="#retrieving-data-layout">Retrieving the plot <code>data</code> or <code>layout</code></pre> objects</a></h4>

<p>The plot <code>data</code> or <code>layout</code> can  be retrieved from the <code>&lt;div&gt;</code> element in which the plot was drawn:</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
var data = [trace1, trace2, trace3];
Plotly.newPlot('examplePlot', data, {title:'My Plot'});

var plotDiv = document.getElementById('examplePlot');
var plotData = plotDiv.data;
</code></pre>

<h4 id="plotly-newplot"><a>Plot with <code>Plotly.newPlot</code></a></h4>

<p>Use <code>newPlot</code> to create a new plot in an empty <code>&lt;div&gt;</code> element.
A note on sizing: You can either supply height and width in <code>layout</code>, or give <code>graphDiv</code> a height and width in css.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
var trace1 = {
  x: [1999, 2000, 2001, 2002],
  y: [10, 15, 13, 17],
  type: 'scatter'
};
var trace2 = {
  x: [1999, 2000, 2001, 2002],
  y: [16, 5, 11, 9],
  type: 'scatter'
};
var data = [trace1, trace2];
var layout = {
  title: 'Sales Growth',
  xaxis: {
    title: 'Year',
    showgrid: false,
    zeroline: false
  },
  yaxis: {
    title: 'Percent',
    showline: false
  }
};
Plotly.newPlot(graphDiv, data, layout);

// deprecated: calling plot again will add new trace(s) to the plot,
// but will ignore new layout.
var data2 = [{
  x: [1999, 2000, 2001, 2002],
  y: [10, 9, 8, 7],
  type: 'scatter'
}];
var layout2 = {title: 'Revenue'};
Plotly.newPlot(graphDiv, data2, layout2);
</code></pre>

<p><br></p>

<p data-height="440" data-theme-id="15263" data-slug-hash="meaKwE" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/meaKwE/'>Plotly.newPlot</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<p>You can hide the link to Plotly&#39;s cloud with <code>{showLink: false}</code> as the 4th argument.<br>
<code>Plotly.plot(divid, data, layout, {showLink: false})</code></p>

<p>There are several other options that you can supply as the fourth argument. See more examples of the <a href="https://plot.ly/javascript/configuration-options/">configuration options.</a></p>

<h4 id="plotly-restyle"><a class="no_underline plot-blue" href="#plotly-restyle">Edit attributes with <code>Plotly.restyle</code></a></h4>

<p>A more efficient means of changing parameters in the data array. When restyling, you may choose to have the specified changes effect as many traces as desired. The update is given as a single object and the traces that are effected are given as a list of traces indices. Note, leaving the trace indices unspecified assumes that you want to restyle <b>all</b> the traces.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// restyle a single trace using attribute strings
var update = {
    opacity: 0.4,
    marker.color: 'red'
};
Plotly.restyle(graphDiv, update, 0);

// restyle all traces using attribute strings
var update = {
    opacity: 0.4,
    marker.color: 'red'
};
Plotly.restyle(graphDiv, update);

// restyle two traces using attribute strings
var update = {
    opacity: 0.4,
    marker.color: 'red'
};
Plotly.restyle(graphDiv, update, [1, 2]);
</code></pre>

<p><br></p>

<p data-height="400" data-theme-id="15263" data-slug-hash="meaKYw" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/meaKYw/'>Plotly.restyle</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<p>The above examples have applied values across single or multiple traces. However, you can also specify <b>arrays</b> of values to apply to traces <b>in turn</b>.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// restyle the first trace's marker color 'red' and the second's 'green'
var update = {
    marker.color: ['red', 'green']
};
Plotly.restyle(graphDiv, update, [0, 1])

// alternate between red and green for all traces (note omission of traces)
var update = {
    marker.color: ['red', 'green']
};
Plotly.restyle(graphDiv, update)
</code></pre>

<p><br></p>

<p data-height="515" data-theme-id="15263" data-slug-hash="NGeBGL" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/NGeBGL/'>Plotly.restyle Traces in Turn</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<p><br></p>

<p>In restyle, arrays are assumed to be used in conjunction with the trace indices provided. Therefore, to apply an array <b>as a value</b>, you need to wrap it in an additional array. For example:</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// update the color attribute of the first trace so that the markers within the same trace
// have different colors
var update = {
    marker.color: [['red', 'green']]
}
Plotly.restyle(graphDiv, update, [0])

// update two traces with new z data
var update = {z: [[[1,2,3], [2,1,2], [1,1,1]], [[0,1,1], [0,2,1], [3,2,1]]]};
Plotly.restyle(graphDiv, update, [1, 2])
</code></pre>

<p><br></p>

<p data-height="502" data-theme-id="15263" data-slug-hash="wKRxJE" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/wKRxJE/'>Plotly.restyle Arrays </a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<p>The term <b>attribute strings</b> is used above to mean <b>flattened</b> (e.g., <code>{marker: {color: &#39;red&#39;}}</code> vs. <code>{&#39;marker.color&#39;: red}</code>). When you pass an attribute string to restyle inside the update object, it’s assumed to mean <b>update only this attribute</b>. Therefore, if you wish to replace and entire sub-object, you may simply specify <b>one less level of nesting</b>.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// replace the entire marker object with the one provided
var update = {
    marker: {color: 'red'}
};
Plotly.restyle(graphDiv, update, [0])
</code></pre>

<p><br></p>

<p data-height="528" data-theme-id="15263" data-slug-hash="LpMBOy" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/LpMBOy/'>Plotly.restyle Attribute strings </a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<h4 id="plotly-relayout"><a class="no_underline plot-blue" href="#plotly-relayout">Update layout attributes with <code>Plotly.relayout</code></a></h4>

<p>A more efficient means of updating just the layout in a graphDiv. The call signature and arguments for relayout are similar (but simpler) to restyle. Because there are no indices to deal with, arrays need not be wrapped. Also, no argument specifying applicable trace indices is passed in.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// update only values within nested objects
var update = {
    title: 'some new title',
    xaxis.range: [0, 5]
};
Plotly.relayout(graphDiv, update)
</code></pre>

<p><br></p>

<p data-height="526" data-theme-id="15263" data-slug-hash="meajqx" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/meajqx/'>Plotly.relayout</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<p>Again, caution should be taken regarding flat <b>attribute strings</b> vs sub-objects used with relayout. In the above example, the value for <code>range</code> <b>in</b> <code>xaxis</code> is update. Conversly, below, the <code>xaxis</code> object is <b>replaced</b> with one that only has the range value:</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// update an entire nested object with relayout
var update = {
    tile: 'some new title',
    xaxis: {range: [0, 5]}
};
Plotly.relayout(graphDiv, update)
</code></pre>

<p><br></p>

<p data-height="507" data-theme-id="15263" data-slug-hash="jbXpZj" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/jbXpZj/'>Plotly.relayout - xaxis replace</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<h4 id="plotly-addtraces"><a class="no_underline plot-blue" href="#plotly-addtraces">Add Traces with <code>Plotly.addTraces</code></a></h4>

<p>This allows you to add <b>new</b> traces to an existing <code>graphDiv</code> at any location in its data array.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// add a single trace to an existing graphDiv
Plotly.addTraces(graphDiv, {y: [2,1,2]});

// add two traces
Plotly.addTraces(graphDiv, [{y: [2,1,2]}, {y: [4, 5, 7]}]);

// add a trace at the beginning of the data array
Plotly.addTraces(graphDiv, {y: [1, 5, 7]}, 0);
</code></pre>

<p><br></p>

<p data-height="510" data-theme-id="15263" data-slug-hash="xwmJvL" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/xwmJvL/'>Plotly.addtraces</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<h4 id="plotly-deletetraces"><a class="no_underline plot-blue" href="#plotly-deletetraces">Delete Traces with <code>Plotly.deleteTraces</code></a></h4>

<p>This allows you to remove traces from an existing <code>graphDiv</code> by specifying the indices of the traces to be removed.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// remove the first trace
Plotly.deleteTraces(graphDiv, 0);

// remove the last two traces
Plotly.deleteTraces(graphDiv, [-2, -1]);
</code></pre>

<p><br></p>

<p data-height="503" data-theme-id="15263" data-slug-hash="meaGRo" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/meaGRo/'>Plotly.deleteTraces</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<h4 id="plotly-movetraces"><a class="no_underline plot-blue" href="#plotly-movetraces">Move Traces with <code>Plotly.moveTraces</code></a></h4>

<p>This allows you to reorder traces in an existing <code>graphDiv</code>. This will change the ordering of the layering and the legend.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// move the first trace (at index 0) the the end of the data array
Plotly.moveTraces(graphDiv, 0);

// move selected traces (at indices [0, 3, 5]) to the end of the data array
Plotly.moveTraces(graphDiv, [0, 3, 5]);

// move last trace (at index -1) to the beginning of the data array (index 0)
Plotly.moveTraces(graphDiv, -1, 0);

// move selected traces (at indices [1, 4, 5]) to new indices [0, 3, 2]
Plotly.moveTraces(graphDiv, [1, 4, 5], [0, 3, 2]);
</code></pre>

<p><br></p>

<p data-height="500" data-theme-id="15263" data-slug-hash="LpMJyB" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/LpMJyB/'>Plotly.moveTraces</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<h4 id="plotly-redraw"><a class="no_underline plot-blue" href="#plotly-redraw">Redraw with <code>Plotly.redraw</code></a></h4>

<p>Use <code>redraw</code> to trigger a complete recalculation and redraw of the graph. This is not the fastest way to change single attributes, but may be the simplest way. You can make any arbitrary change to the data and layout objects, including completely replacing them, then call redraw.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// make a modification to a graphDiv's data and redraw
graphDiv.data[0].opacity = 0.4;
Plotly.redraw(graphDiv);

// make many modifications and redraw
graphDiv.data[1].marker.color = 'red';
graphDiv.data.push({x: [1,2,3,4], y: [4,3,2,1], mode: 'lines+markers'})
graphDiv.layout.showlegend = false;
Plotly.redraw(graphDiv);
</code></pre>

<p><br></p>

<p data-height="515" data-theme-id="15263" data-slug-hash="GpPXdV" data-default-tab="result" data-user="plotly" class='codepen' data-preview="true">See the Pen <a href='http://codepen.io/plotly/pen/GpPXdV/'>Plotly.redraw</a> by plotly (<a href='http://codepen.io/plotly'>@plotly</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><br></p>

<h4 id="plotly-events"><a class="no_underline plot-blue" href="#plotly-redraw">Using events</a></h4>

<p>Plots emit events prefixed with <code>plotly_</code> when clicked or hovered over, and event handlers can be bound to events using the <code>on</code> method that is exposed by the plot div object. It is possible to use jQuery events, but plotly.js no longer bundles jQuery, so we recommend using the plotly.js implementation.</p>

<pre><code class="language-javascript hljs" data-lang="javascript">
// You can obtain the plot using document.getElementById('graphDiv')
graphDiv.on('plotly_click', function(data){
    // do something using the event data
});
</code></pre>

<p><br></p>

<p>As well as <code>plotly_click</code>, there is <code>plotly_beforehover</code>, <code>plotly_hover</code> and <code>plotly_unhover</code>.</p>

<p><br></p>

<h4 id="plotly-plot"><a class="no_underline plot-blue" href="#note-plotly-plot">A note on <code>Plotly.plot</code></a></h4>

<p><code>Plotly.plot</code> is like <code>newPlot</code>, but it isn&#39;t idempotent (you can&#39;t call it multiple times in a row).
    </div>
</div></p>

</div>


<div class="sponsor">Distribution powered by</div>
<a target="_blank" href="https://www.fastly.com/"><img src="https://www.fastly.com/sites/default/files/fastly_logo.png" alt="Fastly"></a>

<footer>
<div class="plotly-footer">
	<div style="
    background-image: url('https://images.plot.ly/background-images/grey-chart-background.png');
    height: 200px;
    font-family: 'Open sans',verdana,arial,sans-serif;
    position: relative;">

<h2 style="
    text-align: center;
    background-color: rgba(255,255,255,0.9);
    margin: 0px;
    padding-top: 20px;
    font-family: 'Open sans',verdana,arial,sans-serif;">upgrade to pro</h2>

<h5 style="
    text-align: center;
    background-color: rgba(255,255,255,0.9);
    margin: 0;
    padding: 20px 0px;
    color: black;
    font-family: 'Open sans',verdana,arial,sans-serif;">unlimited private files & email support</h5>

<div style="
    text-align: center;
    height: 50%;
    font-family: 'Open sans',verdana,arial,sans-serif;
    background-color: rgba(255,255,255,0.9);">

<a class="button trial-offline-cta" href="https://plot.ly/products/cloud/">$20 per month</a>

</div>
</div>

	<div class="row footerarea footer-top" style="z-index: 100; position: relative;">
		<div class="one column footcolumn space"> </div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">API</h6>
			<ul>
				<li><a  href="https://plot.ly/api/" target="_self">Documentation</a></li>
				<li><a  href="https://plot.ly/api/" target="_self">API Libraries</a></li>
				<li><a  href="https://plot.ly/rest/" target="_self">REST APIs</a></li>
				<li><a  href="https://plot.ly/javascript/" target="_self">Plotly.js</a></li>
				<li><a  href="https://plot.ly/workshop/" target="_self">Hardware</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">About Us</h6>
			<ul>
				<li><a href="https://plot.ly/company/team/" target="_self">Team</a></li>
				<li><a href="https://plot.ly/company/jobs/" target="_self">Careers</a></li>
				<li><a href="http://blog.plot.ly" target="_blank">Plotly Blog</a></li>
				<li><a href="http://moderndata.plot.ly" target="_blank">Modern Data</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">Help</h6>
			<ul>
				<li><a href="https://plot.ly/learn/" target="_self">Knowledge Base</a></li>
				<li><a href="https://plot.ly/benchmarks/" target="_self">Benchmarks</a></li>
				<li><a href="https://plot.ly/workshop/" target="_self">Workshop</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">Solutions</h6>
			<ul>
				<li><a href="https://plot.ly/product/plans/" target="_self">Plans &amp; Pricing</a></li>
				<li><a href="https://plot.ly/product/enterprise/" target="_self">Enterprise</a></li>
				<li><a href="https://plot.ly/online-graphing-and-statistics-for-educators/" target="_self">Education</a></li>
				<li><a href="https://plot.ly/product/plotlyjs/" target="_self">Plotly.js</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
     		<h6 class="footer-heading">Connect</h6>
			<ul class="plotly-social-media-small">
				<li><a href="//twitter.com/plotlygraphs" target="_blank"><i class="icon-twitter social_icon"></i></a></li>
				<li><a href="//www.facebook.com/Plotly" target="_blank"><i class="icon-facebook social_icon"></i></a></li>
				<li><a href="//github.com/plotly" target="_blank"><i class="icon-github social_icon"></i></a></li>
				<li><a href="//linkedin.com/company/plotly" target="_blank"><i class="icon-linkedin social_icon"></i></a></li>
				<li><a href="//plus.google.com/+PlotLy" target="_blank"><i class="icon-google-plus  social_icon"></i></a></li>
			</ul>
		</div>
		<div class="one column footcolumn"></div>
	</div>

	<div class="row footerarea footer-bottom" style="z-index: 100; position: relative;">
		<div class="one column footcolumn space"> </div>
		<div class="four columns footcolumn"><p>Copyright &copy; 2015 Plotly. All rights reserved.</p></div>
		<div class="two columns footcolumn"><a href="https://plot.ly/terms-of-service/" target="_blank" ><p>Terms of Service</p></a></div>
		<div class="two columns footcolumn"><a href="https://plot.ly/privacy/" target="_blank"><p>Privacy Policy</p></a></div>


	</div>
</div>
</footer>



<!-- Image Hover Script -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/imghover.js"></script>

<!-- code highlighting -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39373211-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]);
mixpanel.init("ad6df61d0b9400400b240631576c24d4");</script><!-- end Mixpanel -->

<script type="text/javascript">
    mixpanel.track("Page visit", {
        "url_group": "API docs - GitHub pages",
        "url": window.location.pathname
    });
</script>

<script type="text/javascript">
function getQueryParam(param) {
    param = param.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regexS = "[\\?&]" + param + "=([^&#]*)",
        regex = new RegExp( regexS ),
        results = regex.exec(document.URL);
    if (results === null || (results && typeof(results[1]) !== 'string' && results[1].length)) {
        return '';
    } else {
        return decodeURIComponent(results[1]).replace(/\+/g, ' ');
    }
};
</script>

<script type="text/javascript">
    var visit_origin = getQueryParam("campaign_id");

    mixpanel.register({
        "email_campaign_received": visit_origin
    });

		mixpanel.track("email-campaign-visit", {
				"url": window.location.pathname,
				"email_campaign_received": visit_origin
		});
</script>


<!-- Crazy Egg -->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0042/1249.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-563d60eba90f0f45" async="async"></script>

<!-- Perfect Audience -->
<script type="text/javascript">
(function() {
  window._pa = window._pa || {};
  // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
  // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
  // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
  var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
  pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/5641f73b04b7cacb9d000124.js";
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
})();
</script>


</body>
</html>
