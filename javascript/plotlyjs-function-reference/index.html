<!DOCTYPE html>
<html>
	    <head>

        <meta charset="utf-8" />

    	<!-- Fonts -->
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//fonts/font-awesome/css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/plotly_icons.css" />
        <link href="//fonts.googleapis.com/css?family=Open+Sans:600,400,300,200|Inconsolata|Ubuntu+Mono:400,700" rel="stylesheet" type="text/css" />


    	<!-- Stytlesheets -->
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/normalize.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/base.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/layout_block.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/modules.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/state.css">
    	<!-- Download icon for Plotly.js -->
	   <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        
        <link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/api_docs.css">
        

    	<!-- Icon -->
    	<link rel="shortcut icon" href="https://plot.ly/gh-pages/documentation/static//images/plotly-ico.png" type="image/x-icon" />

    	<!-- META TAGS -->
    	<!-- SEO Tags - title, meta_description -->
    <title>Plotly.js Function Reference</title>
    <meta name="description" content="Plotly.js function reference. How to create, update, and modify graphs drawn with Plotly's Javascript Graphing Library.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Plotly.js Function Reference"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="http://help.plot.ly/images/twitter-default.png">
    <meta property="og:description" content="Plotly.js function reference. How to create, update, and modify graphs drawn with Plotly's Javascript Graphing Library."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Plotly.js Function Reference"/>
    <meta name="twitter:url" content="http://help.plot.ly/javascript/plotlyjs-function-reference"/>
    <meta name="twitter:description" content="Plotly.js function reference. How to create, update, and modify graphs drawn with Plotly's Javascript Graphing Library."/>
    <meta name="twitter:image" content="http://help.plot.ly/images/twitter-default.png">
    <meta name="twitter:site" content="@plotlygraphs"/>

<!-- Favicon -->
    <link rel="shortcut icon" href="https://plot.ly/gh-pages/documentation/static//images/plotly-ico.png" />



    	<!-- code highlighting -->
    	<link rel="stylesheet" href="https://plot.ly/gh-pages/documentation/static//javascripts/codehighlight/styles/tomorrow.css">

	<!-- start Mixpanel --><script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
	for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
	mixpanel.init("ad6df61d0b9400400b240631576c24d4");</script><!-- end Mixpanel -->

	</head>

	<body>
	<div class="allcontent">
		<div class="headerbar">

  <div class="headerbar-leftside">
      <a href="https://plot.ly/feed/" class="logo">
          <i class="ploticon-plotlylogo"></i>
          <em>plotly</em>
      </a>
  </div>

  <div class="headerbar-rightside hidesmall">

      <a class="button" href="https://plot.ly/plot">
        &plus; NEW PROJECT
      </a>

      <a class="button" href="https://plot.ly/products/enterprise/get-in-touch/">
        REQUEST DEMO
      </a>
  </div>

  <div class="headerbar-nav hidesmall">

      <a href="https://plot.ly/feed/" target="_self">
      <span class="headerbar-nav-item ">Explore</span>
      </a>

      <a href="https://plot.ly/products/" onmouseover="dropDownMenu('products-nav')" onmouseout="hideDropDownMenu('products-nav')" target="_self">
      <span class="headerbar-nav-item ">Products</span><span class="caret"></span>
      </a>

          <nav id="products-nav" role="menu" class="dropdown-menu" onmouseover="dropDownMenu('products-nav')" onmouseout="hideDropDownMenu('products-nav')" style="display:none; margin-left: 25px;">
            <a href="https://plot.ly/products/cloud/" class="dropdown-menu-item" target="_self">CLOUD</a>
            <a href="https://plot.ly/products/desktop/" class="dropdown-menu-item" target="_self">DESKTOP</a>
            <a href="https://plot.ly/products/on-premise/" class="dropdown-menu-item" target="_self">ON PREMISE</a>
            <a href="https://plot.ly/product/plotlyjs/" class="dropdown-menu-item" target="_self">PLOTLY.JS</a>
            <a href="https://plot.ly/products/add-ons/" class="dropdown-menu-item" target="_self">ADD-ONS</a>
          </nav>

      <a href="https://plot.ly/products/industries/" onmouseover="dropDownMenu('industries-nav')" onmouseout="hideDropDownMenu('industries-nav')" target="_self">
      <span class="headerbar-nav-item ">Industries</span><span class="caret"></span>
      </a>

          <nav id="industries-nav" role="menu" class="dropdown-menu" onmouseover="dropDownMenu('industries-nav')" onmouseout="hideDropDownMenu('industries-nav')" style="display:none; margin-left: 50px;">
              <a href="https://plot.ly/products/industries/finance/" class="dropdown-menu-item" target="_self">FINANCE</a>
              <a href="https://plot.ly/products/industries/insurance/" class="dropdown-menu-item" target="_self">INSURANCE</a>
              <a href="https://plot.ly/products/industries/aerospace/" class="dropdown-menu-item" target="_self">AEROSPACE</a>
              <a href="https://plot.ly/products/industries/energy/" class="dropdown-menu-item" target="_self">ENERGY</a>
              <a href="https://plot.ly/products/industries/research-and-development/" class="dropdown-menu-item" target="_self">RESEARCH &amp; DEVELOPMENT</a>
              <a href="https://plot.ly/products/industries/automotive/" class="dropdown-menu-item" target="_self">AUTOMOTIVE</a>
              <a href="https://plot.ly/products/industries/government-and-public/" class="dropdown-menu-item" target="_self">GOVERNMENT</a>
              <a href="https://plot.ly/products/industries/pharma/" class="dropdown-menu-item" target="_self">PHARMA &amp; COMPUTATIONAL BIOLOGY</a>
              <a href="https://plot.ly/products/industries/journalism/" class="dropdown-menu-item" target="_self">JOURNALISM</a>
              <a href="https://plot.ly/products/industries/business-intelligence/" class="dropdown-menu-item" target="_self">BUSINESS INTELLIGENCE</a>
          </nav>

      <a href="https://plot.ly/api/" onmouseover="dropDownMenu('api-menu')" onmouseout="hideDropDownMenu('api-menu')" target="_self">
      <span class="headerbar-nav-item ">API</span><span class="caret"></span>
      </a>

          <nav id="api-menu" role="menu" class="dropdown-menu" onmouseover="dropDownMenu('api-menu')" onmouseout="hideDropDownMenu('api-menu')" style="display:none; margin-left: 225px;">
              <a href="/python" class="dropdown-menu-item" target="_self">PYTHON</a>
              <a href="/r" class="dropdown-menu-item" target="_self">R</a>
              <a href="/matlab" class="dropdown-menu-item" target="_self">MATLAB</a>
              <a href="/javascript-graphing-library" class="dropdown-menu-item" target="_self">JAVASCRIPT</a>
              <a href="/api" class="dropdown-menu-item" target="_self">MORE</a>
          </nav>

  </div>

  <div class="hamburger">
    <a href='#popmenufull' onclick='return clickfullmenu();'>
      <img src="http://i.imgur.com/o7Mxj6T.png" alt="Menu" id="hamburgerlink" onmouseover="this.src='http://i.imgur.com/gj2TtuI.png'" onmouseout="this.src='http://i.imgur.com/o7Mxj6T.png'">
    </a>

  </div>

</div>

<!-- POP UP MENU -->
  <div id="popmenufull" style="display:none;">
      <div class="popupheader">
          <div class="headerbar-leftside">
            <a href="/feed/" class="logo">
              <i class="ploticon-plotlylogo"></i>
              <em>plotly</em>
            </a>
          </div>
          <a href='#popmenufull' onclick='return clickfullmenu();'>
          <div class="close"><img alt="close" src="http://i.imgur.com/esVZHwn.png"></div> </a>
      </div>

      <div class="popupmenu">
        <ul>
          <li><a href="https://plot.ly/feed/">Explore</a></li>
          <div onmouseover="dropDownMenu('sub-products')" onmouseout="hideDropDownMenu('sub-products')">
            <li><a href="https://plot.ly/products/">Products</a></li>
            <div class="sub-popmenu" id="sub-products" style="display:none;">
                <ul class="no-margin">
                  <li class="no-margin"><a href="https://plot.ly/products/cloud/">CLOUD</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/desktop/">DESKTOP</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/on-premise/">ON PREMISE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/product/plotlyjs/">PLOTLY.JS</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/add-ons/">ADD-ONS</a></li>
                </ul>
            </div>
          </div>
          <div onmouseover="dropDownMenu('sub-industries')" onmouseout="hideDropDownMenu('sub-industries')">
            <li><a href="https://plot.ly/products/industries/">Industries</a></li>
            <div class="sub-popmenu" id="sub-industries" style="display:none;">
                <ul class="no-margin">
                  <li class="no-margin"><a href="https://plot.ly/products/industries/finance/">FINANCE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/insurance/">INSURANCE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/aerospace/">AEROSPACE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/energy/">ENERGY</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/research-and-development/">RESEARCH &amp; DEVELOPMENT</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/automotive/">AUTOMOTIVE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/government-and-public/">GOVERNMENT</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/pharma/">PHARMA &amp; COMPUTATIONAL BIOLOGY</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/journalism/">JOURNALISM</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/business-intelligence/">BUSINESS INTELLIGENCE</a></li>
                </ul>
            </div>
          </div>
          <div onmouseover="dropDownMenu('sub-api')" onmouseout="hideDropDownMenu('sub-api')">
            <li><a href="https://plot.ly/api/">API</a></li>
            <div class="sub-popmenu" id="sub-api" style="display:none;">
              <ul class="no-margin">
                <li class="no-margin"><a href="/python">PYTHON</a></li>
                <li class="no-margin"><a href="/r">R</a></li>
                <li class="no-margin"><a href="/matlab">MATLAB</a></li>
                <li class="no-margin"><a href="/javascript">JAVASCRIPT</a></li>
                <li class="no-margin"><a href="/api">MORE</a></li>
              </ul>
            </div>
          </div>
        </ul>
      </div>

  </div>

  <!-- POPUP MENU FULL PAGE -->
  <script>
  function clickfullmenu(){
    var thediv=document.getElementById('popmenufull');
    if(thediv.style.display == "none"){
      thediv.style.display = "";
    }else{
      thediv.style.display = "none";
    }
    return false;
  };
  </script>

  <!-- Drop Down Menu -->
  <script>
  function dropDownMenu(divID){
    var chosenDiv = document.getElementById(divID);
    console.log(chosenDiv);
    if(chosenDiv.style.display == "none"){
      chosenDiv.style.display = "block";
    }
  };
  function hideDropDownMenu(divID){
    var chosenDiv = document.getElementById(divID);
    console.log(chosenDiv);
    if(chosenDiv.style.display == "block"){
      chosenDiv.style.display = "none";
    }
  }
  </script>

		

  <div style="
      	background-image: url(https://plot.ly/gh-pages/documentation/static//images/plotlyjs-background-1.png);
      	height: 350px;
      	text-align: center;">
  	<div style="background-color: rgba(255,255,255,0.6); height: 100%; text-align: center;">
      <div style="text-align: center;position: relative;">
      		<h1 class="centered" style="margin-bottom: 20px;">plotly.js</h1>
      	<h5>the premier charting library for the web</h5>
      	<a class="button plotlyjs-download" href="http://d14fo0winaifog.cloudfront.net/plotlyjs_basic.zip" target="_blank" onclick='mixpanel.track("PlotlyJS Download",{ "Location": "Banner" });'>
      		<i class="fa fa-download fa-lg"></i> Download
      	</a>
      	<p class="centered version-number">version 20150720a_basic</p>
      </div>
    </div>
  </div>



		<div class="navigation-bar">

    <p class="align-left padding_left_small"><a href="/api/">API Libraries</a><span>/</span><a href="/javascript"  >Javascript Graphing Library</a><span>/</span><a href="#">Plotly.js Function Reference</a></p>

    <div class="float-right padding_right_small" style="margin-top:10px;">
        <a id="forklink" href="https://github.com/plotly"><i class="fa fa-github-alt"></i> Fork on GitHub</a>
    </div>

</div>



		<div class="sectionseparator_bg">
			<div class="container">

				<div class="row">
				<div class="getstartarea">

				<h1>Plotly Object Reference</h1>

<h4>Other Plotly.js Resources</h5></h4>

<ul>
<li><a href="https://plot.ly/javascript/">Simple examples of Plotly.js graphs</a></li>
<li><a href="https://plot.ly/javascript/reference">Reference of all of valid keys of Plotly.js graphs</a></li>
<li>Find the JSON description of <strong>any</strong> plotly graph by adding <code>.json</code> to the end of <strong>any</strong> Plotly graph url.
For example, the JSON to describe this graph: <a href="https://plot.ly/%7EPlotBot/82">https://plot.ly/~PlotBot/82</a>
is here: <a href="https://plot.ly/%7EPlotBot/82.json">https://plot.ly/~PlotBot/82.json</a></li>
<li><a href="https://github.com/plotly/postMessage-API">Updating hosted Plotly graphs through iFrames with our postMessage API</a></li>
<li>Support: <a href="http://stackoverflow.com/questions/tagged/plotly?sort=newest&amp;pageSize=15">StackOverflow</a>, <a href="https://twitter.com/plotlygraphs">@plotlygraphs</a></li>
</ul>

<h3>Plot with <code>Plotly.newPlot</code></h3>

<p>Use <code>newPlot</code> to create a new plot in an empty <code>&lt;div&gt;</code> element.
A note on sizing: You can either supply height and width in <code>layout</code>, or give <code>graphDiv</code> a height and width in css.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var trace1 = {
  x: [1999, 2000, 2001, 2002],
  y: [10, 15, 13, 17],
  type: &quot;scatter&quot;
};
var trace2 = {
  x: [1999, 2000, 2001, 2002],
  y: [16, 5, 11, 9],
  type: &quot;scatter&quot;
};
var data = [trace1, trace2];
var layout = {
  title: &quot;Sales Growth&quot;,
  xaxis: {
    title: &quot;Year&quot;,
    showgrid: false,
    zeroline: false
  },
  yaxis: {
    title: &quot;Percent&quot;,
    showline: false
  }
};
Plotly.newPlot(graphDiv, data, layout);

// deprecated: calling plot again will add new trace(s) to the plot,
// but will ignore new layout.
var data2 = [{
  x: [1999, 2000, 2001, 2002],
  y: [10, 9, 8, 7],
  type: &quot;scatter&quot;
}];
var layout2 = {title: &quot;Revenue&quot;};
Plotly.newPlot(graphDiv, data2, layout2);
</code></pre></div>
<h3>Edit attributes with <code>Plotly.restyle</code></h3>

<p>A more efficient means of changing parameters in the data array. When restyling, you may choose to have the specified changes effect as many traces as desired. The update is given as a single object and the traces that are effected are given as a list of traces indices. Note, leaving the trace indices unspecified assumes that you want to restyle <strong>all</strong> the traces.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// restyle a single trace using attribute strings</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;opacity&#39;</span><span class="o">:</span> <span class="mf">0.4</span><span class="p">,</span>
    <span class="s1">&#39;marker.color&#39;</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// restyle all traces using attribute strings</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;opacity&#39;</span><span class="o">:</span> <span class="mf">0.4</span><span class="p">,</span>
    <span class="s1">&#39;marker.color&#39;</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">);</span>

<span class="c1">// restyle two traces using attribute strings</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;opacity&#39;</span><span class="o">:</span> <span class="mf">0.4</span><span class="p">,</span>
    <span class="s1">&#39;marker.color&#39;</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
</code></pre></div>
<p>The above examples have applied values across single or multiple traces. However, you can also specify <strong>arrays</strong> of values to apply to traces <strong>in turn</strong>.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// restyle the first trace&#39;s marker color &#39;red&#39; and the second&#39;s &#39;green&#39;</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;marker.color&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">]</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="c1">// alternate between red and green for all traces (note omission of traces)</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;marker.color&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">]</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">)</span>
</code></pre></div>
<p>In restyle, arrays are assumed to be used in conjunction with the trace indices provided. Therefore, to apply an array <strong>as a value</strong>, you need to wrap it in an additional array. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// update the color attribute of the first trace so that the markers within the same trace</span>
<span class="c1">// have different colors</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;marker.color&#39;</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">]]</span>
<span class="p">}</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1">// update two traces with new z data</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;z&#39;</span><span class="o">:</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]]]};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</code></pre></div>
<p>The term <strong>attribute strings</strong> is used above to mean <strong>flattened</strong> (e.g., <code>{marker: {color: &#39;red&#39;}}</code> vs. <code>{&#39;marker.color&#39;: red}</code>). When you pass an attribute string to restyle inside the update object, itâ€™s assumed to mean <strong>update only this attribute</strong>. Therefore, if you wish to replace and entire sub-object, you may simply specify <strong>one less level of nesting</strong>.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// replace the entire marker object with the one provided</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;marker&#39;</span><span class="o">:</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">}</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">restyle</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div>
<h3>Update layout attributes with <code>Plotly.relayout</code></h3>

<p>A more efficient means of updating just the layout in a graphDiv. The call signature and arguments for relayout are similar (but simpler) to restyle. Because there are no indices to deal with, arrays need not be wrapped. Also, no argument specifying applicable trace indices is passed in.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// update only values *within* nested objects</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;some new title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;xaxis.range&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">relayout</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">)</span>
</code></pre></div>
<p>Again, caution should be taken regarding flat <strong>attribute strings</strong> vs sub-objects used with relayout. In the above example, the value for <code>range</code> <strong>in</strong> <code>xaxis</code> is update. Conversly, below, the <code>xaxis</code> object is <strong>replaced</strong> with one that only has the range value:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// update an entire nested object with relayout</span>
<span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">tile</span><span class="o">:</span> <span class="s1">&#39;some new title&#39;</span><span class="p">,</span>
    <span class="nx">xaxis</span><span class="o">:</span> <span class="p">{</span><span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}</span>
<span class="p">};</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">relayout</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="nx">update</span><span class="p">)</span>
</code></pre></div>
<h3>Add Traces with <code>Plotly.addTraces</code></h3>

<p>This allows you to add <strong>new</strong> traces to an existing <code>graphDiv</code> at any location in its data array.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// add a single trace to an existing graphDiv</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">addTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]});</span>

<span class="c1">// add two traces</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">addTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;y&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]},</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]}]);</span>

<span class="c1">// add a trace at the beginning of the data array</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">addTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]},</span> <span class="mi">0</span><span class="p">);</span>
</code></pre></div>
<h3>Delete Traces with <code>Plotly.deleteTraces</code></h3>

<p>This allows you to remove traces from an existing <code>graphDiv</code> by specifying the indices of the traces to be removed.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// remove the first trace</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">deleteTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// remove the last two traces</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">deleteTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
</code></pre></div>
<h3>Move Traces with <code>Plotly.moveTraces</code></h3>

<p>This allows you to reorder traces in an existing <code>graphDiv</code>. This will change the ordering of the layering and the legend.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// move the first trace (at index 0) the the end of the data array</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">moveTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// move selected traces (at indices [0, 3, 5]) to the end of the data array</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">moveTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="c1">// move last trace (at index -1) to the beginning of the data array (index 0)</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">moveTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// move selected traces (at indices [1, 4, 5]) to new indices [0, 3, 2]</span>
<span class="nx">Plotly</span><span class="p">.</span><span class="nx">moveTraces</span><span class="p">(</span><span class="nx">graphDiv</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
</code></pre></div>
<h3>Redraw with <code>Plotly.redraw</code></h3>

<p>Use <code>redraw</code> to trigger a complete recalculation and redraw of the graph. This is not the fastest way to change single attributes, but may be the simplest way. You can make any arbitrary change to the data and layout objects, including completely replacing them, then call redraw.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">// make a modification to a `graphDiv`&#39;s data and redraw
graphDiv.data[0].opacity = 0.4;
Plotly.redraw(graphDiv);

// make many modifications and redraw
graphDiv.data[1].marker.color = &#39;red&#39;;
graphDiv.data.push({x: [1,2,3,4], y: [4,3,2,1], mode: &#39;lines+markers&#39;})
graphDiv.layout.showlegend = false;
Plotly.redraw(graphDiv);
</code></pre></div>
<h3>A note on <code>Plotly.plot</code></h3>

<p><code>Plotly.plot</code> is like <code>newPlot</code>, but it isn&#39;t idempotent (you can&#39;t call it multiple times in a row).</p>


				</div>
				</div>
			</div>
		</div>
	</div>
    <footer>
<div class="plotly-footer">
	
	<div class="row footerarea footer-top">
		<div class="one column footcolumn space"> </div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">API</h6>
			<ul>
				<li><a  href="https://plot.ly/api/" target="_self">Documentation</a></li>
				<li><a  href="https://plot.ly/api/" target="_self">API Libraries</a></li>
				<li><a  href="https://plot.ly/rest/" target="_self">REST APIs</a></li>
				<li><a  href="https://plot.ly/javascript/" target="_self">Plotly.js</a></li>
				<li><a  href="https://plot.ly/workshop/" target="_self">Hardware</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">About Us</h6>
			<ul>
				<li><a href="https://plot.ly/company/team/" target="_self">Team</a></li>
				<li><a href="https://plot.ly/company/jobs/" target="_self">Careers</a></li>
				<li><a href="http://blog.plot.ly" target="_blank">Plotly Blog</a></li>
				<li><a href="http://moderndata.plot.ly" target="_blank">Modern Data</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">Help</h6>
			<ul>
				<li><a href="https://plot.ly/learn/" target="_self">Knowledge Base</a></li>
				<li><a href="https://plot.ly/benchmarks/" target="_self">Benchmarks</a></li>
				<li><a href="https://plot.ly/workshop/" target="_self">Workshop</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">Solutions</h6>
			<ul>
				<li><a href="https://plot.ly/product/plans/" target="_self">Plans &amp; Pricing</a></li>
				<li><a href="https://plot.ly/product/enterprise/" target="_self">Enterprise</a></li>
				<li><a href="https://plot.ly/online-graphing-and-statistics-for-educators/" target="_self">Education</a></li>
				<li><a href="https://plot.ly/product/plotlyjs/" target="_self">Plotly.js</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
     		<h6 class="footer-heading">Connect</h6>
			<ul class="plotly-social-media-small">
				<li><a href="//twitter.com/plotlygraphs" target="_blank"><i class="icon-twitter social_icon"></i></a></li>
				<li><a href="//www.facebook.com/Plotly" target="_blank"><i class="icon-facebook social_icon"></i></a></li>
				<li><a href="//github.com/plotly" target="_blank"><i class="icon-github social_icon"></i></a></li>
				<li><a href="//linkedin.com/company/plotly" target="_blank"><i class="icon-linkedin social_icon"></i></a></li>
				<li><a href="//plus.google.com/+PlotLy" target="_blank"><i class="icon-google-plus  social_icon"></i></a></li>
			</ul>
		</div>
		<div class="one column footcolumn"></div>
	</div>

	<div class="row footerarea footer-bottom">
		<div class="one column footcolumn space"> </div>
		<div class="four columns footcolumn"><p>Copyright &copy; 2015 Plotly. All rights reserved.</p></div>
		<div class="two columns footcolumn"><a href="https://plot.ly/terms-of-service/" target="_blank" ><p>Terms of Service</p></a></div>
		<div class="two columns footcolumn"><a href="https://plot.ly/privacy/" target="_blank"><p>Privacy Policy</p></a></div>


	</div>
</div>
</footer>

<!-- Mathjax -->
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});
</script>
<script type='text/javascript' src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>

<!-- Image Hover Script -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/imghover.js"></script>

<!-- code highlighting -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39373211-1', 'auto');
  ga('send', 'pageview');
</script>



	</body>
</html>
