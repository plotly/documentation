import plotly.plotly as py
import plotly.graph_objs as go

trace0 = go.Scatter(
    x=[1.5, 3],
    y=[2.5, 2.5],
    text=['Rectangle</br>reference to the plot', 'Rectangle</br>reference to the axes'],
    mode='text',
)
data = [trace0]
layout = {
    'xaxis': {
        'range': [0, 4],
        'showgrid': False,
    },
    'yaxis': {
        'range': [0, 4]
    },
    'width': 600,
    'height': 600,
    'shapes': [
        # Rectangle reference to the axes
        {
            'type': 'rect',
            'xref': 'x',
            'yref': 'y',
            'x0': 2.5,
            'y0': 0,
            'x1': 3.5,
            'y1': 2,
            'line': {
                'color': 'rgb(55, 128, 191)',
                'width': 3,
            },
            'fillcolor': 'rgba(55, 128, 191, 0.6)',
        },
        # Rectangle reference to the plot
        {
            'type': 'rect',
            'xref': 'paper',
            'yref': 'paper',
            'x0': 0.25,
            'y0': 0,
            'x1': 0.5,
            'y1': 0.5,
            'line': {
                'color': 'rgb(50, 171, 96)',
                'width': 3,
            },
            'fillcolor': 'rgba(50, 171, 96, 0.6)',
        },
    ]
}
fig = {
    'data': data,
    'layout': layout,
}
plot_url = py.plot(fig, filename='shapes-rectangle-ref')
