<!DOCTYPE html>
<html>

<head>
      <!-- This page was last built at 2020-12-10 15:06 -->

      <meta charset="utf-8"/>

      <link rel="canonical" href="https://plotly.com/python/pca-visualization/"/>

      <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
      <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

      

        <!-- Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

      
      <!--
      //// Stylesheets
      -->

      <!-- Fonts -->
      <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css"/>

      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

      <!-- Main Stylesheets -->
      <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=../all_sta">

      <!-- LOCAL DEV STYLESHEET -->
      <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

      <!-- Icon -->
      <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

      <!-- Google Tags-->
      <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



    <!-- META TAGS -->
    <!-- SEO Tags - title, meta_description -->
<title>PCA Visualization | Python | Plotly  </title>
<meta name="description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="PCA Visualization"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta property="og:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="PCA Visualization"/>
    <meta name="twitter:url" content="https://plotly.com/python/pca-visualization/"/>
    <meta name="twitter:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div class="header-container">
    <div id="campaign-zero-banner">
        Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/python">Python</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/python/#ai-ml">Artificial Intelligence and Machine Learning</a>

                        

                        
                        &gt;<a href="#">PCA Visualization</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        
                        <iframe style="padding-top: 5px;" src="https://ghbtns.com/github-btn.html?user=plotly&repo=plotly.py&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>


                        <li><a href="https://plotly.com/dash/?utm_source=dash_demo&utm_medium=graphing_banner&utm_campaign=python" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">DO MORE WITH DASH</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


<main class="--page page--single --index">

	<div class="--wrap">
		<!-- aside - Main Sidebar-->
		<aside class="--sidebar-container">
			<div class="--sidebar-fixed reference" data-spy="affix" id="where">
				
                        <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
                            <input id="modal-input" style="border-radius: 5px; width: 100%;"  type="text" placeholder="   Search..." readonly/>
                          </button>
                    
				<header class="--sidebar-header">On This Page</header>
				<nav class="--sidebar-body watch"   id="where">
		  <ul class="--sidebar-list"></ul>


				</nav>
			</div>
		</aside>
		<!-- Main-->
		<section class="--page-body --tutorial-index --base">
			<header class="--welcome">
				<div class="--welcome-body">
					<!--div.--wrap-inner-->
					<div class="--title">
						<div class="--body">
							<div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                

                <a href= "https://mybinder.org/v2/gh/plotly/plotly.py/doc-prod?filepath=doc%2Fpython%2Fml-pca.md"
                target="_blank" style="float: right; margin-left: 20px;">
                    <img src="/all_static/images/binder_badge.svg" />
                </a>

                <a id="forklink" href= "https://github.com/plotly/plotly.py/edit/doc-prod/doc/python/ml-pca.md" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>

							
							<h1>
								PCA Visualization
								
								in Python
								
							</h1>
							<p>Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly. </p>
							<br>

							
							




<p class="dash-plug">
    If you're using Dash Enterprise's <a href="https://plotly.com/dash/workspaces/">Data Science Workspaces</a>, you can copy/paste any of these cells into a
    Workspace Jupyter notebook.
    <br>Alternatively, <a href="https://github.com/plotly/plotly.py-docs/raw/built_ipynb/ml-pca.ipynb">download this entire tutorial as a Jupyter notebook</a> and import it into your Workspace.
    <br><a href="https://go.plotly.com/company-lookup" class="plotly-red">Find out if your company is using Dash Enterprise</a>.
</p>
<br>







<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/python/is-plotly-free/">free and open-source</a> graphing library for Python. We recommend you read our <a href="/python/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/python/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/python/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>



						</div>
					</div>
				</div>
			</header>

			<!-- Start Plotly Basics Section -->
			<section class="tutorial-content">

				






				
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.js"></script>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This page first shows how to visualize higher dimension data using various Plotly figures combined with dimensionality reduction (aka projection). Then, we dive into the specific details of our projection algorithm.</p>
<p>We will use <a href="https://scikit-learn.org/">Scikit-learn</a> to load one of the datasets, and apply dimensionality reduction. Scikit-learn is a popular Machine Learning (ML) library that offers various tools for creating and training ML algorithms, feature engineering, data cleaning, and evaluating and testing models. It was designed to be accessible, and to work seamlessly with popular libraries like NumPy and Pandas.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="High-dimensional-PCA-Analysis-with--px.scatter_matrix">High-dimensional PCA Analysis with  <code>px.scatter_matrix</code><a class="anchor-link" href="#High-dimensional-PCA-Analysis-with--px.scatter_matrix">&#182;</a></h2><p>The dimensionality reduction technique we will be using is called the <a href="https://scikit-learn.org/stable/modules/decomposition.html#pca">Principal Component Analysis (PCA)</a>. It is a powerful technique that arises from linear algebra and probability theory. In essense, it computes a matrix that represents the variation of your data (<a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues#:~:text=As%20it%20is%20a%20square%20symmetric%20matrix%2C%20it%20can%20be%20diagonalized%20by%20choosing%20a%20new%20orthogonal%20coordinate%20system%2C%20given%20by%20its%20eigenvectors%20(incidentally%2C%20this%20is%20called%20spectral%20theorem)%3B%20corresponding%20eigenvalues%20will%20then%20be%20located%20on%20the%20diagonal.%20In%20this%20new%20coordinate%20system%2C%20the%20covariance%20matrix%20is%20diagonal%20and%20looks%20like%20that%3A">covariance matrix/eigenvectors</a>), and rank them by their relevance (explained variance/eigenvalues). For a video tutorial, see <a href="https://youtu.be/rng04VJxUt4?t=98">this segment on PCA</a> from the Coursera ML course.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-all-the-original-dimensions">Visualize all the original dimensions<a class="anchor-link" href="#Visualize-all-the-original-dimensions">&#182;</a></h3><p>First, let's plot all the features and see how the <code>species</code> in the Iris dataset are grouped. In a <a href="https://plot.ly/python/splom/">Scatter Plot Matrix (splom)</a>, each subplot displays a feature against another, so if we have $N$ features we have a $N \times N$ matrix.</p>
<p>In our example, we are plotting all 4 features from the Iris dataset, thus we can see how <code>sepal_width</code> is compared against <code>sepal_length</code>, then against <code>petal_width</code>, and so forth. Keep in mind how some pairs of features can more easily separate different species.</p>
<p>In this example, we will use <a href="/python/plotly-express/">Plotly Express</a>, Plotly's high-level API for building figures.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;species&quot;</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-latest.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="f47dab02-7176-4dd0-9df7-433c768f31a8" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f47dab02-7176-4dd0-9df7-433c768f31a8")) {                    Plotly.newPlot(                        "f47dab02-7176-4dd0-9df7-433c768f31a8",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3.0, 3.0, 4.0, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3.0, 3.4, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.1, 3.0, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3.0, 3.8, 3.2, 3.7, 3.3]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9, 5.4, 4.8, 4.8, 4.3, 5.8, 5.7, 5.4, 5.1, 5.7, 5.1, 5.4, 5.1, 4.6, 5.1, 4.8, 5.0, 5.0, 5.2, 5.2, 4.7, 4.8, 5.4, 5.2, 5.5, 4.9, 5.0, 5.5, 4.9, 4.4, 5.1, 5.0, 4.5, 4.4, 5.0, 5.1, 4.8, 5.1, 4.6, 5.3, 5.0]}, {"axis": {"matches": true}, "label": "petal_width", "values": [0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.1, 0.2, 0.2, 0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2]}, {"axis": {"matches": true}, "label": "petal_length", "values": [1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.5, 1.6, 1.4, 1.1, 1.2, 1.5, 1.3, 1.4, 1.7, 1.5, 1.7, 1.5, 1.0, 1.7, 1.9, 1.6, 1.6, 1.5, 1.4, 1.6, 1.6, 1.5, 1.5, 1.4, 1.5, 1.2, 1.3, 1.5, 1.3, 1.5, 1.3, 1.3, 1.3, 1.6, 1.9, 1.4, 1.6, 1.4, 1.5, 1.4]}], "hovertemplate": "species=setosa<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "name": "setosa", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.2, 3.2, 3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2.0, 3.0, 2.2, 2.9, 2.9, 3.1, 3.0, 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3.0, 2.8, 3.0, 2.9, 2.6, 2.4, 2.4, 2.7, 2.7, 3.0, 3.4, 3.1, 2.3, 3.0, 2.5, 2.6, 3.0, 2.6, 2.3, 2.7, 3.0, 2.9, 2.9, 2.5, 2.8]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [7.0, 6.4, 6.9, 5.5, 6.5, 5.7, 6.3, 4.9, 6.6, 5.2, 5.0, 5.9, 6.0, 6.1, 5.6, 6.7, 5.6, 5.8, 6.2, 5.6, 5.9, 6.1, 6.3, 6.1, 6.4, 6.6, 6.8, 6.7, 6.0, 5.7, 5.5, 5.5, 5.8, 6.0, 5.4, 6.0, 6.7, 6.3, 5.6, 5.5, 5.5, 6.1, 5.8, 5.0, 5.6, 5.7, 5.7, 6.2, 5.1, 5.7]}, {"axis": {"matches": true}, "label": "petal_width", "values": [1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1.0, 1.3, 1.4, 1.0, 1.5, 1.0, 1.4, 1.3, 1.4, 1.5, 1.0, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.0, 1.1, 1.0, 1.2, 1.6, 1.5, 1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1.0, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3]}, {"axis": {"matches": true}, "label": "petal_length", "values": [4.7, 4.5, 4.9, 4.0, 4.6, 4.5, 4.7, 3.3, 4.6, 3.9, 3.5, 4.2, 4.0, 4.7, 3.6, 4.4, 4.5, 4.1, 4.5, 3.9, 4.8, 4.0, 4.9, 4.7, 4.3, 4.4, 4.8, 5.0, 4.5, 3.5, 3.8, 3.7, 3.9, 5.1, 4.5, 4.5, 4.7, 4.4, 4.1, 4.0, 4.4, 4.6, 4.0, 3.3, 4.2, 4.2, 4.2, 4.3, 3.0, 4.1]}], "hovertemplate": "species=versicolor<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "name": "versicolor", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.3, 2.7, 3.0, 2.9, 3.0, 3.0, 2.5, 2.9, 2.5, 3.6, 3.2, 2.7, 3.0, 2.5, 2.8, 3.2, 3.0, 3.8, 2.6, 2.2, 3.2, 2.8, 2.8, 2.7, 3.3, 3.2, 2.8, 3.0, 2.8, 3.0, 2.8, 3.8, 2.8, 2.8, 2.6, 3.0, 3.4, 3.1, 3.0, 3.1, 3.1, 3.1, 2.7, 3.2, 3.3, 3.0, 2.5, 3.0, 3.4, 3.0]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [6.3, 5.8, 7.1, 6.3, 6.5, 7.6, 4.9, 7.3, 6.7, 7.2, 6.5, 6.4, 6.8, 5.7, 5.8, 6.4, 6.5, 7.7, 7.7, 6.0, 6.9, 5.6, 7.7, 6.3, 6.7, 7.2, 6.2, 6.1, 6.4, 7.2, 7.4, 7.9, 6.4, 6.3, 6.1, 7.7, 6.3, 6.4, 6.0, 6.9, 6.7, 6.9, 5.8, 6.8, 6.7, 6.7, 6.3, 6.5, 6.2, 5.9]}, {"axis": {"matches": true}, "label": "petal_width", "values": [2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5, 2.0, 1.9, 2.1, 2.0, 2.4, 2.3, 1.8, 2.2, 2.3, 1.5, 2.3, 2.0, 2.0, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2.0, 2.2, 1.5, 1.4, 2.3, 2.4, 1.8, 1.8, 2.1, 2.4, 2.3, 1.9, 2.3, 2.5, 2.3, 1.9, 2.0, 2.3, 1.8]}, {"axis": {"matches": true}, "label": "petal_length", "values": [6.0, 5.1, 5.9, 5.6, 5.8, 6.6, 4.5, 6.3, 5.8, 6.1, 5.1, 5.3, 5.5, 5.0, 5.1, 5.3, 5.5, 6.7, 6.9, 5.0, 5.7, 4.9, 6.7, 4.9, 5.7, 6.0, 4.8, 4.9, 5.6, 5.8, 6.1, 6.4, 5.6, 5.1, 5.6, 6.1, 5.6, 5.5, 4.8, 5.4, 5.6, 5.1, 5.1, 5.9, 5.7, 5.2, 5.0, 5.2, 5.4, 5.1]}], "hovertemplate": "species=virginica<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "name": "virginica", "showlegend": true, "type": "splom"}],                        {"dragmode": "select", "legend": {"title": {"text": "species"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f47dab02-7176-4dd0-9df7-433c768f31a8');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-all-the-principal-components">Visualize all the principal components<a class="anchor-link" href="#Visualize-all-the-principal-components">&#182;</a></h3><p>Now, we apply <code>PCA</code> the same dataset, and retrieve <strong>all</strong> the components. We use the same <code>px.scatter_matrix</code> trace to display our results, but this time our features are the resulting <em>principal components</em>, ordered by how much variance they are able to explain.</p>
<p>The importance of explained variance is demonstrated in the example below. The subplot between PC3 and PC4 is clearly unable to separate each class, whereas the subplot between PC1 and PC2 shows a clear separation between each species.</p>
<p>In this example, we will use <a href="/python/plotly-express/">Plotly Express</a>, Plotly's high-level API for building figures.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">()</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">])</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="sa">f</span><span class="s2">&quot;PC </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">var</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;species&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="c9f0ba44-a063-465d-abae-07129414bc91" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c9f0ba44-a063-465d-abae-07129414bc91")) {                    Plotly.newPlot(                        "c9f0ba44-a063-465d-abae-07129414bc91",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [-2.684207125103945, -2.715390615634127, -2.889819539617915, -2.746437197308733, -2.7285929818313135, -2.279897361009596, -2.8208906821806288, -2.626481993323818, -2.887958565335633, -2.6738446867191197, -2.506526789338902, -2.6131427182710545, -2.787433975997097, -3.2252004462749793, -2.6435432169411457, -2.3838693237993738, -2.6225262031258065, -2.6483227324791256, -2.1990779614307616, -2.5873461889177363, -2.3105317013131326, -2.5432349073036935, -3.2158576949001043, -2.3031285376638815, -2.3561710866838963, -2.5079172268378795, -2.4690559975451216, -2.562390946836749, -2.6398212683765805, -2.6328479080307567, -2.5884620513033907, -2.4100773371215944, -2.6476366733968986, -2.5971594770759165, -2.6738446867191197, -2.8669998469325337, -2.6252284646804194, -2.6738446867191197, -2.9818426648539065, -2.590323025585673, -2.7701389107463226, -2.85221108156639, -2.9982964428323498, -2.4055141012847, -2.208832954176704, -2.7156651907474534, -2.5375733710135053, -2.8403212968270077, -2.5426857570770474, -2.7039123148636492]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [0.32660731476438754, -0.16955684755602643, -0.1373456096050273, -0.31112431575199145, 0.3339245635684551, 0.7477827132251337, -0.0821045110246804, 0.17040534896029005, -0.5707980263315915, -0.10669170375273841, 0.6519350136725719, 0.021520631960258323, -0.2277401888711061, -0.5032799094854253, 1.186194899413449, 1.3447543445598624, 0.8180896745965953, 0.3191366677508848, 0.8792440880917366, 0.5204736388059683, 0.3978678215888919, 0.44003175465981564, 0.14161557162558416, 0.10552267842998243, -0.031209589068337897, -0.13905633991317412, 0.13788731459041795, 0.37468456275010614, 0.31929006596032183, -0.19007583063362365, -0.19739307943769058, 0.41808000824761604, 0.8199826325595073, 1.100021928007269, -0.10669170375273841, 0.07719309572358729, 0.6068000084215861, -0.10669170375273841, -0.4802500488560763, 0.23605933728887296, 0.27105941976516734, -0.9328653674695445, -0.33430757459077665, 0.19591725769606114, 0.44269603042100336, -0.24268148289811284, 0.5103675454766062, -0.22057633827647619, 0.5862810253439886, 0.1150108521705058]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [-0.02151183700196294, -0.2035214250054905, 0.024709240998956716, 0.03767197528530121, 0.09622969977460918, 0.1743256190164025, 0.264251085190696, -0.01580151026431506, 0.0273354061145075, -0.19153329973564454, -0.06927499581393122, 0.10765035324990464, -0.20032778809538912, 0.06841362917233049, -0.14450570400963578, 0.2837306639397765, 0.14531598882161756, 0.033394254070697994, -0.11452146479835311, 0.21957208800082476, -0.23369560709796938, 0.21483637027967514, 0.299618981510871, 0.04568004127448705, 0.1294075758959934, -0.24711633789085957, 0.10126307942970218, -0.0723591574360282, -0.13925337377853472, 0.04646646364504575, -0.07127507313152597, -0.1383882400500409, 0.23058560425417235, 0.16358191262366215, -0.19153329973564454, -0.15684235049802414, -0.26116315648170557, -0.19153329973564454, 0.07972480735962152, -0.07390123824707652, 0.08424157450476319, -0.34096149110715107, 0.19900842494724197, 0.2707170703688332, 0.3034878092682702, -0.09051560595006819, 0.17191840447686046, 0.09006137653041517, -0.01117526783116923, -0.08269572660682165]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [0.0010061572415399442, 0.0996024240168161, 0.01930454283250917, -0.0759552741085358, -0.0631287327171094, -0.02714680369790093, -0.0500996250628499, -0.046281760966509884, -0.026615414325656162, -0.0558909659960556, -0.01660824782448407, -0.157704569133212, -0.007235086738118975, -0.021946664123407376, 0.15698096151652366, 0.001926181709664808, 0.16474079123407467, 0.07611821327962356, 0.02532693965637576, -0.06908199117876085, -0.0153237395650814, 0.038439500101118, 0.0018570433474501293, 0.14724549964039962, -0.3016202653321938, 0.03538408126768317, 0.05597045237666049, -0.015240286774598438, 0.06514104720019227, -0.1246111533664724, -0.06047626340782174, 0.23084416997707075, -0.2848089542634612, -0.09895807058362008, -0.0558909659960556, 0.16245280571606574, 0.17587987484195133, -0.0558909659960556, -0.01105295083445918, -0.014556306249655954, 0.09236465729576347, 0.3226506066130546, -0.07587182131805259, 0.17378512921102807, -0.1858575300726545, 0.14298902533804533, -0.19216594594983707, -0.06039281061733849, -0.04833370254133826, 0.03409957300828098]}], "hovertemplate": "color=setosa<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "name": "setosa", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [1.2847945878450708, 0.9324107529829174, 1.4640613227790746, 0.18096720634769864, 1.0871344872070003, 0.6404367495231454, 1.095223709938478, -0.7514671406482262, 1.0432977807062804, -0.010190070727852874, -0.511086195895091, 0.5110980606834775, 0.2623357561531798, 0.9840445451694305, -0.17486400196569601, 0.927572942032699, 0.6595927890562007, 0.23454058625983554, 0.942361707398841, 0.043246400328704464, 1.1162407237538159, 0.35678656783046075, 1.2964688502855333, 0.9205026489090091, 0.7140082136428327, 0.8996408632837755, 1.3310414188547193, 1.5573962720707015, 0.8124555489980019, -0.3073347556634044, -0.07034288894927158, -0.19188449210314565, 0.13499495045137322, 1.3787369827755824, 0.5872748535799114, 0.8072054966767165, 1.2204289662446786, 0.8128677903690694, 0.24519516169034603, 0.16451342836925564, 0.4630309888714242, 0.890160445651156, 0.22887904996964736, -0.7070812839208602, 0.3555330391870635, 0.3311269473327229, 0.3752382289467659, 0.6416902781665429, -0.9084633331234947, 0.29780790740693414]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [0.6854391861329194, 0.31919808983364856, 0.5041898329724526, -0.8256039435761131, 0.07539038928876704, -0.4173234829700255, 0.2838912109384804, -1.0011075129743938, 0.22895690877700642, -0.7205748667019013, -1.2624919538621404, -0.1022841050459702, -0.5478932980253373, -0.12436042022227795, -0.2518155710801705, 0.4682362050431167, -0.35197629106031614, -0.33192182936212034, -0.5418222581500146, -0.5814894466123588, -0.08421401387837313, -0.06682382794136639, -0.3275615197949446, -0.18239036332792102, 0.15037915314843686, 0.3296109795818835, 0.24466952060228866, 0.2673925848127645, -0.16233157487863328, -0.3650866127661605, -0.7025379317307259, -0.6774905443743572, -0.31170964270339624, -0.4212051382146283, -0.4832842677174819, 0.19505396377111184, 0.40803533700101713, -0.3706789983189103, -0.2667280356618477, -0.6796614693108137, -0.6695265465361223, -0.03381244274676266, -0.4022576201789114, -1.0084247617784605, -0.5032184874026623, -0.21118014066262644, -0.2916220248087796, 0.01907117649127056, -0.7515687251694855, -0.3470165215985638]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [-0.40612955307696313, -0.01712990920512535, -0.3382607277179589, -0.17708285639336432, -0.3065444648144316, 0.04118876935364443, 0.1700225337414996, 0.015672194238160478, -0.41481456614870377, 0.2834372462541257, -0.2664899538224492, 0.1323278904749737, -0.691941578318964, -0.06215742761353877, 0.09365863819195042, -0.31322940056857723, 0.3283842970693478, -0.2702806708356934, -0.49734854117770394, -0.23296355648252248, 0.4598442265727531, -0.22747218032088318, -0.34751321258424994, -0.23161141855266992, -0.3203723328292696, -0.3147714813796255, -0.5212449247379843, -0.16463849085222856, 0.0363435763444907, -0.3153371969389197, -0.24175804484226762, -0.30391654346362434, -0.17497330378776502, 0.01548049512170842, 0.4445837530348708, 0.38945871138620225, -0.236566086849828, -0.6128710500606726, 0.1895624847292419, -0.057799238805743884, -0.024053890889809134, -0.009768026368424792, -0.22736270503287903, -0.1020693425384113, 0.01788946589650768, 0.0838090732225157, 0.07907335550136596, -0.20417287686374616, -0.007736584506980429, 0.012179139158859422]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [0.01929011685534334, -6.757941710509204e-06, -0.0008576440476193869, 0.09578444837157984, 0.1133845390093369, -0.24267131206866582, -0.08497338932826716, -0.016510592154629893, -0.03752355359177022, -0.005945701975093472, 0.048908806063423405, 0.050100535156594767, 0.061484989083400214, -0.1690106698709526, 0.12494088656962879, 0.10043888414555996, -0.18899152519294937, -0.2119849952922857, 0.2606366850425494, -0.039561180738330155, -0.07721355961071598, 0.12409000046372004, 0.00324623910203691, -0.2868253467053201, 0.0429412331735037, 0.10112286467050256, 0.037505049655828675, 0.07035309510363975, -0.02968027108373628, 0.07653037763062077, 0.00909469851960668, -0.018045458785481777, 0.03418291424986639, -0.17758073696002416, -0.2524424346266573, -0.116615391254638, 0.03163524398466042, 0.15770049117443602, -0.14732804233713756, 0.0309655778879862, -0.26844350832386893, -0.1534482063797552, 0.01862045075866921, 0.047624297804021005, -0.09807163534474155, -0.23868654239135992, -0.13116505111148086, -0.020509676260204425, 0.2335586342743453, -0.050783717136689804]}], "hovertemplate": "color=versicolor<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "name": "versicolor", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [2.531726980439558, 1.4140722251737572, 2.6164846082840425, 1.9708149459064814, 2.349757983950942, 3.3968799206781357, 0.5193832450849365, 2.9320050969913, 2.319672793874052, 2.9181342336442513, 1.661934947019486, 1.8023404526607325, 2.1653788629533968, 1.3445942175098242, 1.5852672993086434, 1.9047435782139117, 1.9492487818644975, 3.488765379656385, 3.794686861209969, 1.2983298245678152, 2.4281672590208476, 1.1980973722749628, 3.4992654842989546, 1.3876682501815554, 2.275853649305694, 2.6141938306983326, 1.257625182925136, 1.290669647737601, 2.1228539805083124, 2.387564402369026, 2.840960925285382, 3.2323428982958737, 2.158738373133134, 1.4431026043759743, 1.779640106898569, 3.07652162102066, 2.1449868567093033, 1.904862925137131, 1.1688534694704031, 2.107653731173268, 2.314303394629547, 1.9224508848357522, 1.4140722251737572, 2.5633227123408084, 2.4193912198049796, 1.9440170488777362, 1.5256636313138718, 1.7640459355269824, 1.9016290752882326, 1.3896661333194165]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [-0.011842236640300048, -0.5749250559123045, 0.3419352869872943, -0.18112569470491366, -0.04188254965484179, 0.547168046230152, -1.1913516890506526, 0.35237700618085926, -0.24554817060691062, 0.7803806293720321, 0.24203840103752236, -0.2161546066265365, 0.21528028337300695, -0.776415425176825, -0.5393070538471718, 0.11881899098269856, 0.0407302594277678, 1.1715445442635641, 0.2532655709725338, -0.761013936521508, 0.37678197125415247, -0.605578961764594, 0.4567734669640737, -0.20403098657015503, 0.3333865257566421, 0.558366950278822, -0.17913699742322298, -0.11642525182937234, -0.21085488454948997, 0.46251925072625993, 0.3727425910490206, 1.3705240359763333, -0.21832553156299334, -0.14380128908272632, -0.5014647947060155, 0.6857644422460559, 0.13890660887731485, 0.04804750823183476, -0.16450249981508974, 0.3714822491771055, 0.1826088507936985, 0.40927117617869524, -0.5749250559123045, 0.2759745022398382, 0.30350393770262885, 0.1874152220460136, -0.3750208481918233, 0.07851918642935737, 0.11587674824796598, -0.2828867091722688]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [0.7584586515284949, 0.2963982243052131, -0.1121413705543668, 0.1065391486498459, 0.28411068086616714, -0.3518731576273014, 0.5466855311249488, -0.42369127833689696, -0.3499221833590492, 0.42173893361376674, 0.2428152634675929, -0.037695328493964626, 0.03314818319913303, 0.2828680182243183, 0.6305704884623254, 0.48013807976572825, 0.042729093929436496, 0.129320083361775, -0.5169707159938947, -0.3448870474686993, 0.21864907004670486, 0.5126407650398146, -0.5769101867216482, -0.063511321778648, 0.28467815266071755, -0.20842334661879347, 0.04697780744922718, 0.23161356056830584, 0.15351588509125508, -0.45202396144912727, -0.5010315391382013, -0.11844877739515829, 0.20842197616391556, -0.15408297110542699, -0.17581118605670307, -0.33642274120822396, 0.7341847390548596, 0.1604706307060082, 0.2824608810023711, 0.027437856461485097, 0.32286040074238215, 0.11549281596071709, 0.2963982243052131, 0.29125361312685927, 0.5043025169513592, 0.17930287068112655, -0.12063644074491194, 0.13078405342866864, 0.7228735608675684, 0.3623178316312213]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [-0.03259956851444925, -0.01569547827948598, 0.06595604952643848, -0.23685862488186119, -0.0013127240036090917, -0.11121996802024871, -0.09879841992577922, -0.2554073688442786, -0.07626286251324571, 0.107729319478853, 0.11944758456759062, 0.07871345255565043, 0.16266728030785257, 0.14048189225832974, 0.32745536666912806, 0.21711450049899506, -0.15784525195695603, -0.3116298379326806, 0.05645164354097455, -0.04267371805612869, 0.18385417915128938, 0.05950003054907901, -0.13775959759087722, 0.16376353673268976, -0.062230277600379726, -0.24044543308754107, 0.14760054550703341, 0.0030843215735913173, 0.052612433191036374, -0.22990687721412378, -0.020216625381557492, -0.2544873443761551, 0.12772448922911858, -0.18992586408934103, -0.5035294527425076, 0.31058909243773947, 0.051766535137647667, -0.22198014191560672, 0.019330765589731586, 0.2099551985159037, 0.27589665973045435, 0.50409500679105, -0.01569547827948598, 0.05618492696844714, 0.2382179465519489, 0.42508163386614445, 0.25572256452137176, 0.1362945563181901, 0.0408728218486993, -0.15631038532610417]}], "hovertemplate": "color=virginica<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "name": "virginica", "showlegend": true, "type": "splom"}],                        {"dragmode": "select", "legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c9f0ba44-a063-465d-abae-07129414bc91');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-a-subset-of-the-principal-components">Visualize a subset of the principal components<a class="anchor-link" href="#Visualize-a-subset-of-the-principal-components">&#182;</a></h3><p>When you will have too many features to visualize, you might be interested in only visualizing the most relevant components. Those components often capture a majority of the <a href="https://en.wikipedia.org/wiki/Explained_variation">explained variance</a>, which is a good way to tell if those components are sufficient for modelling this dataset.</p>
<p>In the example below, our dataset contains 10 features, but we only select the first 4 components, since they explain over 99% of the total variance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="n">n_components</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">total_var</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="sa">f</span><span class="s2">&quot;PC </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_components</span><span class="p">)}</span>
<span class="n">labels</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Median Price&#39;</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="n">n_components</span><span class="p">),</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Total Explained Variance: </span><span class="si">{</span><span class="n">total_var</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="bf727ef9-ec9e-41d7-87ab-05409d45c324" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("bf727ef9-ec9e-41d7-87ab-05409d45c324")) {                    Plotly.newPlot(                        "bf727ef9-ec9e-41d7-87ab-05409d45c324",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1", "values": [-119.81884271656145, -168.89015548231257, -169.31170746584687, -190.2306422626735, -190.13345102539043, -188.95057656109373, -104.33599656015693, -102.09430836975737, -98.52827139987535, -100.03015499692044, -100.93997076914293, -103.33559388729864, -105.08279084419055, -108.44912259617705, -101.58730512902882, -108.51336710574726, -108.26519845023864, -103.6744526127846, -79.04098252405079, -105.99405422493588, -99.1753589690963, -104.74608797863517, -105.68626474421009, -104.28575770189478, -104.80928195846558, -79.02964703986183, -100.08353088616094, -79.61186289177606, -103.00397003221396, -101.36335842891161, -94.70422550705992, -99.24618351091219, -58.439352964398545, -94.31520691523232, -61.929421383005796, -134.5086064241349, -129.4044899220892, -136.76570222326654, -136.66581507311508, -167.25017356070975, -167.80307684984845, -180.50793077212748, -179.58103171956955, -182.78113650817522, -178.45543182540376, -181.13991717092006, -181.0909622503725, -175.4100852220318, -175.52612247798874, -178.64898787086355, -171.1092209474398, -169.29306152626168, -173.74595643503807, -173.6481065011433, 40.90525079462469, -192.6491171935552, -109.06396355057166, -162.1843976030479, -132.2772268149523, -132.52450713885634, -130.32437967287194, -123.05743513553452, -130.8611235147602, -132.45865976465063, -195.06857996965093, -87.39924959508002, -86.15830795384146, -76.18424048314107, -74.98013007120866, -75.39715031789555, -111.11987167337523, -108.15579279179548, -113.13748214865456, -109.22077853771489, -25.99534478419577, -19.280922622721093, -13.954101232540411, -20.267107374052095, -19.402891566009977, -23.715955557879422, -136.7939886881285, -133.29355314972878, -136.8695398504679, -133.81557379413204, -166.73694058832012, -164.78863986620695, -166.6373468777889, -165.5107096555784, -141.85539650124107, -143.5466249526182, -142.09173607449273, -141.85256400174956, -144.77893725620018, -147.27395379297076, -143.29088602531456, -127.19164759348568, -135.9545790746621, -137.0614452101239, -139.36564589631868, -138.14583797488055, -33.10146847650108, -34.10125023313057, 61.73256438136778, -32.29458340928038, -31.584451900352114, -31.3229529030486, -32.145457314316246, -30.48766109338344, -31.735413305322695, -30.98228788878434, -34.78271165045276, 12.471559605851622, 13.745527483229774, 13.408334947797984, 14.695023228705017, 27.915370009499956, 12.421703115642833, 12.87474225977904, 28.47118415565122, 12.372107471877637, -218.015307940457, -213.4697731986592, -212.7707362675461, -209.9878030605494, -212.91111517389513, -215.23399992228664, -206.84476200864452, 19.876623627604175, 18.67548381202936, 18.416382252033955, 19.15989080746807, 18.534203981797358, 21.75086262131056, 20.770300449516448, 57.76648478451035, 19.315704750052554, 23.697572024689322, 19.445428372748296, 20.17607884828804, 18.678339155429768, 21.010954765725685, 19.25450525285154, -13.21771159980317, -13.204756179255499, -13.360414043282532, 52.00578486342565, 52.80337717712348, -12.03193956613888, -2.109355654295762, -0.6667648381946631, -6.768488916563321, 2.5208419954614856, 0.9908255766496006, 25.667097563855535, 8.217446451790806, 75.01343120354714, 75.78125317646885, -4.265066026117662, -1.2218724274244819, -4.232391515846408, 2.494870079607419, -8.080296398656962, -11.86777294802532, -11.86814972970988, -13.769920242753948, 31.433353555202107, -6.074511126819727, 33.95386529065984, 15.125823521139042, 5.463156695673916, 16.440982306546644, 0.3827421846421954, -116.61133360110331, -116.70394832251027, -117.31700164470055, -119.73632584476474, -119.11054274545423, -117.69642941762966, -116.3350063596115, -217.30735087922733, -214.77692761537364, -216.88554542117663, -213.67438449603512, -214.17989044105127, -212.75664824812415, -213.40237471253332, -216.4823009427497, -25.00105349819678, -22.844619596590007, -26.102467767585566, -21.9792009209367, -24.714558478965156, -25.359816188617813, -154.68197601480244, -149.09792795083473, -163.44000887079073, -93.81512526445262, -81.09870915733217, -92.03691706770012, -26.633084032184193, -23.083930395507195, -74.49683906286431, -76.96536137952349, -192.92523074171362, -192.40652563111078, -140.138438334743, -137.01969903813782, -133.58211594211485, -132.43878454553985, -133.34992780809839, -133.0896032071898, -133.79995615568095, -135.64560044221352, -136.10712016746888, -126.778129387043, -137.535774889682, -136.8862020283756, -134.53641842091997, -134.81437323005036, -134.1849484554934, -104.56069068933775, -105.08669491585623, -105.07222072574218, -106.76214633630657, -103.60789384545613, -102.30969419456173, -103.62369737592259, -99.64401817401769, -106.54687071518143, -107.00117082759309, -102.33342297731562, -101.10453301721297, -104.3134847180436, -102.50099942477355, -97.26762282265358, -102.44316540752484, -104.62503968418216, -105.61802584704704, -115.02852414229467, -114.29571122468988, -115.36783507586507, -115.42186981829575, -110.10531447866454, -114.58564365493122, -79.10228575408284, -84.33875698279186, -87.80707202968333, -79.99501777383004, -82.11008220270627, -90.36226510715531, -91.49184127549692, -86.29121138475962, -89.10938756248478, -92.1165370676968, -106.03681289579983, -107.72118951470567, -171.78552336485595, -146.1384222761296, -143.11234300299787, -145.64927978805173, -147.3675546371387, -145.49602707263637, -144.91404110153616, -146.43944993322657, -145.15076581770177, -148.8111407700126, -144.46445801849663, -146.25141600676312, -149.23445367227748, -187.48396906383374, -188.33511294620138, -193.0469427194261, -188.90814354334245, -188.29260014425842, -163.1362870578923, -162.32107465266196, -159.50798470043904, -162.56547692650443, -163.11857078153807, -198.43593883811133, -192.97698753546067, -196.6765126286176, -191.25239184611547, -219.10451431919822, -136.42008141243653, -119.73087549596103, -161.32026225989733, -126.65981068729087, -125.45320979512928, -119.97536578776938, -173.89023577513308, -173.90073638060022, -174.23485148561105, -129.05256667916254, -127.0118487967377, -128.04569908863198, -125.17832357706219, -125.57736699534242, -58.474712854036554, -60.29843694973354, -62.754856096288265, -90.43713604890706, -88.75893551214645, -90.89135739194595, -191.50185762737976, -189.93601828753106, -189.86779853330177, -189.97792638652376, -109.61286359514452, -109.78317284823669, -99.56839522779076, -112.04998559325935, -108.6155825256921, -108.49426770585727, -108.75571217597924, -109.72487937486467, -107.44112157826713, -110.26550030310987, -110.27054764319183, -111.21635066176775, -128.26017226322645, -128.10000815054138, -128.44477987011828, -124.63267895623754, -129.30137076377076, -130.52075080630001, -130.2429193657169, -128.85436026470288, 9.426923762997427, 10.752331954870312, 13.975935397886744, -114.92929703588517, -106.21019141328159, -187.29702803292173, -187.14913449191425, -189.63541044321966, -188.6024770339392, -186.86672930317977, -189.16095882051812, -188.67590423711593, -187.59041746595787, -132.68703369223368, 2.2561906164723666, -51.61215121539491, -51.44223585438363, -63.69481203405035, -57.20255149474599, -72.13352592589, -138.81916372488328, -84.26754826752911, -85.48910666894358, -7.168621413953371, -14.84622979447688, -225.17241485225165, -85.75529626797612, -84.0427354469479, 242.72149760093515, 237.97029628234472, 236.1410266919462, 237.3324353458109, 242.5005594973417, 249.85067189249034, 241.40575413643697, 249.00368127555282, 247.8138373398217, 248.27006142375296, 259.95433475968196, 314.7107466249226, 243.14048351138595, 242.95936604615343, 238.15714598476373, 246.139649534654, 250.54785461787722, 237.82024040612262, 238.11131058447106, 237.40054141492533, 246.98114664562019, 237.36841045021254, 237.61250064012978, 238.63753781540407, 239.01725228480362, 237.56633817623026, 237.50429351774605, 237.49165139128104, 269.59681798810453, 237.73551211043525, 238.05896187200065, 237.21254828929924, 244.80026652252823, 237.31807276946344, 237.75613953848153, 241.20448810762198, 237.37050138953686, 236.6739518235625, 237.01521072501097, 238.67222881052118, 236.973938178549, 238.3895124783887, 238.5198072638279, 252.9214788994108, 238.04106748350094, 237.57606218355295, 243.49381462026622, 237.53876654978328, 256.95711066051535, 242.68589013775832, 245.61006668406782, 256.1978194851939, 261.29698235013757, 300.92134412331217, 353.2520283120836, 342.9685916743764, 345.2349859686582, 292.14051395858746, 328.7618033803406, 345.5362068237964, 346.1333796086673, 315.64813000150195, 350.1132438059638, 337.0682800476973, 260.11900081416417, 259.26460777661964, 267.0103679280046, 351.0356043962632, 349.40456625479305, 350.67869354063725, 342.44498399795737, 346.45006494506055, 322.9836312701337, 335.05006807593253, 327.463029353724, 328.8584441158371, 322.10552681001116, 322.61893485817495, 323.3055020097554, 320.6923598024268, 344.5451469663886, 350.61275817468527, 332.3660613266406, 236.98193260171547, 238.79632996789164, 240.37399969683017, 237.58912462026504, 240.37614049622718, 282.8685461418321, 340.16264241438427, 259.9550606617043, 239.51282267644348, 237.26900980364704, 264.2030798175775, 352.15688056151066, 249.22054830993488, 239.98647817968902, 243.37728853818095, 350.54012458556633, 336.8688358355845, 348.7802334149296, 350.2320450910481, 272.23319511509754, 235.91742266297055, 277.62394976473723, 237.75335949320785, 235.7793745515604, 237.1434116209825, 234.32305445093314, 250.96945566142875, 345.0840875923621, 255.95235433705295, 243.33208076239387, 233.78563181984512, 235.84636793949593, 236.77583988493976, 236.05511415914992, 240.85050807661318, 249.86247248744903, 264.6268866438594, 236.92475957374495, 251.28592924650232, 242.1354421431214, 240.36226471053976, 234.14545072592674, 236.0416699865159, 235.5567511551625, 233.164579921489, 239.81699349508455, 235.41577756220747, 236.73003878924123, 235.70097611526214, 279.1383044650718, 294.6074697586493, 302.17504450029026, 281.09671734355885, 277.7300340855254, -29.111133021141274, -30.025447931271042, -30.04167270981832, -27.31994369597558, -27.67553335640178, -28.143811354141167, -27.080132157458753, -26.908163550019413, -138.6979327700455, -139.504439233122, -138.38716306078584, -137.50517338121622, -139.19033295278453]}, {"axis": {"matches": true}, "label": "PC 2", "values": [-5.560055859670531, 10.116208634430748, 14.080532296694843, 18.302463298499884, 16.097947429508913, 18.729162551867397, -8.73550926965793, -10.108029548187202, -0.24790911015785932, -0.3176678719042782, -5.901410081789793, -10.06654662988179, -3.6821791119857283, -8.824295558145359, 7.197688136058895, -7.568976018631525, 0.9643598108942979, 0.8049135545890543, 94.52178616601047, -3.161430293976511, 10.484406627882255, -4.769216597055006, -8.931241066530767, -6.717167352172275, -6.504693425264339, 80.47146293354749, 10.193346248514258, 77.62880143832382, -0.41622173222047415, 6.993350054512017, 26.197169147251213, 10.275526175176834, 148.27755003613277, 27.50613848082208, 133.1296558246446, -0.6628833439881284, 17.878732979242177, -0.5150625205644516, 2.8760358506527557, 8.804352453830074, 8.834950464509774, 24.137470775195876, 26.07237409924111, 15.478439026688012, 20.146444112907833, 13.004777764276339, 13.030512762158002, 16.736898947587264, 12.77236886990591, 12.878592082310393, 11.337880688062164, 12.735778067296572, 10.150219580386823, 10.166456612862161, -55.96131707697569, 16.133595951998668, -10.282903948681945, 10.165296993179167, 4.038074846020804, -1.999495183812548, -0.37365101205398776, 15.76198005919006, -2.1313944177340916, -0.713145444170667, 21.36292208299469, -17.238508948934502, -17.282625415102512, -19.018659748408272, -19.737358058024647, -19.74035441949579, 4.648514940455861, 11.097133691444261, -2.2307552203683176, 10.928728930667909, -33.25898622313142, -22.2917532965029, -13.292562686496138, -25.855467186054526, -25.353119271020866, -34.51078400794085, -1.0296256899606993, -0.015320939066993354, -1.0141251080782936, 4.893088886978018, 8.836228101984892, 13.170498385580323, 9.741380524054556, 10.45205761803408, 1.8834723634195496, 2.8205786037908043, 6.53093043583517, 5.1727552439346125, 3.850005096581097, 2.717772608983271, 1.9211331668910943, 37.51569480476926, 5.10829054562586, 0.18344696882077197, 3.625481984839742, 0.27153219100285636, -29.40429243443615, -30.1494214233451, 280.335857750695, -29.146552764624317, -27.466404488376902, -28.78154757681828, -30.290173463470055, -22.64806007878208, -29.945601165064055, -26.057783804205148, -28.023839852888745, -44.24720019439373, -43.66527521513824, -45.53826498001821, -37.71061031429358, 4.206664628602697, -41.99460349984882, -43.21933500850616, 10.295351331567112, -40.222714576207224, 33.30322187097462, 44.197239783097565, 43.76648168901151, 51.2255368107248, 42.514373283529345, 37.14839080968919, 61.78275239706367, -42.47338033014006, -47.07916856534736, -47.03521794476386, -45.317119808243866, -47.08501645627718, -36.444867798250016, -39.211506999511506, 81.20053420560272, -44.932778177715875, -29.207506589763874, -44.384863196492375, -42.39526329077872, -47.055005319873366, -38.56571615457921, -46.96830138550908, -37.03972392393886, -37.03669537955931, -37.01657082958203, 177.13493290263798, 180.54948105024658, -32.04328495304931, 1.159066656524761, 6.030755527163826, -14.06430959994951, 15.747003068074328, 14.199894314286839, 91.93431965340123, 35.458368677062616, 258.3482551873852, 257.68916649102647, -5.162812215490896, 3.9553155530665003, -6.001835346182553, 18.30583765985798, -15.657692417538446, -30.211257112954737, -29.07125341434369, -35.37531945920089, 112.7720228419219, -10.768192150059317, 124.85697134688995, 58.3222205070007, 26.82357264710681, 62.932339989875146, 9.517293274772904, -5.704935955253821, -4.373678373971566, -2.1117950234892873, 0.2378826072860382, -1.9857858565344724, -4.423975648729955, -0.2856647561874527, 24.551634089054858, 25.70526982281655, 24.55500844528918, 27.015368055949683, 24.342585133245716, 30.064694156107468, 33.89977475047117, 28.65902055269548, -32.34817706392462, -21.744556218658122, -35.2397987855312, -16.763472565163333, -28.322129464832457, -29.052418034394808, 7.243086420152485, 23.12781601125598, 9.219542399757636, -14.960051686001643, 25.775475079072574, -10.475409729045479, -36.19727525075383, -24.14205621507741, -17.53392569886757, -18.967945644653817, 19.674411122910104, 21.808735570935177, 0.17934548957119453, 1.9490761434139632, 7.075944061627137, 14.88797023407033, -0.19314682783269646, 3.3070384799033734, 1.464029841929932, 5.727984276429225, 10.717774375615084, 46.2273080006488, 3.1834774482391586, 4.19407723170135, 4.0252976889437315, 0.0832393752827883, 3.0703344894449, -4.014552582741729, -7.347581120482507, -2.696995540659045, -8.952960012999275, 2.370604001513699, 5.264463945682449, 0.09043072115971722, 14.776270377820548, 9.929567355651045, 7.198017556509876, 8.879611825349977, 10.90553272157748, 1.569363226926862, 8.247785683765574, 26.222251645918064, 10.441482347370117, -0.8378551514382734, -2.386257553995759, 10.225088835880126, 5.916895177992715, -1.2715922719622164, -4.550181970015854, 16.42481757024821, 14.774188034413484, 7.745350933692414, -8.095163367159671, -8.94957500406902, 4.226492028541283, 5.762223248842174, -12.269853721213996, -14.677180366394959, 3.701662051936683, -4.911570921993192, -15.25459269768025, -7.016888188898692, -9.117435351110549, 19.968890951164244, 10.527557767654788, 16.596987432261795, 8.330270396422774, 7.617446727489172, 11.796484046864448, 13.220794277714887, 6.963448100986872, 12.247623080831099, 8.114437385820166, 15.980445406792924, 15.588555509034844, 10.138279930874045, 21.127054148890895, 23.80809762715249, 16.02950650598045, 17.648050065926522, 21.68849254562212, 6.871673848159189, 6.812318426809734, 14.109615590480955, 10.204793950972961, 6.897539318465579, 17.985831003795514, 26.963895024965954, 22.420388200314157, 36.83573732888599, 24.731456426198484, 0.09423989713416306, -4.3909860299877215, 63.707780984443396, -4.495884755214383, -4.57497639922785, 19.64263711971534, 9.581360670131035, 9.58422893525175, 9.61493587871715, -3.3300483458466474, -3.456366553814684, -3.415371271913353, 0.3491908211275087, -3.514233043309034, 4.002809925021028, 0.8658315523749314, -17.775817814304816, -13.99481156002365, -2.2653248886857824, -8.804216481655622, 19.265339379607845, 19.48510985407728, 16.0074066110347, 16.022325030994466, -8.090274699554957, -7.39596533518449, 36.6402175189217, -7.9104564193859295, -7.522302564876658, -4.718065296012827, -6.9341771152721, -7.565415268999853, -2.0876191987196018, -7.964437560286605, -6.353833790806856, -7.2668435411906795, -2.9322020832108016, -2.9454751873749507, -2.9144375356398995, 2.4858254950645082, -2.867399765230941, 0.350110829027474, -2.8031779240505292, -2.8500763657100996, -30.717016019998827, -23.769607945734936, -17.4962949065314, -4.893698942972375, 25.48682767656298, 22.446008440107484, 22.746214441485687, 15.6047645359284, 15.547198911615009, 17.474010078922053, 16.3178719079594, 15.552035405270013, 15.474513248537113, 0.1328195012160499, -35.73443708576005, -27.138393193362596, -18.452218565401765, -11.096841082836281, 9.0023932371465, -17.106861954421678, 5.072057731343134, -10.019970474315269, -16.81712009331376, -14.018901869584845, -34.51205855057454, 38.42115141475546, -2.8895834728440013, 3.574152151920572, -95.78290006949642, -108.81889416739845, -112.6875100146143, -108.1903928695808, -92.78389694213438, -69.90728387416277, -98.78026984004809, -72.17577669794514, -73.6425255997247, -73.79870775818812, -36.808721852589045, 139.7237239225721, -93.79519121127245, -93.58681555949653, -109.57674018907963, -84.77031948350809, -67.25181255185856, -114.0152758809668, -113.94783421783086, -114.06865373683534, -81.6194626478767, -114.09424995669903, -113.97319368684892, -111.02303506516535, -113.550094725803, -114.05657317760205, -114.09213201183944, -114.09458383990624, -7.726061886231776, -113.98898148826085, -113.96409888404314, -113.89445253391214, -91.08835287628253, -114.1086019916721, -111.76527710674755, -96.33700899693122, -114.0471411372685, -114.10170444836749, -114.07558935586415, -109.42097081572632, -114.1153912638913, -110.48358132533642, -113.85739723658672, -57.7573584984922, -113.96792623745786, -114.07708518469074, -94.22904891234566, -113.98722956514516, -49.28628695834858, -102.2968101545235, -88.50650603388691, -52.169866209700785, -35.420460303422274, 93.92881292851237, 263.1318155723142, 231.92089895353615, 238.0134390279009, 63.7999080181649, 181.3344854059622, 239.45119161016666, 244.86791557572477, 143.82834057481543, 250.09890174392953, 219.236552520052, -39.40301329786859, -40.57554673893338, -13.32308908452783, 263.07594619361964, 262.0545174070157, 258.1480902320038, 242.05173921675632, 247.6803606095989, 173.02614017061967, 207.3860513724669, 185.66366152845174, 187.66632340940615, 171.81777625880844, 169.61942238968953, 169.20746529604045, 160.42224514924965, 239.17224703789734, 256.5610513474669, 199.64679543448267, -114.05990247263857, -108.76006232317073, -103.63495230190631, -112.99865898190647, -104.38948385490261, 35.48027100668908, 224.28512560796378, -38.69081806378779, -106.09577552913888, -114.11481366626958, -25.48931011743902, 265.10101139148014, -74.35330825592489, -102.8159845835424, -94.02448576309371, 259.0371415076306, 216.74401378322747, 255.40831229029996, 262.1376121729754, 5.175930216062473, -114.06949804507381, 21.35739488436227, -108.88303996714919, -114.06646427282767, -111.1877163468276, -113.96225007862445, -54.12859908431873, 244.38526882669427, -51.370065133490996, -86.9884678795178, -113.86889943603818, -114.07424990038385, -112.63313464359013, -110.6637128584274, -92.75866346122686, -71.72665877308339, -24.07771393659309, -113.45229383002646, -68.6880258285611, -97.65164467322695, -101.06432349126617, -113.98581122066793, -110.3999297878204, -112.52902114525881, -110.06241004990372, -88.84010462962469, -106.01042450868022, -110.01357126841654, -105.62307101004141, -125.44519739391016, -76.63952473059774, -52.10746455779692, -120.71835832818053, -127.15036897996079, -33.3444753152659, -33.26933833189026, -29.716046933000527, -33.39916842356391, -33.426568289247676, -33.40332837896132, -32.357772640588514, -33.4776640006842, 5.781484954544804, 1.0393887014143544, 0.9380922013568587, 4.251825104028889, 1.0090642298388255]}, {"axis": {"matches": true}, "label": "PC 3", "values": [-3.172692640960272, -30.78188677477645, -16.753628206444244, -6.534195370236351, -13.158520095538472, -16.486203553897383, -7.380790161478358, -30.315526225817976, -34.019538003962936, -22.147468619412436, -28.954538574456006, -19.78028118890811, 13.29112088296943, -11.819263712972019, -28.775753608988573, -7.812460167143992, 13.124698084315794, -27.238688233473372, 9.407337034623453, -17.82279612501547, -40.01256115289499, -32.97784526322329, -35.42955263717058, -41.7487166162206, -36.93484864235413, -28.463092598935393, -33.49996917253746, -30.94675178231926, -36.68119803099287, -31.06828977386956, -36.72767146932463, -40.69346358560737, -25.062983890229997, -37.00081601482856, -36.023603329360704, -19.255554442114544, -13.82060603343088, 1.035767953409557, 9.528071856198052, 61.64292468813234, 66.39753114416055, 26.539241632587018, 23.697561597268496, 23.36051172287869, -2.0375673070995233, 2.3801881785377956, 2.3926543850820337, -37.36980907348515, -45.98534304715732, -19.447639949858775, 7.552609593701721, -5.111926575512849, 26.876712599308405, 26.355143760402786, 61.46677471274243, 68.8826528202788, 63.39998207817749, 64.12330974080221, 27.20039861406581, 13.188967260459323, -1.483268663874534, -21.77876273340926, -2.1349996810941234, 16.11733610130567, -6.603601779532082, 75.79031243490464, 65.21777960961364, 30.520275241861434, 18.398251553898493, 21.671176732684916, 29.988952431920097, 21.613715270733675, 29.02243047508336, 30.36770244738833, 38.685285009204435, 9.292752303723903, -13.081411627403424, 8.457524537375816, 2.349667065861598, 15.323016530434721, 23.583310333295056, -4.457831940558787, 24.4312208895427, 13.544744582570047, -6.78684667466198, -12.528437121079737, -4.891846935777773, -13.335694577708493, -33.15310796678398, -15.615801216273292, -18.098268685143957, -23.96963292292972, 8.064723187376071, 26.88352204113683, -10.122569442192889, -10.192977809952401, -20.347258569776177, -24.63338784603035, 5.058946879110326, -14.615537987769589, -18.440993071398207, -11.793253609208813, -15.082445035307337, -24.48268352859936, -26.315214554084044, -31.811450537944776, -28.420604659688696, -22.746200277549672, -31.73423477311653, -27.482306556184568, 0.5290459861641382, -15.4034515534423, -24.5099330704471, -26.518744485549885, -17.25585249999796, -19.7320523432795, -8.646198148666127, -16.147572712329634, -8.13348832923681, -3.2326787454442183, -30.980855721104238, -41.587614473050216, -48.59430659601176, -52.21200049267135, -50.788299347807396, -45.07156596427145, -51.07818265513227, -27.529184982033126, -29.58754361500261, -26.7649546772274, -29.34654123421894, -28.455308494432057, -28.228479754808607, -26.764030653694093, -26.289327346063047, -29.21690528223354, -25.277522185580843, -29.143002699481478, -29.57834925935061, -29.202589319911542, -26.273244555530564, -32.29873555513753, -34.53041576225314, -34.496844443133625, -33.09089737159775, -29.323932391318653, -28.198478042778813, -31.393564918454356, -29.02223068274363, -29.097658518065117, -30.70403176420456, -31.93632809341212, -22.7956181232189, -29.163391972010672, -28.588247704839766, -12.984442306724707, -21.71097114738161, -29.65496020664365, -31.577159473269788, -31.910738504192576, -25.542156987341087, -24.655899226029796, -30.625206447385374, -27.465834051521988, -26.81536257115403, -23.914358647150966, -28.80037683142589, -13.385772095175737, -27.718799330617582, -27.829333039373502, -26.755898910645993, -29.90403263714969, -33.30827592500028, -29.418179724139776, -17.780146736980697, 9.605040825742503, -1.5333361123026663, -21.047293496584047, -21.775308777250668, -19.189479809991532, -38.21318047135939, -22.48565907264522, -44.657066128708486, -47.36864732421689, -43.61412899896338, -27.55627811030106, -15.385211375382077, 41.51901602363129, 51.079550885092196, 43.26720865561799, 56.984096045472434, 49.70841435033786, 53.26225277134069, 62.41600254309848, 56.14111309077615, 57.82123082048803, 63.0065008137652, 61.69892160542574, 59.70679093857056, 93.49004975307751, 94.85627622343043, 62.76410235358415, 80.29229821088336, 63.23032943818078, 64.35286065408964, 14.760563078449193, -8.008500274240578, -23.809767262042122, -13.026830549969505, -45.114595444502214, -38.51097324610649, -36.54976031438685, -9.403211230420025, 7.6038098329019626, 23.584871532449043, -0.22459721505077557, -11.256113644269176, -32.87843918886111, -40.34423494890471, -38.49941625640309, -31.866225735192653, -35.15274128658221, -23.67734454286915, -25.957771001704437, -23.473476953906168, -26.999911252804704, -29.620043816814594, -24.57518671968504, 23.0781415936372, 19.69349795846993, -16.281304309473764, -22.279068161137374, -19.519484017058986, -17.306913284754184, -14.307373240147431, -11.181446882954317, -22.648890925662457, -18.532288096345933, 40.24218605645821, 22.131976049632186, 12.44548810839464, 4.104355883480609, 13.98356446581272, 48.586473297202765, -6.285314695874228, -2.4685230424330187, 25.057264621126876, -8.186349378850498, 14.648333077457487, 38.361039100663966, 41.74394970048109, 45.50899603459647, 46.9613961633497, 45.49924494579123, 62.9910334353967, 72.43796261113559, 61.34653228390974, -21.365993552469792, -31.367493628848344, -31.485465648965132, -17.99136018876549, -23.412416281440983, -24.827802364502716, -27.763721239348538, -25.153109466698695, -3.716357091538442, -20.387582613218115, -6.391541077014918, 4.771319071457511, -7.090765052013407, 7.718045745700232, 27.623372330658967, -4.506446740412981, 0.9379911400836964, 30.97733358096655, 23.554875927579914, 18.788104209169024, 35.04188452627288, 31.244482021119975, 15.464678108648952, -8.588984775746612, 11.873847142340676, 2.9299201384281646, 64.13818442043099, 74.79807777947093, 45.68987292134583, 57.18211317486129, 43.68138849509196, 32.830262472576706, 50.405571677030075, 59.406082179830015, 59.53675853006155, 62.67917787563571, 18.854276015818524, 0.61964089088987, 9.491969534664488, -5.55799235784635, -11.717286255275425, 70.51341295088284, 78.09368056789606, 49.24596860390694, 28.141449789424772, 45.13243436459221, 45.85675612342623, 17.479547538619254, 4.41942019413491, -5.875168884514937, -4.762834343618337, -27.586213860854603, -23.70192581022133, 6.474961514310946, -5.307137203687058, -34.231979931142135, -28.043833549334046, -31.611935260764852, -24.5662419401704, -29.220097635360503, -20.450184081063004, -16.512436976807958, -10.38818824549502, -6.331730185305853, -7.813218640517213, -4.5598574807907175, -23.242810318148656, 2.996163138935208, 22.400620400219942, 11.490316263004729, -0.3132376652110552, 27.62681977015665, 34.54394201706339, 23.22906356126742, 35.290932984234374, 40.32317600959742, -0.9273820505832278, -1.321628443079488, 1.3854834218374235, -7.734612158286877, -17.791421223818524, -0.8121559756452232, -7.067341412656656, -16.92752825903332, 18.685687464410314, 1.370364407226286, 33.56820065261244, 55.44197115595744, 3.021599888149462, 0.4452839636968502, 72.73325475767551, 61.65318349867963, 37.95661157065121, 30.296588481698674, 57.24606117209396, 69.67357417928102, 54.87922267453637, 72.66738976646413, 74.87153493062443, -6.472607394676606, -1.4767438049930726, 4.330632346189664, 5.920052124085717, 1.6885855018990656, -0.6879792665524601, -4.8927713435526865, 0.7761004967812071, 6.242051581955815, 2.240026331301522, -0.11024448742461967, -2.3272714932962626, -7.0479171964359475, -4.66894427462289, -5.535890959558079, -7.46041974089006, 0.8980313559612018, -10.555660460145013, -10.942873651673438, -7.068003473537543, -3.654741574472046, -8.360624143621852, -6.78221349980473, -9.337098346930215, -3.67621215284066, -8.635900845529203, -9.475420231800301, -9.553036065690248, -0.9963034921896872, -8.804319355225196, -10.09373308694279, -2.477001423541162, -9.623849299611427, -8.37082651790183, -6.505159608067282, 4.7115034641961735, -7.422188277191079, -3.080596449129288, -4.833436762972635, -7.834507005471146, -6.0127563288838255, -8.192013135146397, -10.463592438543154, 8.086999101206095, -9.949227539657732, -9.22533947618328, -8.678055165400922, -6.271016775735862, 2.4282862655855, -9.817265735488967, -8.97965818028906, -6.928140755881327, -6.194392012929345, -4.053986466474313, 0.5798613316668906, -0.7809936654870767, -1.9173084047676099, -4.992312252072483, -3.866304636701314, -1.3577477006064451, 6.116858043320321, 4.642042025988743, -0.9609149534488659, 16.563223519342724, -6.842624229183115, -3.3367246291206043, 3.2461015372446735, 11.155692477366006, 22.637543119499135, 3.0393138662304224, 30.47675049238946, 16.06507649315632, 14.383981950398818, 1.7469425053813044, 9.003455636610576, 2.650895403966654, 17.754376993455008, 7.425747072147943, 2.045277090501175, 1.4075741362923642, 4.771692144972749, -0.658385288191541, 6.391719861761644, -4.789117372903805, -3.597644362814447, -6.702732106390157, -8.733436417941617, -8.78141109887843, -3.2642259695949756, 2.762886776725399, -4.296898449658705, -6.020653602590111, -7.952867872468982, -5.557685147299132, 6.101938535464968, -6.506277510513808, -2.3253023406601017, -7.755077034678197, 4.675969145709556, 9.482928947489475, 9.300796741320893, 15.370212500922143, 6.5416740255807655, 3.223474707326982, 2.1894707210762188, 0.36384649281693604, 4.351152723665925, -0.434716836068265, 17.722147117009975, 32.16738276254887, 11.643917421919836, -3.46015961803412, 13.604538728486192, 24.086577796401503, 3.421257663561187, -1.2816268740765555, 10.490431106271517, 16.74859472083731, -4.396298415909898, -5.2749361148748575, -4.078030090970261, -6.483333776848754, -6.040882790545338, 0.8498153530356414, 18.52576758123695, 11.184273565939828, 9.61742152455439, 37.15493781391441, 36.18593868154438, 28.461279864085082, 6.824364477939221, 27.354205060704608, 0.030132395816949598, -3.552214983493481, -3.2506208805867027, -4.459067441387148, 7.394657535275775, 1.400954416007348, 9.870933795791597, 20.03338454239043, -13.716463972132912, -11.318033529401307, -7.222819667173908, -13.59848901486061, -18.233918441336385, -20.978012302706595, -26.79414976749025, -37.28518132895686, -35.988341879495685, -29.77243230623301]}, {"axis": {"matches": true}, "label": "PC 4", "values": [5.291593112234355, 1.2967758967991696, -10.278398887628567, -19.644920785307185, -14.178140698659293, -11.335211503062434, 1.8476194457421145, 20.94065829061849, 23.869333619155412, 14.314640741435934, 19.84033478205696, 12.27012706450632, -15.595629208522354, -11.069974055899586, 3.403919789702038, -14.440912593053232, -31.86553423540543, 1.851180586284114, -27.393236849721735, -6.0563167656107195, 12.547207066438443, 6.612095730940413, 8.453998753410172, 13.772675106158633, 9.848629103959828, 4.144366398737502, 7.289547668986411, 6.170358389412527, 9.8592912997341, 5.277792451485977, 10.004787931538258, 13.402567780998616, 2.025996707822235, 10.378924670826123, 11.247389837827535, -6.324899745490539, -10.653126841136851, -23.362133074874546, -30.50520297881408, 22.146859198308672, 18.223780432368645, -47.16090715517861, -44.77279786856906, -44.71713130445703, -23.31743773586702, -27.206679551503612, -27.34546268166066, 6.083361290003835, 12.880466930741127, -8.97959187739846, -3.5245665390601926, 7.299887784031325, -19.54763181435781, -19.216992468099647, 34.613108490283125, 34.28190628289013, 37.61656665804095, 53.23781008476958, -12.252873467274181, -0.6668115986638203, 11.600486116145165, 28.90676719343461, 12.338499057135317, -3.070479575007593, 2.885185643939306, 21.81051644864596, 30.527061512309047, -27.87515530599704, -17.842079011330757, -20.454508457132427, -46.2809101647202, -39.22683667479022, -45.54426547202205, -46.52296696467976, -48.506205243695526, -23.626660597225385, -4.749116000995413, -23.04418292110891, -17.921399778204922, -28.91778565177407, -9.403408291626238, 14.169225165571397, -10.168771589199359, -0.9282322873644797, -18.46157542822724, -13.462904167358937, -20.16765701286816, -12.923550457667508, 5.330398228654529, -9.432959225070858, -7.402695561254786, -2.459521381727894, 5.9280044163557335, -9.880906005978911, 21.132123246042976, -13.037841112224042, -5.179590649043899, -1.3967690488616116, -26.333238098042106, -9.906438440353757, -1.0771998623194552, -6.628415219958156, 1.1713165691448812, 3.876468350969546, 5.471647087385082, 9.927143730912125, 6.978390870643036, 2.4742373951788674, 10.00061167540498, 6.379576580653404, -17.15782349036566, -0.8576004129178356, 6.602740501581771, 8.246198033190327, 0.7804779741587123, 3.3899582505392583, -6.576929673675291, -0.22142656908429414, -6.267238160501267, -11.162428204921751, -3.5638807282061276, 5.553090658875879, 11.322777237377847, 14.240875363407849, 13.157770411698776, 8.346652387927216, 13.393496576246177, 8.288496437489583, 10.014871875144433, 7.549385480049636, 9.945984993761748, 9.196941975629535, 9.211704238141268, 7.799291522035081, 9.320865391654777, 9.701544121729464, 6.631488395293013, 9.713563855895341, 9.876201090547264, 9.584962297565866, 7.063233762841444, 11.66669056150409, 12.269094093220685, 12.271786955997266, 10.962108974574496, 11.387237059001134, 10.858788996098072, 9.604422985388885, 8.200532754087938, 8.582130947600042, 9.835636664924698, 11.382873466976305, 3.686443724520926, 10.239643748172208, 8.839860465985936, -0.5782078883733911, 6.69694340523895, 9.424119569728553, 11.122061891106997, 11.212575725916611, 6.308725591155105, 5.147220110206674, 9.940879704051742, 7.257234524696991, 6.329177271025327, 6.404232200476665, 8.670969145939956, -2.357487757092044, 8.649827914908132, 8.224800916757534, 7.795029204802073, 9.660537373807056, 6.5912352778652785, 3.5322358013409643, -6.256754081368612, -29.119873183686696, -19.91982346069415, -3.403504948924401, -2.753437450205826, -10.92245162787432, 5.042309753284168, -8.308641261668182, 10.575301304977096, 12.78719578513206, 9.441443406196123, -3.9773703934544993, -14.016379502862883, 8.626585507362293, 0.8487159594686091, 7.184280747539501, -3.9796561886912523, 1.9690033894631902, -0.9720480501873658, 2.942542788874879, 8.510300341166236, 32.498532807307306, 32.50278680790182, 34.126719249391975, 35.272482738684594, 30.457779925075222, 29.511219412238596, 36.8368648575442, 22.20457819390099, 45.3959674978223, 44.517872673684245, -35.46865527108918, -16.240674888058297, -3.0844791303211947, -11.930096799019257, 14.55503563830162, 9.243895559627218, 7.329485254133322, -15.203999614231245, -29.21196005860878, -42.77327340140729, -22.746107307829018, -13.887042207901578, 4.4700608660958805, 10.394625788611142, 9.1582386909864, 6.028419996840514, 8.354789177537878, -0.834428122085105, 1.0572153988872333, -0.7385713242269825, 2.271729704233555, 4.446627325278572, 0.32537319957527955, -39.80561956136153, -37.0029338894445, -6.923862487087706, -1.6143766838639482, -3.983898276087739, -5.798729900532158, -8.176138703133837, -11.171870758981807, -1.6258090189191894, -4.953475166350186, -15.475430413662204, -0.32342828108367083, 7.593930794741162, 14.524344318636816, 6.619192900588359, -22.356214241645887, 14.845547329965369, 11.171724010519023, -11.710425191837274, 16.476288403860366, -2.7202239244679083, -22.891972148374826, -25.780144521056577, -28.570702596973565, -29.870617173766355, -28.792748465602173, 31.411411768856084, 23.328132296604362, 41.70274841761646, 21.25561021704336, 29.68408296761048, 29.675961769469186, 18.214201830512813, 22.930718762227112, 24.20535988411208, 26.385184547474662, 24.36547192379081, 6.152297145472616, 20.20264482629347, 8.669683035263908, -0.6726802217385737, 6.095666912596268, -6.289088524167734, -22.972166905710594, 4.062939348710005, -0.3871719022937674, 2.2182624504076127, 8.497030537148197, 12.556963983634573, -1.1386140444696138, 1.873127838997603, -12.659552187379939, 7.8173581272486725, -9.508007047102708, -1.677880642487264, 36.82462533502892, 32.670129653696804, 12.57758268574555, 32.61863975448659, 10.195438089543865, 19.32057755769363, 4.855772921981371, 29.89760812004845, 29.783530300893116, 27.093639243430395, -38.25044944740985, -22.953753659697473, -30.264569027323905, -17.56446106222184, -12.710127241153028, 15.11319474617818, 8.690235229761731, 32.636196113077574, 1.1464740034566567, -12.944508404139738, -13.532206795338755, 2.813958692171564, 13.720384120862558, 22.412880468181903, 21.438583025351953, 2.056584596974528, -1.4006781842543143, -26.173838131134467, -16.78206345763996, 7.3975914794093285, 2.3772830065339483, 5.319114487582787, -0.6959927859839704, 3.094724388121878, -4.312154034809849, -7.430080645704932, -12.664455132119166, -16.741478866193027, -15.483114961426951, -18.24344152583542, -2.554207827945527, -24.551915281896783, -40.78405134749284, -31.680392556466913, -21.960814746544965, -36.24680316169152, -41.86727472870171, -32.265654034198626, -5.009089305537055, -8.590981689575063, -24.610510890868618, -24.309050633700693, -26.77084804089401, -19.18082924087326, -10.686914357346817, -24.971835680719224, -19.756350185796798, -11.43707990272626, 8.495865098443595, -14.421933991922044, 26.563511431286067, 8.398064159620759, -20.248014565454433, -17.8166984462153, 31.670223959619257, 30.55520327341221, 1.7660091804897715, 8.099310759529809, 16.389647585430193, 5.499682029662664, 44.06514106525455, 24.413417208136362, 22.74921241424719, 4.495761237094533, 0.1430336155148015, -4.724046934927137, -6.052960821138536, -2.064781252631883, 0.08153920152610905, 3.2588649997063146, -1.2175525640038114, -5.5216524042778605, -2.2571259934224446, 0.11158349465371657, 5.070420899905765, 5.371582955330633, 3.386579245815903, 3.889897114520915, 5.742037307832329, -1.0092397497861676, 7.052922368849003, 7.393897723885588, 4.9945985577492005, 2.2523856293584226, 5.652515285338288, 4.481099217689301, 6.643185962168208, 3.226002154474044, 5.999412777437956, 6.4994976251778676, 6.51036037468802, 1.056039307454703, 5.821523587074964, 7.118729040153004, 0.5557583526816968, 6.856591225185378, 5.646122103765577, 4.227262548691331, -5.036352769291392, 4.746392952928759, 1.396314780939081, 2.9127984998317378, 5.415124415516506, 3.6767178442422974, 5.577427345695228, 7.606677832027922, -7.5604223739288186, 7.075948150662005, 6.492493803784449, 6.282726228665501, 4.202462505521627, -2.018509524865275, 8.01719109372356, 6.683778205763531, 5.792924678761796, 4.909059495195902, 5.5978727264671075, 5.435541126420901, 5.069057417528222, 5.757088087582708, 6.115448493851084, 6.845918391102813, 5.501260315644866, -0.7209015533435696, -0.9365817387472011, 6.57740684306788, -9.827309130762192, 5.8526408152533635, 2.7837965357020797, -2.170900426298482, -4.645768717898373, -14.105426877114237, 2.2195530525648, -20.931150118718246, -8.220794330531042, -8.792954325780608, 2.372931550917282, -3.897803474211214, 1.4521438353001588, -11.341806359587999, -2.826363528236207, 1.872295970805829, 1.9492519647064013, 0.6399136865525689, 5.23086413170377, -1.9306310629497927, 2.5902510361416877, 1.9231640453767014, 4.508827519491192, 6.086578650934983, 6.270894134591009, 3.8130717134857663, 1.8245278873160606, 3.5532879395144956, 4.002586170797137, 5.4334509045356505, 4.8102774446774035, -0.14956966834127142, 4.826486567404501, 0.8401265886005023, 5.645606938404531, 0.9647251437827661, -3.8516674427030004, -3.0888329375005137, -7.952897677843761, -4.745889358198059, -3.8934243664560655, -0.8731611970740826, -1.454366755464184, -4.819415962936943, -0.628178185356662, -16.02653825804644, -27.316454261354803, -5.187364535325229, 2.5057912035281205, -12.144714962486203, -21.356463348349397, -4.141368537243563, -0.04527348687336693, -9.992497485500907, -14.86971737406989, 3.115654962245657, 4.416223008506517, 2.0896831859605807, 4.806864814548411, 4.110490321903496, -1.5253081406694002, -16.637886484109845, -10.29631416744022, -8.980981180353652, -32.284246438843354, -31.235226617447516, -24.88359685043629, -6.8540444584121305, -23.99116735796876, 0.7208667821330412, 4.348016890813983, 4.311247399144112, 4.586441727338434, -5.33928573837226, -17.564990982856013, -24.74662936481202, -33.36787785929941, -5.117108576808176, -6.898226796006865, -10.326458558904813, -5.016334937969317, -1.0955507898743384, -5.706647169822605, -0.878984603857147, 8.073690311875557, 7.016434342426255, 1.6768597328729034]}], "hovertemplate": "%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<br>Median Price=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [24.0, 21.6, 34.7, 33.4, 36.2, 28.7, 22.9, 27.1, 16.5, 18.9, 15.0, 18.9, 21.7, 20.4, 18.2, 19.9, 23.1, 17.5, 20.2, 18.2, 13.6, 19.6, 15.2, 14.5, 15.6, 13.9, 16.6, 14.8, 18.4, 21.0, 12.7, 14.5, 13.2, 13.1, 13.5, 18.9, 20.0, 21.0, 24.7, 30.8, 34.9, 26.6, 25.3, 24.7, 21.2, 19.3, 20.0, 16.6, 14.4, 19.4, 19.7, 20.5, 25.0, 23.4, 18.9, 35.4, 24.7, 31.6, 23.3, 19.6, 18.7, 16.0, 22.2, 25.0, 33.0, 23.5, 19.4, 22.0, 17.4, 20.9, 24.2, 21.7, 22.8, 23.4, 24.1, 21.4, 20.0, 20.8, 21.2, 20.3, 28.0, 23.9, 24.8, 22.9, 23.9, 26.6, 22.5, 22.2, 23.6, 28.7, 22.6, 22.0, 22.9, 25.0, 20.6, 28.4, 21.4, 38.7, 43.8, 33.2, 27.5, 26.5, 18.6, 19.3, 20.1, 19.5, 19.5, 20.4, 19.8, 19.4, 21.7, 22.8, 18.8, 18.7, 18.5, 18.3, 21.2, 19.2, 20.4, 19.3, 22.0, 20.3, 20.5, 17.3, 18.8, 21.4, 15.7, 16.2, 18.0, 14.3, 19.2, 19.6, 23.0, 18.4, 15.6, 18.1, 17.4, 17.1, 13.3, 17.8, 14.0, 14.4, 13.4, 15.6, 11.8, 13.8, 15.6, 14.6, 17.8, 15.4, 21.5, 19.6, 15.3, 19.4, 17.0, 15.6, 13.1, 41.3, 24.3, 23.3, 27.0, 50.0, 50.0, 50.0, 22.7, 25.0, 50.0, 23.8, 23.8, 22.3, 17.4, 19.1, 23.1, 23.6, 22.6, 29.4, 23.2, 24.6, 29.9, 37.2, 39.8, 36.2, 37.9, 32.5, 26.4, 29.6, 50.0, 32.0, 29.8, 34.9, 37.0, 30.5, 36.4, 31.1, 29.1, 50.0, 33.3, 30.3, 34.6, 34.9, 32.9, 24.1, 42.3, 48.5, 50.0, 22.6, 24.4, 22.5, 24.4, 20.0, 21.7, 19.3, 22.4, 28.1, 23.7, 25.0, 23.3, 28.7, 21.5, 23.0, 26.7, 21.7, 27.5, 30.1, 44.8, 50.0, 37.6, 31.6, 46.7, 31.5, 24.3, 31.7, 41.7, 48.3, 29.0, 24.0, 25.1, 31.5, 23.7, 23.3, 22.0, 20.1, 22.2, 23.7, 17.6, 18.5, 24.3, 20.5, 24.5, 26.2, 24.4, 24.8, 29.6, 42.8, 21.9, 20.9, 44.0, 50.0, 36.0, 30.1, 33.8, 43.1, 48.8, 31.0, 36.5, 22.8, 30.7, 50.0, 43.5, 20.7, 21.1, 25.2, 24.4, 35.2, 32.4, 32.0, 33.2, 33.1, 29.1, 35.1, 45.4, 35.4, 46.0, 50.0, 32.2, 22.0, 20.1, 23.2, 22.3, 24.8, 28.5, 37.3, 27.9, 23.9, 21.7, 28.6, 27.1, 20.3, 22.5, 29.0, 24.8, 22.0, 26.4, 33.1, 36.1, 28.4, 33.4, 28.2, 22.8, 20.3, 16.1, 22.1, 19.4, 21.6, 23.8, 16.2, 17.8, 19.8, 23.1, 21.0, 23.8, 23.1, 20.4, 18.5, 25.0, 24.6, 23.0, 22.2, 19.3, 22.6, 19.8, 17.1, 19.4, 22.2, 20.7, 21.1, 19.5, 18.5, 20.6, 19.0, 18.7, 32.7, 16.5, 23.9, 31.2, 17.5, 17.2, 23.1, 24.5, 26.6, 22.9, 24.1, 18.6, 30.1, 18.2, 20.6, 17.8, 21.7, 22.7, 22.6, 25.0, 19.9, 20.8, 16.8, 21.9, 27.5, 21.9, 23.1, 50.0, 50.0, 50.0, 50.0, 50.0, 13.8, 13.8, 15.0, 13.9, 13.3, 13.1, 10.2, 10.4, 10.9, 11.3, 12.3, 8.8, 7.2, 10.5, 7.4, 10.2, 11.5, 15.1, 23.2, 9.7, 13.8, 12.7, 13.1, 12.5, 8.5, 5.0, 6.3, 5.6, 7.2, 12.1, 8.3, 8.5, 5.0, 11.9, 27.9, 17.2, 27.5, 15.0, 17.2, 17.9, 16.3, 7.0, 7.2, 7.5, 10.4, 8.8, 8.4, 16.7, 14.2, 20.8, 13.4, 11.7, 8.3, 10.2, 10.9, 11.0, 9.5, 14.5, 14.1, 16.1, 14.3, 11.7, 13.4, 9.6, 8.7, 8.4, 12.8, 10.5, 17.1, 18.4, 15.4, 10.8, 11.8, 14.9, 12.6, 14.1, 13.0, 13.4, 15.2, 16.1, 17.8, 14.9, 14.1, 12.7, 13.5, 14.9, 20.0, 16.4, 17.7, 19.5, 20.2, 21.4, 19.9, 19.0, 19.1, 19.1, 20.1, 19.9, 19.6, 23.2, 29.8, 13.8, 13.3, 16.7, 12.0, 14.6, 21.4, 23.0, 23.7, 25.0, 21.8, 20.6, 21.2, 19.1, 20.6, 15.2, 7.0, 8.1, 13.6, 20.1, 21.8, 24.5, 23.1, 19.7, 18.3, 21.2, 17.5, 16.8, 22.4, 20.6, 23.9, 22.0, 11.9], "coloraxis": "coloraxis", "symbol": "circle"}, "name": "", "showlegend": false, "type": "splom"}],                        {"coloraxis": {"colorbar": {"title": {"text": "Median Price"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "dragmode": "select", "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Total Explained Variance: 99.72%"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('bf727ef9-ec9e-41d7-87ab-05409d45c324');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2D-PCA-Scatter-Plot">2D PCA Scatter Plot<a class="anchor-link" href="#2D-PCA-Scatter-Plot">&#182;</a></h2><p>In the previous examples, you saw how to visualize high-dimensional PCs. In this example, we show you how to simply visualize the first two principal components of a PCA, by reducing a dataset of 4 dimensions to 2D.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="be9427ad-dcad-4dbf-9d68-501d304105ae" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("be9427ad-dcad-4dbf-9d68-501d304105ae")) {                    Plotly.newPlot(                        "be9427ad-dcad-4dbf-9d68-501d304105ae",                        [{"hovertemplate": "color=setosa<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "orientation": "v", "showlegend": true, "type": "scatter", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "xaxis": "x", "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "yaxis": "y"}, {"hovertemplate": "color=versicolor<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "xaxis": "x", "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "yaxis": "y"}, {"hovertemplate": "color=virginica<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "xaxis": "x", "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "yaxis": "y"}],                        {"legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "0"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "1"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('be9427ad-dcad-4dbf-9d68-501d304105ae');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-PCA-with-px.scatter_3d">Visualize PCA with <code>px.scatter_3d</code><a class="anchor-link" href="#Visualize-PCA-with-px.scatter_3d">&#182;</a></h2><p>With <code>px.scatter_3d</code>, you can visualize an additional dimension, which let you capture even more variance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">total_var</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_3d</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Total Explained Variance: </span><span class="si">{</span><span class="n">total_var</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 3&#39;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="f45290a1-61a1-41e5-b9d3-538aa8f6203c" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f45290a1-61a1-41e5-b9d3-538aa8f6203c")) {                    Plotly.newPlot(                        "f45290a1-61a1-41e5-b9d3-538aa8f6203c",                        [{"hovertemplate": "color=setosa<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "z": [-0.021511837001963102, -0.20352142500549145, 0.024709240998957712, 0.03767197528530123, 0.09622969977460939, 0.17432561901640295, 0.26425108519069607, -0.015801510264315043, 0.02733540611450723, -0.19153329973564465, -0.06927499581393096, 0.10765035324990473, -0.20032778809538926, 0.06841362917233033, -0.14450570400963542, 0.2837306639397771, 0.14531598882161798, 0.033394254070698105, -0.11452146479835279, 0.21957208800082506, -0.23369560709796947, 0.2148363702796755, 0.2996189815108712, 0.04568004127448713, 0.12940757589599344, -0.24711633789085985, 0.1012630794297022, -0.07235915743602817, -0.1392533737785348, 0.04646646364504579, -0.071275073131526, -0.13838824005004097, 0.23058560425417296, 0.16358191262366278, -0.19153329973564465, -0.15684235049802425, -0.2611631564817056, -0.19153329973564465, 0.07972480735962136, -0.07390123824707649, 0.08424157450476331, -0.34096149110715174, 0.19900842494724197, 0.27071707036883347, 0.30348780926827057, -0.09051560595006833, 0.17191840447686085, 0.0900613765304152, -0.011175267831168983, -0.08269572660682165]}, {"hovertemplate": "color=versicolor<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "z": [-0.40612955307696313, -0.017129909205125235, -0.33826072771795895, -0.17708285639336488, -0.3065444648144318, 0.04118876935364434, 0.1700225337414998, 0.015672194238160093, -0.414814566148704, 0.28343724625412553, -0.26648995382244983, 0.1323278904749737, -0.6919415783189649, -0.06215742761353879, 0.09365863819195037, -0.31322940056857723, 0.3283842970693479, -0.2702806708356937, -0.4973485411777046, -0.2329635564825228, 0.45984422657275353, -0.22747218032088332, -0.34751321258425033, -0.23161141855267006, -0.32037233282926975, -0.3147714813796257, -0.5212449247379847, -0.16463849085222862, 0.03634357634449068, -0.3153371969389201, -0.24175804484226798, -0.3039165434636248, -0.17497330378776524, 0.015480495121708304, 0.44458375303487097, 0.38945871138620264, -0.23656608684982794, -0.6128710500606732, 0.18956248472924195, -0.05779923880574424, -0.024053890889809318, -0.00976802636842478, -0.22736270503287936, -0.10206934253841171, 0.01788946589650754, 0.08380907322251578, 0.07907335550136596, -0.20417287686374627, -0.007736584506980753, 0.012179139158859284]}, {"hovertemplate": "color=virginica<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "z": [0.7584586515284955, 0.2963982243052131, -0.11214137055436675, 0.10653914864984594, 0.28411068086616736, -0.3518731576273015, 0.5466855311249489, -0.4236912783368969, -0.3499221833590494, 0.42173893361376735, 0.24281526346759313, -0.03769532849396476, 0.0331481831991332, 0.2828680182243182, 0.6305704884623257, 0.48013807976572853, 0.042729093929436614, 0.1293200833617756, -0.5169707159938949, -0.3448870474686999, 0.21864907004670506, 0.5126407650398147, -0.5769101867216484, -0.06351132177864816, 0.28467815266071794, -0.20842334661879328, 0.046977807449227076, 0.231613560568306, 0.15351588509125513, -0.45202396144912743, -0.5010315391382015, -0.11844877739515763, 0.20842197616391567, -0.1540829711054271, -0.17581118605670318, -0.33642274120822385, 0.7341847390548603, 0.16047063070600845, 0.2824608810023712, 0.027437856461485263, 0.3228604007423825, 0.1154928159607172, 0.2963982243052131, 0.2912536131268597, 0.5043025169513597, 0.17930287068112669, -0.12063644074491217, 0.13078405342866883, 0.7228735608675687, 0.3623178316312214]}],                        {"legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "scene": {"domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "xaxis": {"title": {"text": "PC 1"}}, "yaxis": {"title": {"text": "PC 2"}}, "zaxis": {"title": {"text": "PC 3"}}}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Total Explained Variance: 99.48%"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f45290a1-61a1-41e5-b9d3-538aa8f6203c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Plotting-explained-variance">Plotting explained variance<a class="anchor-link" href="#Plotting-explained-variance">&#182;</a></h2><p>Often, you might be interested in seeing how much variance PCA is able to explain as you increase the number of components, in order to decide how many dimensions to ultimately keep or analyze. This example shows you how to quickly plot the cumulative sum of explained variance for a high-dimensional dataset like <a href="https://scikit-learn.org/stable/datasets/index.html#diabetes-dataset">Diabetes</a>.</p>
<p>With a higher explained variance, you are able to capture more variability in your dataset, which could potentially lead to better performance when training your model. For a more mathematical explanation, see this <a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">Q&amp;A thread</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_diabetes</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">load_diabetes</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">()</span>
<span class="n">pca</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">exp_var_cumul</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">area</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">exp_var_cumul</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">exp_var_cumul</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;# Components&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;Explained Variance&quot;</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="8ee3ed54-085f-4229-abcb-bfae865ac8ed" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8ee3ed54-085f-4229-abcb-bfae865ac8ed")) {                    Plotly.newPlot(                        "8ee3ed54-085f-4229-abcb-bfae865ac8ed",                        [{"hovertemplate": "# Components=%{x}<br>Explained Variance=%{y}<extra></extra>", "legendgroup": "", "line": {"color": "#636efa"}, "mode": "lines", "name": "", "orientation": "v", "showlegend": false, "stackgroup": "1", "type": "scatter", "x": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "xaxis": "x", "y": [0.4024214175678733, 0.5516532410893153, 0.6722494722420754, 0.7677971110209649, 0.8340156689459763, 0.8942875900367641, 0.9479436357350411, 0.9913119559917795, 0.9991439470098975, 0.9999999999999999], "yaxis": "y"}],                        {"legend": {"tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "# Components"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Explained Variance"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8ee3ed54-085f-4229-abcb-bfae865ac8ed');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-Loadings">Visualize Loadings<a class="anchor-link" href="#Visualize-Loadings">&#182;</a></h2><p>It is also possible to visualize loadings using <code>shapes</code>, and use <code>annotations</code> to indicate which feature a certain loading original belong to. Here, we define loadings as:</p>
$$
loadings = eigenvectors \cdot \sqrt{eigenvalues}
$$<p>For more details about the linear algebra behind eigenvectors and loadings, see this <a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">Q&amp;A thread</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">loadings</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">components_</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span>
        <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
        <span class="n">x0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">x1</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">y1</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="n">ax</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="n">yanchor</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span>
    <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="00c6cbcf-9d0a-454c-91b7-dece387dc530" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("00c6cbcf-9d0a-454c-91b7-dece387dc530")) {                    Plotly.newPlot(                        "00c6cbcf-9d0a-454c-91b7-dece387dc530",                        [{"hovertemplate": "color=setosa<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "orientation": "v", "showlegend": true, "type": "scatter", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "xaxis": "x", "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "yaxis": "y"}, {"hovertemplate": "color=versicolor<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "xaxis": "x", "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "yaxis": "y"}, {"hovertemplate": "color=virginica<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "xaxis": "x", "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "yaxis": "y"}],                        {"annotations": [{"ax": 0, "ay": 0, "text": "sepal_length", "x": 0.7432265175592326, "xanchor": "center", "y": 0.3231374133069487, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "sepal_width", "x": -0.16909891062391022, "xanchor": "center", "y": 0.3591516283038463, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "petal_length", "x": 1.7606340630732842, "xanchor": "center", "y": -0.08650963259590294, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "petal_width", "x": 0.7375827860577797, "xanchor": "center", "y": -0.03676921407410933, "yanchor": "bottom"}], "legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "shapes": [{"type": "line", "x0": 0, "x1": 0.7432265175592326, "y0": 0, "y1": 0.3231374133069487}, {"type": "line", "x0": 0, "x1": -0.16909891062391022, "y0": 0, "y1": 0.3591516283038463}, {"type": "line", "x0": 0, "x1": 1.7606340630732842, "y0": 0, "y1": -0.08650963259590294}, {"type": "line", "x0": 0, "x1": 0.7375827860577797, "y0": 0, "y1": -0.03676921407410933}], "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "0"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "1"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('00c6cbcf-9d0a-454c-91b7-dece387dc530');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="References">References<a class="anchor-link" href="#References">&#182;</a></h2><p>Learn more about <code>px</code>, <code>px.scatter_3d</code>, and <code>px.scatter_matrix</code> here:</p>
<ul>
<li><a href="https://plot.ly/python/plotly-express/">https://plot.ly/python/plotly-express/</a></li>
<li><a href="https://plot.ly/python/3d-scatter-plots/">https://plot.ly/python/3d-scatter-plots/</a></li>
<li><a href="https://plot.ly/python/splom/">https://plot.ly/python/splom/</a></li>
</ul>
<p>The following resources offer an in-depth overview of PCA and explained variance:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Explained_variation">https://en.wikipedia.org/wiki/Explained_variation</a></li>
<li><a href="https://scikit-learn.org/stable/modules/decomposition.html#pca">https://scikit-learn.org/stable/modules/decomposition.html#pca</a></li>
<li><a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579">https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579</a></li>
<li><a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another</a></li>
<li><a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What-About-Dash?">What About Dash?<a class="anchor-link" href="#What-About-Dash?">&#182;</a></h3><p><a href="https://dash.plot.ly/">Dash</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library.</p>
<p>Learn about how to install Dash at <a href="https://dash.plot.ly/installation">https://dash.plot.ly/installation</a>.</p>
<p>Everywhere in this page that you see <code>fig.show()</code>, you can display the same figure in a Dash application by passing it to the <code>figure</code> argument of the <a href="https://dash.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dash_core_components</code> package like this:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span> <span class="c1"># or plotly.express as px</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span> <span class="c1"># or any Plotly Express function e.g. px.bar(...)</span>
<span class="c1"># fig.add_trace( ... )</span>
<span class="c1"># fig.update_layout( ... )</span>

<span class="kn">import</span> <span class="nn">dash</span>
<span class="kn">import</span> <span class="nn">dash_core_components</span> <span class="k">as</span> <span class="nn">dcc</span>
<span class="kn">import</span> <span class="nn">dash_html_components</span> <span class="k">as</span> <span class="nn">html</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span>
    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_reloader</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Turn off reloader if inside Jupyter</span>
</pre></div>

</div>
</div>
</div>

 



				
			</section>

			

			<a href="https://dash.plotly.com"><img width="100%" style="margin-top: 20px;" src="/all_static/images/dash.png"/></a>

			
			<!--End Plotly Basics Section-->
		</section>
	</div>
</main>


<script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


<footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly  from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2020 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


<!-- Mathjax -->
<script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});</script>
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>

 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "python";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'python_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 


</body>

</html>
