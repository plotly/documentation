<!DOCTYPE html>
<html>

<head>
      <!-- This page was last built at 2020-09-14 20:40 -->

      <meta charset="utf-8"/>

      <link rel="canonical" href="https://plotly.com/python/pca-visualization/"/>

      <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
      <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

      

        <!-- Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

      
      <!--
      //// Stylesheets
      -->

      <!-- Fonts -->
      <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css"/>

      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

      <!-- Main Stylesheets -->
      <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=../all_sta">

      <!-- LOCAL DEV STYLESHEET -->
      <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

      <!-- Icon -->
      <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

      <!-- Google Tags-->
      <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



    <!-- META TAGS -->
    <!-- SEO Tags - title, meta_description -->
<title>PCA Visualization | Python | Plotly  </title>
<meta name="description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="PCA Visualization"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta property="og:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="PCA Visualization"/>
    <meta name="twitter:url" content="https://plotly.com/python/pca-visualization/"/>
    <meta name="twitter:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div class="header-container">
    <div id="campaign-zero-banner">
        Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/python">Python</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/python/#ai-ml">Artificial Intelligence and Machine Learning</a>

                        

                        
                        &gt;<a href="#">PCA Visualization</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        
                        <iframe style="padding-top: 5px;" src="https://ghbtns.com/github-btn.html?user=plotly&repo=plotly.py&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>


                        <li><a href="https://plotly.com/dash/?utm_source=dash_demo&utm_medium=graphing_banner&utm_campaign=python" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">DO MORE WITH DASH</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


<main class="--page page--single --index">

	<div class="--wrap">
		<!-- aside - Main Sidebar-->
		<aside class="--sidebar-container">
			<div class="--sidebar-fixed reference" data-spy="affix" id="where">
				
                        <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
                            <input id="modal-input" style="border-radius: 5px; width: 100%;"  type="text" placeholder="   Search..." readonly/>
                          </button>
                    
				<header class="--sidebar-header">On This Page</header>
				<nav class="--sidebar-body watch"   id="where">
		  <ul class="--sidebar-list"></ul>


				</nav>
			</div>
		</aside>
		<!-- Main-->
		<section class="--page-body --tutorial-index --base">
			<header class="--welcome">
				<div class="--welcome-body">
					<!--div.--wrap-inner-->
					<div class="--title">
						<div class="--body">
							<div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                

                <a href= "https://mybinder.org/v2/gh/plotly/plotly.py/doc-prod?filepath=doc%2Fpython%2Fml-pca.md"
                target="_blank" style="float: right; margin-left: 20px;">
                    <img src="/all_static/images/binder_badge.svg" />
                </a>

                <a id="forklink" href= "https://github.com/plotly/plotly.py/edit/doc-prod/doc/python/ml-pca.md" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>

							
							<h1>
								PCA Visualization
								
								in Python
								
							</h1>
							<p>Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly. </p>
							<br>

							
							

<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/python/is-plotly-free/">free and open-source</a> graphing library for Python. We recommend you read our <a href="/python/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/python/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/python/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>



						</div>
					</div>
				</div>
			</header>

			<!-- Start Plotly Basics Section -->
			<section class="tutorial-content">

				






				
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.js"></script>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This page first shows how to visualize higher dimension data using various Plotly figures combined with dimensionality reduction (aka projection). Then, we dive into the specific details of our projection algorithm.</p>
<p>We will use <a href="https://scikit-learn.org/">Scikit-learn</a> to load one of the datasets, and apply dimensionality reduction. Scikit-learn is a popular Machine Learning (ML) library that offers various tools for creating and training ML algorithms, feature engineering, data cleaning, and evaluating and testing models. It was designed to be accessible, and to work seamlessly with popular libraries like NumPy and Pandas.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="High-dimensional-PCA-Analysis-with--px.scatter_matrix">High-dimensional PCA Analysis with  <code>px.scatter_matrix</code><a class="anchor-link" href="#High-dimensional-PCA-Analysis-with--px.scatter_matrix">&#182;</a></h2><p>The dimensionality reduction technique we will be using is called the <a href="https://scikit-learn.org/stable/modules/decomposition.html#pca">Principal Component Analysis (PCA)</a>. It is a powerful technique that arises from linear algebra and probability theory. In essense, it computes a matrix that represents the variation of your data (<a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues#:~:text=As%20it%20is%20a%20square%20symmetric%20matrix%2C%20it%20can%20be%20diagonalized%20by%20choosing%20a%20new%20orthogonal%20coordinate%20system%2C%20given%20by%20its%20eigenvectors%20(incidentally%2C%20this%20is%20called%20spectral%20theorem)%3B%20corresponding%20eigenvalues%20will%20then%20be%20located%20on%20the%20diagonal.%20In%20this%20new%20coordinate%20system%2C%20the%20covariance%20matrix%20is%20diagonal%20and%20looks%20like%20that%3A">covariance matrix/eigenvectors</a>), and rank them by their relevance (explained variance/eigenvalues). For a video tutorial, see <a href="https://youtu.be/rng04VJxUt4?t=98">this segment on PCA</a> from the Coursera ML course.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-all-the-original-dimensions">Visualize all the original dimensions<a class="anchor-link" href="#Visualize-all-the-original-dimensions">&#182;</a></h3><p>First, let's plot all the features and see how the <code>species</code> in the Iris dataset are grouped. In a <a href="https://plot.ly/python/splom/">Scatter Plot Matrix (splom)</a>, each subplot displays a feature against another, so if we have $N$ features we have a $N \times N$ matrix.</p>
<p>In our example, we are plotting all 4 features from the Iris dataset, thus we can see how <code>sepal_width</code> is compared against <code>sepal_length</code>, then against <code>petal_width</code>, and so forth. Keep in mind how some pairs of features can more easily separate different species.</p>
<p>In this example, we will use <a href="/python/plotly-express/">Plotly Express</a>, Plotly's high-level API for building figures.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;species&quot;</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-latest.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="3be0689b-9ec6-42ee-b4a1-b43f54bf5543" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3be0689b-9ec6-42ee-b4a1-b43f54bf5543")) {                    Plotly.newPlot(                        "3be0689b-9ec6-42ee-b4a1-b43f54bf5543",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3.0, 3.0, 4.0, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3.0, 3.4, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.1, 3.0, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3.0, 3.8, 3.2, 3.7, 3.3]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9, 5.4, 4.8, 4.8, 4.3, 5.8, 5.7, 5.4, 5.1, 5.7, 5.1, 5.4, 5.1, 4.6, 5.1, 4.8, 5.0, 5.0, 5.2, 5.2, 4.7, 4.8, 5.4, 5.2, 5.5, 4.9, 5.0, 5.5, 4.9, 4.4, 5.1, 5.0, 4.5, 4.4, 5.0, 5.1, 4.8, 5.1, 4.6, 5.3, 5.0]}, {"axis": {"matches": true}, "label": "petal_width", "values": [0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.1, 0.2, 0.2, 0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2]}, {"axis": {"matches": true}, "label": "petal_length", "values": [1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.5, 1.6, 1.4, 1.1, 1.2, 1.5, 1.3, 1.4, 1.7, 1.5, 1.7, 1.5, 1.0, 1.7, 1.9, 1.6, 1.6, 1.5, 1.4, 1.6, 1.6, 1.5, 1.5, 1.4, 1.5, 1.2, 1.3, 1.5, 1.3, 1.5, 1.3, 1.3, 1.3, 1.6, 1.9, 1.4, 1.6, 1.4, 1.5, 1.4]}], "hovertemplate": "species=setosa<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "name": "setosa", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.2, 3.2, 3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2.0, 3.0, 2.2, 2.9, 2.9, 3.1, 3.0, 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3.0, 2.8, 3.0, 2.9, 2.6, 2.4, 2.4, 2.7, 2.7, 3.0, 3.4, 3.1, 2.3, 3.0, 2.5, 2.6, 3.0, 2.6, 2.3, 2.7, 3.0, 2.9, 2.9, 2.5, 2.8]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [7.0, 6.4, 6.9, 5.5, 6.5, 5.7, 6.3, 4.9, 6.6, 5.2, 5.0, 5.9, 6.0, 6.1, 5.6, 6.7, 5.6, 5.8, 6.2, 5.6, 5.9, 6.1, 6.3, 6.1, 6.4, 6.6, 6.8, 6.7, 6.0, 5.7, 5.5, 5.5, 5.8, 6.0, 5.4, 6.0, 6.7, 6.3, 5.6, 5.5, 5.5, 6.1, 5.8, 5.0, 5.6, 5.7, 5.7, 6.2, 5.1, 5.7]}, {"axis": {"matches": true}, "label": "petal_width", "values": [1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1.0, 1.3, 1.4, 1.0, 1.5, 1.0, 1.4, 1.3, 1.4, 1.5, 1.0, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.0, 1.1, 1.0, 1.2, 1.6, 1.5, 1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1.0, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3]}, {"axis": {"matches": true}, "label": "petal_length", "values": [4.7, 4.5, 4.9, 4.0, 4.6, 4.5, 4.7, 3.3, 4.6, 3.9, 3.5, 4.2, 4.0, 4.7, 3.6, 4.4, 4.5, 4.1, 4.5, 3.9, 4.8, 4.0, 4.9, 4.7, 4.3, 4.4, 4.8, 5.0, 4.5, 3.5, 3.8, 3.7, 3.9, 5.1, 4.5, 4.5, 4.7, 4.4, 4.1, 4.0, 4.4, 4.6, 4.0, 3.3, 4.2, 4.2, 4.2, 4.3, 3.0, 4.1]}], "hovertemplate": "species=versicolor<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "name": "versicolor", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.3, 2.7, 3.0, 2.9, 3.0, 3.0, 2.5, 2.9, 2.5, 3.6, 3.2, 2.7, 3.0, 2.5, 2.8, 3.2, 3.0, 3.8, 2.6, 2.2, 3.2, 2.8, 2.8, 2.7, 3.3, 3.2, 2.8, 3.0, 2.8, 3.0, 2.8, 3.8, 2.8, 2.8, 2.6, 3.0, 3.4, 3.1, 3.0, 3.1, 3.1, 3.1, 2.7, 3.2, 3.3, 3.0, 2.5, 3.0, 3.4, 3.0]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [6.3, 5.8, 7.1, 6.3, 6.5, 7.6, 4.9, 7.3, 6.7, 7.2, 6.5, 6.4, 6.8, 5.7, 5.8, 6.4, 6.5, 7.7, 7.7, 6.0, 6.9, 5.6, 7.7, 6.3, 6.7, 7.2, 6.2, 6.1, 6.4, 7.2, 7.4, 7.9, 6.4, 6.3, 6.1, 7.7, 6.3, 6.4, 6.0, 6.9, 6.7, 6.9, 5.8, 6.8, 6.7, 6.7, 6.3, 6.5, 6.2, 5.9]}, {"axis": {"matches": true}, "label": "petal_width", "values": [2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5, 2.0, 1.9, 2.1, 2.0, 2.4, 2.3, 1.8, 2.2, 2.3, 1.5, 2.3, 2.0, 2.0, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2.0, 2.2, 1.5, 1.4, 2.3, 2.4, 1.8, 1.8, 2.1, 2.4, 2.3, 1.9, 2.3, 2.5, 2.3, 1.9, 2.0, 2.3, 1.8]}, {"axis": {"matches": true}, "label": "petal_length", "values": [6.0, 5.1, 5.9, 5.6, 5.8, 6.6, 4.5, 6.3, 5.8, 6.1, 5.1, 5.3, 5.5, 5.0, 5.1, 5.3, 5.5, 6.7, 6.9, 5.0, 5.7, 4.9, 6.7, 4.9, 5.7, 6.0, 4.8, 4.9, 5.6, 5.8, 6.1, 6.4, 5.6, 5.1, 5.6, 6.1, 5.6, 5.5, 4.8, 5.4, 5.6, 5.1, 5.1, 5.9, 5.7, 5.2, 5.0, 5.2, 5.4, 5.1]}], "hovertemplate": "species=virginica<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "name": "virginica", "showlegend": true, "type": "splom"}],                        {"dragmode": "select", "legend": {"title": {"text": "species"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3be0689b-9ec6-42ee-b4a1-b43f54bf5543');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-all-the-principal-components">Visualize all the principal components<a class="anchor-link" href="#Visualize-all-the-principal-components">&#182;</a></h3><p>Now, we apply <code>PCA</code> the same dataset, and retrieve <strong>all</strong> the components. We use the same <code>px.scatter_matrix</code> trace to display our results, but this time our features are the resulting <em>principal components</em>, ordered by how much variance they are able to explain.</p>
<p>The importance of explained variance is demonstrated in the example below. The subplot between PC3 and PC4 is clearly unable to separate each class, whereas the subplot between PC1 and PC2 shows a clear separation between each species.</p>
<p>In this example, we will use <a href="/python/plotly-express/">Plotly Express</a>, Plotly's high-level API for building figures.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">()</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">])</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="sa">f</span><span class="s2">&quot;PC </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">var</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;species&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="b678c4df-8911-4daa-8db8-0659f0a5bfa1" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b678c4df-8911-4daa-8db8-0659f0a5bfa1")) {                    Plotly.newPlot(                        "b678c4df-8911-4daa-8db8-0659f0a5bfa1",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [-2.684207125103945, -2.715390615634127, -2.889819539617915, -2.746437197308733, -2.7285929818313135, -2.279897361009596, -2.8208906821806288, -2.626481993323818, -2.887958565335633, -2.6738446867191197, -2.506526789338902, -2.6131427182710545, -2.787433975997097, -3.2252004462749793, -2.6435432169411457, -2.3838693237993738, -2.6225262031258065, -2.6483227324791256, -2.1990779614307616, -2.5873461889177363, -2.3105317013131326, -2.5432349073036935, -3.2158576949001043, -2.3031285376638815, -2.3561710866838963, -2.5079172268378795, -2.4690559975451216, -2.562390946836749, -2.6398212683765805, -2.6328479080307567, -2.5884620513033907, -2.4100773371215944, -2.6476366733968986, -2.5971594770759165, -2.6738446867191197, -2.8669998469325337, -2.6252284646804194, -2.6738446867191197, -2.9818426648539065, -2.590323025585673, -2.7701389107463226, -2.85221108156639, -2.9982964428323498, -2.4055141012847, -2.208832954176704, -2.7156651907474534, -2.5375733710135053, -2.8403212968270077, -2.5426857570770474, -2.7039123148636492]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [0.32660731476438754, -0.16955684755602643, -0.1373456096050273, -0.31112431575199145, 0.3339245635684551, 0.7477827132251337, -0.0821045110246804, 0.17040534896029005, -0.5707980263315915, -0.10669170375273841, 0.6519350136725719, 0.021520631960258323, -0.2277401888711061, -0.5032799094854253, 1.186194899413449, 1.3447543445598624, 0.8180896745965953, 0.3191366677508848, 0.8792440880917366, 0.5204736388059683, 0.3978678215888919, 0.44003175465981564, 0.14161557162558416, 0.10552267842998243, -0.031209589068337897, -0.13905633991317412, 0.13788731459041795, 0.37468456275010614, 0.31929006596032183, -0.19007583063362365, -0.19739307943769058, 0.41808000824761604, 0.8199826325595073, 1.100021928007269, -0.10669170375273841, 0.07719309572358729, 0.6068000084215861, -0.10669170375273841, -0.4802500488560763, 0.23605933728887296, 0.27105941976516734, -0.9328653674695445, -0.33430757459077665, 0.19591725769606114, 0.44269603042100336, -0.24268148289811284, 0.5103675454766062, -0.22057633827647619, 0.5862810253439886, 0.1150108521705058]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [-0.02151183700196294, -0.2035214250054905, 0.024709240998956716, 0.03767197528530121, 0.09622969977460918, 0.1743256190164025, 0.264251085190696, -0.01580151026431506, 0.0273354061145075, -0.19153329973564454, -0.06927499581393122, 0.10765035324990464, -0.20032778809538912, 0.06841362917233049, -0.14450570400963578, 0.2837306639397765, 0.14531598882161756, 0.033394254070697994, -0.11452146479835311, 0.21957208800082476, -0.23369560709796938, 0.21483637027967514, 0.299618981510871, 0.04568004127448705, 0.1294075758959934, -0.24711633789085957, 0.10126307942970218, -0.0723591574360282, -0.13925337377853472, 0.04646646364504575, -0.07127507313152597, -0.1383882400500409, 0.23058560425417235, 0.16358191262366215, -0.19153329973564454, -0.15684235049802414, -0.26116315648170557, -0.19153329973564454, 0.07972480735962152, -0.07390123824707652, 0.08424157450476319, -0.34096149110715107, 0.19900842494724197, 0.2707170703688332, 0.3034878092682702, -0.09051560595006819, 0.17191840447686046, 0.09006137653041517, -0.01117526783116923, -0.08269572660682165]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [0.0010061572415399442, 0.0996024240168161, 0.01930454283250917, -0.0759552741085358, -0.0631287327171094, -0.02714680369790093, -0.0500996250628499, -0.046281760966509884, -0.026615414325656162, -0.0558909659960556, -0.01660824782448407, -0.157704569133212, -0.007235086738118975, -0.021946664123407376, 0.15698096151652366, 0.001926181709664808, 0.16474079123407467, 0.07611821327962356, 0.02532693965637576, -0.06908199117876085, -0.0153237395650814, 0.038439500101118, 0.0018570433474501293, 0.14724549964039962, -0.3016202653321938, 0.03538408126768317, 0.05597045237666049, -0.015240286774598438, 0.06514104720019227, -0.1246111533664724, -0.06047626340782174, 0.23084416997707075, -0.2848089542634612, -0.09895807058362008, -0.0558909659960556, 0.16245280571606574, 0.17587987484195133, -0.0558909659960556, -0.01105295083445918, -0.014556306249655954, 0.09236465729576347, 0.3226506066130546, -0.07587182131805259, 0.17378512921102807, -0.1858575300726545, 0.14298902533804533, -0.19216594594983707, -0.06039281061733849, -0.04833370254133826, 0.03409957300828098]}], "hovertemplate": "color=setosa<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "name": "setosa", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [1.2847945878450708, 0.9324107529829174, 1.4640613227790746, 0.18096720634769864, 1.0871344872070003, 0.6404367495231454, 1.095223709938478, -0.7514671406482262, 1.0432977807062804, -0.010190070727852874, -0.511086195895091, 0.5110980606834775, 0.2623357561531798, 0.9840445451694305, -0.17486400196569601, 0.927572942032699, 0.6595927890562007, 0.23454058625983554, 0.942361707398841, 0.043246400328704464, 1.1162407237538159, 0.35678656783046075, 1.2964688502855333, 0.9205026489090091, 0.7140082136428327, 0.8996408632837755, 1.3310414188547193, 1.5573962720707015, 0.8124555489980019, -0.3073347556634044, -0.07034288894927158, -0.19188449210314565, 0.13499495045137322, 1.3787369827755824, 0.5872748535799114, 0.8072054966767165, 1.2204289662446786, 0.8128677903690694, 0.24519516169034603, 0.16451342836925564, 0.4630309888714242, 0.890160445651156, 0.22887904996964736, -0.7070812839208602, 0.3555330391870635, 0.3311269473327229, 0.3752382289467659, 0.6416902781665429, -0.9084633331234947, 0.29780790740693414]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [0.6854391861329194, 0.31919808983364856, 0.5041898329724526, -0.8256039435761131, 0.07539038928876704, -0.4173234829700255, 0.2838912109384804, -1.0011075129743938, 0.22895690877700642, -0.7205748667019013, -1.2624919538621404, -0.1022841050459702, -0.5478932980253373, -0.12436042022227795, -0.2518155710801705, 0.4682362050431167, -0.35197629106031614, -0.33192182936212034, -0.5418222581500146, -0.5814894466123588, -0.08421401387837313, -0.06682382794136639, -0.3275615197949446, -0.18239036332792102, 0.15037915314843686, 0.3296109795818835, 0.24466952060228866, 0.2673925848127645, -0.16233157487863328, -0.3650866127661605, -0.7025379317307259, -0.6774905443743572, -0.31170964270339624, -0.4212051382146283, -0.4832842677174819, 0.19505396377111184, 0.40803533700101713, -0.3706789983189103, -0.2667280356618477, -0.6796614693108137, -0.6695265465361223, -0.03381244274676266, -0.4022576201789114, -1.0084247617784605, -0.5032184874026623, -0.21118014066262644, -0.2916220248087796, 0.01907117649127056, -0.7515687251694855, -0.3470165215985638]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [-0.40612955307696313, -0.01712990920512535, -0.3382607277179589, -0.17708285639336432, -0.3065444648144316, 0.04118876935364443, 0.1700225337414996, 0.015672194238160478, -0.41481456614870377, 0.2834372462541257, -0.2664899538224492, 0.1323278904749737, -0.691941578318964, -0.06215742761353877, 0.09365863819195042, -0.31322940056857723, 0.3283842970693478, -0.2702806708356934, -0.49734854117770394, -0.23296355648252248, 0.4598442265727531, -0.22747218032088318, -0.34751321258424994, -0.23161141855266992, -0.3203723328292696, -0.3147714813796255, -0.5212449247379843, -0.16463849085222856, 0.0363435763444907, -0.3153371969389197, -0.24175804484226762, -0.30391654346362434, -0.17497330378776502, 0.01548049512170842, 0.4445837530348708, 0.38945871138620225, -0.236566086849828, -0.6128710500606726, 0.1895624847292419, -0.057799238805743884, -0.024053890889809134, -0.009768026368424792, -0.22736270503287903, -0.1020693425384113, 0.01788946589650768, 0.0838090732225157, 0.07907335550136596, -0.20417287686374616, -0.007736584506980429, 0.012179139158859422]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [0.01929011685534334, -6.757941710509204e-06, -0.0008576440476193869, 0.09578444837157984, 0.1133845390093369, -0.24267131206866582, -0.08497338932826716, -0.016510592154629893, -0.03752355359177022, -0.005945701975093472, 0.048908806063423405, 0.050100535156594767, 0.061484989083400214, -0.1690106698709526, 0.12494088656962879, 0.10043888414555996, -0.18899152519294937, -0.2119849952922857, 0.2606366850425494, -0.039561180738330155, -0.07721355961071598, 0.12409000046372004, 0.00324623910203691, -0.2868253467053201, 0.0429412331735037, 0.10112286467050256, 0.037505049655828675, 0.07035309510363975, -0.02968027108373628, 0.07653037763062077, 0.00909469851960668, -0.018045458785481777, 0.03418291424986639, -0.17758073696002416, -0.2524424346266573, -0.116615391254638, 0.03163524398466042, 0.15770049117443602, -0.14732804233713756, 0.0309655778879862, -0.26844350832386893, -0.1534482063797552, 0.01862045075866921, 0.047624297804021005, -0.09807163534474155, -0.23868654239135992, -0.13116505111148086, -0.020509676260204425, 0.2335586342743453, -0.050783717136689804]}], "hovertemplate": "color=versicolor<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "name": "versicolor", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [2.531726980439558, 1.4140722251737572, 2.6164846082840425, 1.9708149459064814, 2.349757983950942, 3.3968799206781357, 0.5193832450849365, 2.9320050969913, 2.319672793874052, 2.9181342336442513, 1.661934947019486, 1.8023404526607325, 2.1653788629533968, 1.3445942175098242, 1.5852672993086434, 1.9047435782139117, 1.9492487818644975, 3.488765379656385, 3.794686861209969, 1.2983298245678152, 2.4281672590208476, 1.1980973722749628, 3.4992654842989546, 1.3876682501815554, 2.275853649305694, 2.6141938306983326, 1.257625182925136, 1.290669647737601, 2.1228539805083124, 2.387564402369026, 2.840960925285382, 3.2323428982958737, 2.158738373133134, 1.4431026043759743, 1.779640106898569, 3.07652162102066, 2.1449868567093033, 1.904862925137131, 1.1688534694704031, 2.107653731173268, 2.314303394629547, 1.9224508848357522, 1.4140722251737572, 2.5633227123408084, 2.4193912198049796, 1.9440170488777362, 1.5256636313138718, 1.7640459355269824, 1.9016290752882326, 1.3896661333194165]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [-0.011842236640300048, -0.5749250559123045, 0.3419352869872943, -0.18112569470491366, -0.04188254965484179, 0.547168046230152, -1.1913516890506526, 0.35237700618085926, -0.24554817060691062, 0.7803806293720321, 0.24203840103752236, -0.2161546066265365, 0.21528028337300695, -0.776415425176825, -0.5393070538471718, 0.11881899098269856, 0.0407302594277678, 1.1715445442635641, 0.2532655709725338, -0.761013936521508, 0.37678197125415247, -0.605578961764594, 0.4567734669640737, -0.20403098657015503, 0.3333865257566421, 0.558366950278822, -0.17913699742322298, -0.11642525182937234, -0.21085488454948997, 0.46251925072625993, 0.3727425910490206, 1.3705240359763333, -0.21832553156299334, -0.14380128908272632, -0.5014647947060155, 0.6857644422460559, 0.13890660887731485, 0.04804750823183476, -0.16450249981508974, 0.3714822491771055, 0.1826088507936985, 0.40927117617869524, -0.5749250559123045, 0.2759745022398382, 0.30350393770262885, 0.1874152220460136, -0.3750208481918233, 0.07851918642935737, 0.11587674824796598, -0.2828867091722688]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [0.7584586515284949, 0.2963982243052131, -0.1121413705543668, 0.1065391486498459, 0.28411068086616714, -0.3518731576273014, 0.5466855311249488, -0.42369127833689696, -0.3499221833590492, 0.42173893361376674, 0.2428152634675929, -0.037695328493964626, 0.03314818319913303, 0.2828680182243183, 0.6305704884623254, 0.48013807976572825, 0.042729093929436496, 0.129320083361775, -0.5169707159938947, -0.3448870474686993, 0.21864907004670486, 0.5126407650398146, -0.5769101867216482, -0.063511321778648, 0.28467815266071755, -0.20842334661879347, 0.04697780744922718, 0.23161356056830584, 0.15351588509125508, -0.45202396144912727, -0.5010315391382013, -0.11844877739515829, 0.20842197616391556, -0.15408297110542699, -0.17581118605670307, -0.33642274120822396, 0.7341847390548596, 0.1604706307060082, 0.2824608810023711, 0.027437856461485097, 0.32286040074238215, 0.11549281596071709, 0.2963982243052131, 0.29125361312685927, 0.5043025169513592, 0.17930287068112655, -0.12063644074491194, 0.13078405342866864, 0.7228735608675684, 0.3623178316312213]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [-0.03259956851444925, -0.01569547827948598, 0.06595604952643848, -0.23685862488186119, -0.0013127240036090917, -0.11121996802024871, -0.09879841992577922, -0.2554073688442786, -0.07626286251324571, 0.107729319478853, 0.11944758456759062, 0.07871345255565043, 0.16266728030785257, 0.14048189225832974, 0.32745536666912806, 0.21711450049899506, -0.15784525195695603, -0.3116298379326806, 0.05645164354097455, -0.04267371805612869, 0.18385417915128938, 0.05950003054907901, -0.13775959759087722, 0.16376353673268976, -0.062230277600379726, -0.24044543308754107, 0.14760054550703341, 0.0030843215735913173, 0.052612433191036374, -0.22990687721412378, -0.020216625381557492, -0.2544873443761551, 0.12772448922911858, -0.18992586408934103, -0.5035294527425076, 0.31058909243773947, 0.051766535137647667, -0.22198014191560672, 0.019330765589731586, 0.2099551985159037, 0.27589665973045435, 0.50409500679105, -0.01569547827948598, 0.05618492696844714, 0.2382179465519489, 0.42508163386614445, 0.25572256452137176, 0.1362945563181901, 0.0408728218486993, -0.15631038532610417]}], "hovertemplate": "color=virginica<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "name": "virginica", "showlegend": true, "type": "splom"}],                        {"dragmode": "select", "legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b678c4df-8911-4daa-8db8-0659f0a5bfa1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-a-subset-of-the-principal-components">Visualize a subset of the principal components<a class="anchor-link" href="#Visualize-a-subset-of-the-principal-components">&#182;</a></h3><p>When you will have too many features to visualize, you might be interested in only visualizing the most relevant components. Those components often capture a majority of the <a href="https://en.wikipedia.org/wiki/Explained_variation">explained variance</a>, which is a good way to tell if those components are sufficient for modelling this dataset.</p>
<p>In the example below, our dataset contains 10 features, but we only select the first 4 components, since they explain over 99% of the total variance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="n">n_components</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">total_var</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="sa">f</span><span class="s2">&quot;PC </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_components</span><span class="p">)}</span>
<span class="n">labels</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Median Price&#39;</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="n">n_components</span><span class="p">),</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Total Explained Variance: </span><span class="si">{</span><span class="n">total_var</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="03c215bf-8747-4592-a015-3185e4b97f31" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("03c215bf-8747-4592-a015-3185e4b97f31")) {                    Plotly.newPlot(                        "03c215bf-8747-4592-a015-3185e4b97f31",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1", "values": [-119.81884271656148, -168.8901554823123, -169.31170746584658, -190.23064226267323, -190.13345102539012, -188.9505765610933, -104.33599656015674, -102.09430836975723, -98.52827139987521, -100.03015499692029, -100.93997076914276, -103.33559388729847, -105.0827908441904, -108.44912259617688, -101.58730512902868, -108.51336710574707, -108.26519845023843, -103.67445261278444, -79.04098252405059, -105.99405422493565, -99.17535896909617, -104.746087978635, -105.68626474420999, -104.28575770189464, -104.80928195846542, -79.0296470398617, -100.08353088616083, -79.61186289177594, -103.0039700322138, -101.36335842891147, -94.7042255070598, -99.24618351091206, -58.43935296439851, -94.31520691523218, -61.92942138300572, -134.50860642413474, -129.40448992208894, -136.7657022232663, -136.66581507311483, -167.25017356070947, -167.80307684984814, -180.50793077212714, -179.58103171956924, -182.78113650817494, -178.45543182540348, -181.13991717091972, -181.09096225037214, -175.4100852220315, -175.52612247798854, -178.64898787086332, -171.1092209474395, -169.2930615262614, -173.74595643503784, -173.64810650114305, 40.90525079462451, -192.6491171935549, -109.06396355057151, -162.18439760304764, -132.27722681495206, -132.5245071388561, -130.32437967287177, -123.05743513553433, -130.86112351476004, -132.45865976465035, -195.06857996965056, -87.39924959507985, -86.15830795384132, -76.18424048314093, -74.98013007120855, -75.39715031789545, -111.11987167337499, -108.15579279179532, -113.13748214865437, -109.22077853771466, -25.99534478419572, -19.28092262272107, -13.954101232540415, -20.267107374052078, -19.402891566009973, -23.715955557879397, -136.7939886881283, -133.29355314972855, -136.86953985046765, -133.81557379413184, -166.7369405883198, -164.78863986620664, -166.63734687778856, -165.5107096555781, -141.85539650124088, -143.54662495261798, -142.0917360744925, -141.85256400174939, -144.77893725619992, -147.27395379297047, -143.2908860253143, -127.1916475934855, -135.95457907466195, -137.06144521012368, -139.3656458963185, -138.14583797488035, -33.10146847650106, -34.101250233130536, 61.732564381367716, -32.29458340928037, -31.584451900352096, -31.322952903048602, -32.14545731431625, -30.487661093383426, -31.735413305322677, -30.982287888784352, -34.78271165045274, 12.471559605851585, 13.745527483229715, 13.408334947797924, 14.69502322870498, 27.915370009499892, 12.421703115642794, 12.874742259779007, 28.471184155651162, 12.372107471877605, -218.01530794045664, -213.46977319865874, -212.7707362675457, -209.98780306054908, -212.91111517389479, -215.23399992228624, -206.8447620086442, 19.876623627604104, 18.675483812029277, 18.416382252033873, 19.159890807468006, 18.53420398179729, 21.7508626213105, 20.77030044951639, 57.76648478451024, 19.315704750052475, 23.697572024689244, 19.445428372748225, 20.17607884828795, 18.678339155429672, 21.0109547657256, 19.25450525285139, -13.217711599803195, -13.204756179255485, -13.360414043282507, 52.005784863425625, 52.80337717712349, -12.031939566138856, -2.10935565429574, -0.6667648381946268, -6.768488916563257, 2.5208419954615526, 0.9908255766496356, 25.66709756385558, 8.217446451790808, 75.01343120354709, 75.78125317646885, -4.265066026117609, -1.2218724274244297, -4.232391515846329, 2.494870079607424, -8.080296398656904, -11.86777294802532, -11.868149729709888, -13.76992024275391, 31.433353555202135, -6.074511126819686, 33.95386529065986, 15.125823521139058, 5.463156695673942, 16.440982306546665, 0.3827421846422243, -116.61133360110311, -116.7039483225101, -117.31700164470028, -119.73632584476452, -119.11054274545403, -117.69642941762942, -116.33500635961126, -217.307350879227, -214.77692761537332, -216.8855454211763, -213.67438449603472, -214.1798904410509, -212.75664824812378, -213.402374712533, -216.48230094274928, -25.001053498196747, -22.844619596589958, -26.102467767585527, -21.979200920936666, -24.714558478965113, -25.359816188617774, -154.68197601480216, -149.0979279508345, -163.44000887079042, -93.81512526445245, -81.09870915733204, -92.03691706769997, -26.633084032184197, -23.0839303955072, -74.49683906286425, -76.96536137952339, -192.92523074171328, -192.40652563111038, -140.13843833474272, -137.01969903813756, -133.58211594211465, -132.43878454553968, -133.34992780809824, -133.08960320718955, -133.79995615568083, -135.64560044221332, -136.10712016746865, -126.77812938704275, -137.5357748896817, -136.88620202837538, -134.5364184209197, -134.81437323005022, -134.18494845549318, -104.5606906893376, -105.08669491585611, -105.07222072574206, -106.76214633630637, -103.60789384545593, -102.30969419456153, -103.62369737592239, -99.64401817401748, -106.5468707151812, -107.00117082759287, -102.33342297731544, -101.10453301721277, -104.31348471804338, -102.50099942477337, -97.26762282265341, -102.44316540752463, -104.62503968418203, -105.61802584704681, -115.02852414229446, -114.29571122468967, -115.36783507586492, -115.42186981829559, -110.10531447866438, -114.585643654931, -79.10228575408273, -84.33875698279174, -87.80707202968321, -79.99501777382996, -82.11008220270615, -90.36226510715517, -91.4918412754968, -86.29121138475944, -89.10938756248464, -92.11653706769664, -106.03681289579966, -107.72118951470551, -171.7855233648556, -146.13842227612935, -143.1123430029975, -145.64927978805144, -147.36755463713848, -145.496027072636, -144.91404110153587, -146.4394499332263, -145.15076581770154, -148.81114077001232, -144.46445801849643, -146.25141600676292, -149.23445367227723, -187.48396906383354, -188.335112946201, -193.04694271942574, -188.90814354334213, -188.29260014425813, -163.13628705789202, -162.32107465266162, -159.50798470043875, -162.56547692650415, -163.11857078153778, -198.43593883811093, -192.97698753546032, -196.67651262861722, -191.25239184611522, -219.10451431919785, -136.4200814124363, -119.73087549596082, -161.32026225989716, -126.65981068729069, -125.45320979512903, -119.9753657877692, -173.89023577513277, -173.9007363805999, -174.23485148561068, -129.05256667916234, -127.01184879673752, -128.04569908863178, -125.17832357706199, -125.57736699534226, -58.474712854036454, -60.298436949733414, -62.75485609628817, -90.43713604890691, -88.75893551214628, -90.89135739194575, -191.5018576273794, -189.93601828753074, -189.86779853330142, -189.97792638652334, -109.61286359514435, -109.78317284823652, -99.56839522779062, -112.04998559325911, -108.61558252569193, -108.4942677058571, -108.75571217597906, -109.7248793748645, -107.44112157826699, -110.26550030310972, -110.27054764319162, -111.21635066176758, -128.26017226322628, -128.10000815054124, -128.44477987011808, -124.63267895623738, -129.30137076377054, -130.5207508062998, -130.2429193657167, -128.85436026470262, 9.42692376299739, 10.752331954870277, 13.975935397886703, -114.92929703588499, -106.21019141328144, -187.2970280329213, -187.1491344919139, -189.63541044321923, -188.60247703393892, -186.86672930317948, -189.16095882051775, -188.67590423711562, -187.59041746595753, -132.68703369223348, 2.256190616472313, -51.61215121539482, -51.442235854383554, -63.69481203405026, -57.20255149474594, -72.13352592588988, -138.81916372488305, -84.26754826752902, -85.48910666894349, -7.168621413953406, -14.8462297944769, -225.17241485225122, -85.75529626797598, -84.04273544694775, 242.72149760093478, 237.97029628234435, 236.1410266919458, 237.33243534581055, 242.50055949734138, 249.8506718924899, 241.40575413643668, 249.00368127555237, 247.81383733982122, 248.2700614237526, 259.9543347596815, 314.7107466249222, 243.1404835113856, 242.95936604615306, 238.1571459847634, 246.13964953465364, 250.5478546178768, 237.82024040612208, 238.11131058447052, 237.40054141492485, 246.9811466456198, 237.36841045021202, 237.61250064012927, 238.63753781540365, 239.01725228480274, 237.56633817622978, 237.5042935177456, 237.4916513912806, 269.5968179881039, 237.7355121104347, 238.05896187200005, 237.21254828929872, 244.8002665225277, 237.318072769463, 237.75613953848114, 241.2044881076216, 237.37050138953646, 236.6739518235621, 237.01521072501046, 238.6722288105208, 236.97393817854865, 238.3895124783883, 238.51980726382735, 252.92147889941026, 238.04106748350037, 237.57606218355255, 243.49381462026582, 237.5387665497827, 256.9571106605146, 242.68589013775764, 245.6100666840674, 256.19781948519346, 261.2969823501372, 300.9213441233116, 353.25202831208287, 342.96859167437594, 345.23498596865767, 292.14051395858684, 328.7618033803399, 345.5362068237958, 346.13337960866687, 315.6481300015014, 350.1132438059629, 337.0682800476968, 260.11900081416377, 259.26460777661924, 267.01036792800426, 351.0356043962628, 349.40456625479254, 350.67869354063663, 342.44498399795685, 346.45006494506, 322.9836312701332, 335.0500680759322, 327.4630293537236, 328.85844411583673, 322.1055268100108, 322.61893485817455, 323.305502009755, 320.69235980242644, 344.5451469663881, 350.6127581746847, 332.3660613266401, 236.98193260171504, 238.79632996789115, 240.37399969682977, 237.58912462026464, 240.37614049622672, 282.8685461418316, 340.1626424143838, 259.95506066170395, 239.51282267644308, 237.26900980364655, 264.20307981757696, 352.15688056151015, 249.22054830993446, 239.9864781796886, 243.37728853818058, 350.54012458556576, 336.86883583558404, 348.7802334149291, 350.2320450910475, 272.2331951150971, 235.91742266297018, 277.6239497647369, 237.75335949320754, 235.77937455155998, 237.14341162098216, 234.32305445093277, 250.96945566142844, 345.0840875923616, 255.95235433705253, 243.33208076239345, 233.7856318198447, 235.84636793949554, 236.77583988493944, 236.05511415914953, 240.85050807661273, 249.86247248744857, 264.626886643859, 236.92475957374464, 251.28592924650184, 242.13544214312105, 240.36226471053934, 234.14545072592628, 236.0416699865156, 235.55675115516217, 233.1645799214887, 239.81699349508415, 235.41577756220715, 236.73003878924087, 235.70097611526174, 279.13830446507126, 294.60746975864885, 302.1750445002896, 281.0967173435584, 277.7300340855249, -29.111133021141224, -30.025447931271, -30.041672709818272, -27.319943695975564, -27.675533356401747, -28.14381135414113, -27.080132157458713, -26.908163550019378, -138.69793277004533, -139.5044392331218, -138.3871630607856, -137.50517338121594, -139.1903329527843]}, {"axis": {"matches": true}, "label": "PC 2", "values": [-5.560055859669916, 10.116208634430814, 14.080532296694857, 18.3024632984999, 16.097947429508935, 18.729162551867397, -8.735509269657927, -10.108029548187194, -0.247909110157855, -0.31766787190426593, -5.901410081789789, -10.066546629881794, -3.682179111985729, -8.824295558145355, 7.197688136058904, -7.568976018631524, 0.9643598108942841, 0.8049135545890562, 94.52178616601041, -3.1614302939765175, 10.484406627882262, -4.769216597055001, -8.931241066530747, -6.717167352172265, -6.504693425264338, 80.47146293354747, 10.19334624851426, 77.62880143832382, -0.4162217322204633, 6.993350054512026, 26.197169147251213, 10.275526175176836, 148.27755003613268, 27.506138480822084, 133.12965582464454, -0.6628833439880955, 17.87873297924217, -0.515062520564461, 2.8760358506527552, 8.804352453829999, 8.83495046450969, 24.13747077519586, 26.07237409924109, 15.478439026688017, 20.146444112907833, 13.004777764276325, 13.030512762157976, 16.73689894758726, 12.772368869905915, 12.8785920823104, 11.33788068806212, 12.735778067296556, 10.150219580386798, 10.166456612862143, -55.961317076975746, 16.13359595199857, -10.282903948682014, 10.165296993179073, 4.038074846020769, -1.9994951838125752, -0.37365101205400647, 15.761980059190043, -2.1313944177340995, -0.713145444170698, 21.362922082994686, -17.23850894893458, -17.282625415102576, -19.01865974840829, -19.73735805802466, -19.740354419495816, 4.648514940455836, 11.097133691444249, -2.2307552203683394, 10.92872893066788, -33.258986223131444, -22.29175329650289, -13.292562686496126, -25.85546718605452, -25.353119271020866, -34.51078400794086, -1.0296256899607112, -0.015320939067001113, -1.0141251080783256, 4.893088886977993, 8.836228101984885, 13.170498385580322, 9.741380524054554, 10.452057618034075, 1.8834723634195725, 2.820578603790826, 6.5309304358351685, 5.17275524393464, 3.8500050965810413, 2.717772608983223, 1.921133166891049, 37.51569480476924, 5.108290545625881, 0.1834469688208076, 3.625481984839761, 0.2715321910028947, -29.40429243443613, -30.14942142334509, 280.335857750695, -29.146552764624293, -27.466404488376885, -28.781547576818266, -30.29017346347005, -22.648060078782066, -29.945601165064023, -26.057783804205133, -28.02383985288875, -44.24720019439369, -43.66527521513822, -45.53826498001816, -37.710610314293554, 4.206664628602712, -41.994603499848786, -43.21933500850612, 10.295351331567119, -40.22271457620721, 33.303221870974554, 44.197239783097494, 43.76648168901147, 51.22553681072474, 42.51437328352929, 37.14839080968912, 61.782752397063604, -42.47338033014006, -47.07916856534735, -47.035217944763836, -45.31711980824385, -47.085016456277174, -36.44486779825003, -39.21150699951151, 81.20053420560272, -44.93277817771587, -29.207506589763877, -44.384863196492354, -42.3952632907787, -47.055005319873345, -38.5657161545792, -46.968301385509065, -37.03972392393878, -37.0366953795593, -37.01657082958204, 177.13493290263793, 180.54948105024658, -32.04328495304931, 1.1590666565247678, 6.030755527163832, -14.064309599949494, 15.747003068074328, 14.199894314286896, 91.93431965340125, 35.458368677062666, 258.3482551873851, 257.6891664910263, -5.162812215490889, 3.955315553066493, -6.001835346182538, 18.30583765985803, -15.657692417538428, -30.211257112954648, -29.071253414343595, -35.37531945920089, 112.77202284192184, -10.768192150059296, 124.85697134688994, 58.32222050700071, 26.823572647106804, 62.93233998987517, 9.517293274772896, -5.704935955253809, -4.373678373971548, -2.1117950234892793, 0.23788260728605481, -1.9857858565344673, -4.423975648729941, -0.28566475618742326, 24.551634089054875, 25.70526982281658, 24.555008445289197, 27.015368055949693, 24.342585133245723, 30.06469415610747, 33.899774750471174, 28.659020552695484, -32.348177063924624, -21.74455621865813, -35.23979878553121, -16.76347256516335, -28.322129464832482, -29.052418034394826, 7.243086420152423, 23.12781601125592, 9.219542399757572, -14.960051686001695, 25.775475079072518, -10.475409729045529, -36.19727525075392, -24.142056215077492, -17.533925698867616, -18.96794564465387, 19.674411122910026, 21.808735570935077, 0.17934548957117266, 1.9490761434139572, 7.075944061627135, 14.887970234070377, -0.19314682783262302, 3.3070384799034396, 1.4640298419299984, 5.727984276429263, 10.717774375615061, 46.22730800064877, 3.18347744823915, 4.194077231701404, 4.0252976889437155, 0.08323937528285577, 3.0703344894449693, -4.014552582741653, -7.347581120482423, -2.6969955406589547, -8.952960012999267, 2.3706040015137315, 5.264463945682483, 0.09043072115974844, 14.77627037782056, 9.92956735565105, 7.198017556509874, 8.879611825349984, 10.905532721577504, 1.5693632269268887, 8.247785683765605, 26.222251645918146, 10.441482347370115, -0.8378551514381882, -2.3862575539957414, 10.225088835880097, 5.916895177992694, -1.2715922719622297, -4.550181970015868, 16.424817570248177, 14.77418803441345, 7.7453509336924, -8.095163367159682, -8.949575004069038, 4.226492028541281, 5.76222324884216, -12.269853721214014, -14.677180366394982, 3.7016620519366543, -4.911570921993205, -15.25459269768025, -7.016888188898765, -9.117435351110629, 19.968890951164152, 10.527557767654814, 16.596987432261802, 8.330270396422781, 7.61744672748918, 11.796484046864457, 13.220794277714901, 6.963448100986896, 12.24762308083113, 8.114437385820164, 15.980445406792935, 15.588555509034874, 10.13827993087405, 21.12705414889093, 23.80809762715245, 16.029506505980404, 17.64805006592649, 21.688492545622157, 6.871673848159197, 6.812318426809693, 14.109615590480987, 10.204793950972972, 6.897539318465535, 17.985831003795493, 26.963895024965954, 22.420388200314147, 36.835737328886054, 24.731456426198456, 0.09423989713407963, -4.390986029987761, 63.707780984443275, -4.495884755214433, -4.574976399227906, 19.642637119715285, 9.581360670130945, 9.58422893525167, 9.614935878717073, -3.330048345846653, -3.456366553814696, -3.4153712719133558, 0.34919082112749283, -3.514233043309036, 4.002809925020972, 0.8658315523748756, -17.775817814304844, -13.994811560023685, -2.265324888685809, -8.80421648165566, 19.265339379607806, 19.485109854077244, 16.007406611034707, 16.022325030994427, -8.090274699554948, -7.395965335184485, 36.64021751892167, -7.910456419385939, -7.522302564876643, -4.71806529601282, -6.934177115272088, -7.565415268999837, -2.0876191987195925, -7.964437560286594, -6.353833790806853, -7.266843541190674, -2.9322020832107936, -2.945475187374947, -2.914437535639894, 2.4858254950645193, -2.867399765230938, 0.35011082902746665, -2.803177924050518, -2.850076365710094, -30.717016019998823, -23.76960794573491, -17.496294906531364, -4.893698942972412, 25.486827676562935, 22.446008440107466, 22.74621444148567, 15.604764535928396, 15.54719891161502, 17.47401007892206, 16.317871907959397, 15.552035405269987, 15.474513248537095, 0.1328195012160479, -35.73443708576, -27.138393193362628, -18.45221856540181, -11.096841082836265, 9.002393237146517, -17.106861954421746, 5.072057731343068, -10.019970474315288, -16.817120093313775, -14.018901869584873, -34.51205855057457, 38.42115141475536, -2.88958347284409, 3.5741521519204857, -95.78290006949628, -108.81889416739834, -112.68751001461423, -108.19039286958073, -92.78389694213433, -69.90728387416272, -98.78026984004802, -72.17577669794503, -73.64252559972458, -73.79870775818804, -36.80872185258902, 139.7237239225721, -93.79519121127244, -93.58681555949643, -109.57674018907952, -84.77031948350806, -67.25181255185848, -114.01527588096677, -113.94783421783082, -114.06865373683533, -81.61946264787663, -114.09424995669897, -113.97319368684886, -111.02303506516526, -113.55009472580299, -114.05657317760199, -114.09213201183933, -114.09458383990612, -7.726061886231785, -113.98898148826079, -113.96409888404308, -113.89445253391216, -91.0883528762825, -114.10860199167207, -111.76527710674752, -96.33700899693116, -114.04714113726837, -114.10170444836736, -114.07558935586411, -109.42097081572628, -114.11539126389127, -110.48358132533637, -113.85739723658666, -57.75735849849216, -113.96792623745777, -114.07708518469073, -94.22904891234559, -113.98722956514513, -49.286286958348576, -102.29681015452351, -88.50650603388688, -52.16986620970076, -35.42046030342226, 93.92881292851233, 263.1318155723141, 231.92089895353607, 238.0134390279008, 63.79990801816491, 181.33448540596206, 239.45119161016663, 244.8679155757246, 143.82834057481537, 250.09890174392945, 219.23655252005193, -39.40301329786855, -40.57554673893334, -13.323089084527837, 263.07594619361953, 262.0545174070156, 258.1480902320037, 242.0517392167561, 247.68036060959884, 173.0261401706196, 207.3860513724669, 185.6636615284517, 187.6663234094061, 171.81777625880844, 169.6194223896895, 169.2074652960404, 160.42224514924962, 239.17224703789728, 256.56105134746696, 199.6467954344826, -114.05990247263851, -108.76006232317069, -103.63495230190627, -112.9986589819064, -104.38948385490255, 35.4802710066891, 224.28512560796372, -38.69081806378776, -106.09577552913885, -114.11481366626953, -25.489310117438986, 265.10101139148014, -74.35330825592482, -102.81598458354233, -94.02448576309365, 259.03714150763057, 216.74401378322742, 255.40831229029976, 262.13761217297537, 5.175930216062485, -114.06949804507379, 21.357394884362286, -108.88303996714916, -114.06646427282757, -111.1877163468276, -113.96225007862441, -54.12859908431871, 244.38526882669424, -51.37006513349095, -86.98846787951778, -113.86889943603813, -114.07424990038379, -112.6331346435901, -110.66371285842733, -92.75866346122679, -71.7266587730834, -24.077713936593064, -113.45229383002638, -68.68802582856102, -97.65164467322688, -101.06432349126614, -113.98581122066784, -110.39992978782037, -112.52902114525875, -110.0624100499037, -88.84010462962466, -106.01042450868017, -110.01357126841647, -105.62307101004134, -125.4451973939101, -76.63952473059777, -52.1074645577969, -120.71835832818054, -127.15036897996083, -33.34447531526589, -33.26933833189024, -29.716046933000513, -33.39916842356389, -33.426568289247676, -33.40332837896129, -32.357772640588514, -33.47766400068416, 5.781484954544806, 1.0393887014143355, 0.9380922013568488, 4.251825104028874, 1.0090642298388117]}, {"axis": {"matches": true}, "label": "PC 3", "values": [-3.1726926409603684, -30.781886774776446, -16.75362820644431, -6.534195370236347, -13.158520095538472, -16.48620355389739, -7.380790161478366, -30.315526225818004, -34.01953800396298, -22.147468619412468, -28.954538574456034, -19.78028118890812, 13.291120882969432, -11.81926371297203, -28.775753608988598, -7.812460167144001, 13.1246980843158, -27.238688233473397, 9.40733703462343, -17.82279612501549, -40.01256115289503, -32.97784526322331, -35.429552637170616, -41.74871661622064, -36.93484864235416, -28.46309259893544, -33.49996917253749, -30.946751782319307, -36.6811980309929, -31.068289773869594, -36.727671469324676, -40.693463585607404, -25.062983890230065, -37.000816014828594, -36.02360332936077, -19.25555444211456, -13.820606033430884, 1.0357679534095592, 9.528071856198059, 61.64292468813241, 66.39753114416067, 26.539241632587032, 23.697561597268496, 23.3605117228787, -2.037567307099529, 2.3801881785378054, 2.3926543850820363, -37.36980907348517, -45.98534304715737, -19.447639949858797, 7.552609593701743, -5.111926575512845, 26.876712599308437, 26.355143760402818, 61.46677471274246, 68.88265282027888, 63.39998207817755, 64.12330974080228, 27.200398614065843, 13.188967260459343, -1.4832686638745312, -21.778762733409277, -2.134999681094116, 16.117336101305693, -6.603601779532076, 75.7903124349047, 65.21777960961374, 30.52027524186147, 18.398251553898497, 21.67117673268492, 29.98895243192012, 21.613715270733678, 29.022430475083368, 30.367702447388332, 38.68528500920444, 9.292752303723901, -13.081411627403458, 8.457524537375814, 2.3496670658615892, 15.323016530434725, 23.583310333295067, -4.457831940558785, 24.43122088954273, 13.544744582570054, -6.786846674661985, -12.528437121079746, -4.891846935777777, -13.335694577708503, -33.15310796678399, -15.615801216273304, -18.098268685143967, -23.96963292292975, 8.064723187376082, 26.883522041136857, -10.12256944219289, -10.19297780995241, -20.34725856977622, -24.63338784603034, 5.058946879110331, -14.6155379877696, -18.440993071398232, -11.793253609208822, -15.08244503530742, -24.482683528599384, -26.315214554084072, -31.811450537944825, -28.420604659688735, -22.746200277549708, -31.734234773116555, -27.482306556184614, 0.529045986164129, -15.403451553442318, -24.509933070447136, -26.518744485549917, -17.255852499997967, -19.732052343279538, -8.646198148666143, -16.14757271232966, -8.133488329236839, -3.232678745444234, -30.98085572110427, -41.58761447305027, -48.59430659601178, -52.21200049267137, -50.78829934780743, -45.0715659642715, -51.07818265513231, -27.52918498203318, -29.58754361500264, -26.764954677227443, -29.34654123421899, -28.45530849443208, -28.228479754808625, -26.76403065369414, -26.28932734606311, -29.216905282233583, -25.27752218558089, -29.14300269948152, -29.57834925935065, -29.20258931991158, -26.273244555530606, -32.298735555137576, -34.53041576225317, -34.49684444313366, -33.09089737159777, -29.32393239131873, -28.19847804277888, -31.393564918454384, -29.02223068274367, -29.097658518065145, -30.704031764204586, -31.936328093412147, -22.795618123218937, -29.1633919720107, -28.5882477048398, -12.984442306724791, -21.710971147381695, -29.654960206643654, -31.577159473269816, -31.910738504192597, -25.54215698734112, -24.655899226029817, -30.6252064473854, -27.465834051522005, -26.815362571154036, -23.914358647150998, -28.800376831425897, -13.385772095175781, -27.71879933061762, -27.829333039373537, -26.755898910646035, -29.90403263714974, -33.30827592500031, -29.418179724139783, -17.780146736980708, 9.605040825742513, -1.5333361123026663, -21.047293496584064, -21.77530877725068, -19.189479809991546, -38.213180471359394, -22.485659072645237, -44.657066128708514, -47.36864732421689, -43.614128998963416, -27.55627811030109, -15.385211375382077, 41.51901602363132, 51.07955088509227, 43.26720865561805, 56.98409604547249, 49.7084143503379, 53.26225277134074, 62.416002543098514, 56.14111309077615, 57.82123082048812, 63.006500813765285, 61.69892160542577, 59.7067909385706, 93.4900497530776, 94.85627622343051, 62.76410235358418, 80.29229821088339, 63.23032943818085, 64.35286065408974, 14.760563078449204, -8.008500274240578, -23.80976726204216, -13.026830549969532, -45.11459544450227, -38.510973246106516, -36.5497603143869, -9.403211230420036, 7.603809832901965, 23.584871532449043, -0.2245972150507758, -11.256113644269194, -32.87843918886114, -40.34423494890476, -38.49941625640311, -31.86622573519268, -35.15274128658224, -23.67734454286916, -25.957771001704447, -23.473476953906165, -26.999911252804704, -29.6200438168146, -24.575186719685057, 23.07814159363722, 19.693497958469955, -16.281304309473775, -22.279068161137378, -19.519484017058996, -17.306913284754188, -14.307373240147452, -11.18144688295432, -22.648890925662464, -18.53228809634593, 40.24218605645822, 22.13197604963219, 12.445488108394649, 4.104355883480613, 13.983564465812732, 48.58647329720282, -6.28531469587424, -2.468523042433023, 25.057264621126894, -8.186349378850505, 14.648333077457497, 38.361039100664, 41.74394970048116, 45.50899603459653, 46.961396163349725, 45.49924494579129, 62.99103343539673, 72.43796261113565, 61.34653228390982, -21.36599355246979, -31.367493628848358, -31.485465648965143, -17.991360188765494, -23.412416281440986, -24.82780236450272, -27.763721239348552, -25.153109466698698, -3.716357091538438, -20.387582613218118, -6.391541077014912, 4.771319071457524, -7.09076505201342, 7.718045745700233, 27.623372330658995, -4.506446740412973, 0.937991140083701, 30.977333580966583, 23.554875927579943, 18.78810420916904, 35.04188452627293, 31.24448202112001, 15.464678108648984, -8.588984775746606, 11.873847142340693, 2.929920138428176, 64.13818442043105, 74.79807777947097, 45.689872921345874, 57.18211317486132, 43.68138849509201, 32.830262472576734, 50.405571677030125, 59.40608217983012, 59.53675853006159, 62.6791778756358, 18.85427601581854, 0.6196408908898694, 9.491969534664497, -5.557992357846351, -11.717286255275436, 70.51341295088287, 78.0936805678961, 49.24596860390698, 28.14144978942479, 45.13243436459225, 45.85675612342627, 17.47954753861928, 4.419420194134922, -5.875168884514931, -4.7628343436183265, -27.58621386085462, -23.70192581022135, 6.474961514310938, -5.307137203687062, -34.23197993114218, -28.043833549334064, -31.611935260764888, -24.566241940170432, -29.22009763536054, -20.45018408106301, -16.51243697680797, -10.388188245495028, -6.331730185305857, -7.813218640517218, -4.55985748079072, -23.242810318148678, 2.9961631389352137, 22.400620400219967, 11.49031626300474, -0.3132376652110581, 27.62681977015666, 34.543942017063394, 23.229063561267413, 35.290932984234395, 40.32317600959744, -0.9273820505832235, -1.3216284430794814, 1.3854834218374326, -7.734612158286881, -17.79142122381854, -0.8121559756452253, -7.067341412656652, -16.927528259033327, 18.685687464410332, 1.3703644072262715, 33.56820065261247, 55.441971155957496, 3.0215998881494537, 0.44528396369683076, 72.73325475767558, 61.653183498679645, 37.95661157065121, 30.296588481698674, 57.24606117209402, 69.67357417928109, 54.87922267453643, 72.66738976646418, 74.87153493062448, -6.472607394676596, -1.4767438049930732, 4.330632346189669, 5.920052124085731, 1.6885855018990772, -0.6879792665524611, -4.892771343552685, 0.7761004967812004, 6.242051581955824, 2.240026331301521, -0.11024448742462355, -2.327271493296276, -7.04791719643594, -4.668944274622886, -5.535890959558067, -7.460419740890044, 0.8980313559612169, -10.555660460145013, -10.94287365167342, -7.0680034735375035, -3.654741574472022, -8.360624143621845, -6.782213499804681, -9.337098346930183, -3.6762121528404332, -8.63590084552917, -9.475420231800301, -9.553036065690243, -0.9963034921896707, -8.804319355225172, -10.093733086942745, -2.4770014235411204, -9.623849299611432, -8.370826517901824, -6.505159608067269, 4.711503464196183, -7.422188277191064, -3.0805964491292737, -4.833436762972614, -7.834507005471125, -6.012756328883817, -8.192013135146386, -10.463592438543074, 8.086999101206095, -9.949227539657697, -9.225339476183251, -8.678055165400908, -6.2710167757358155, 2.428286265585583, -9.8172657354888, -8.979658180289029, -6.928140755881318, -6.194392012929354, -4.0539864664743295, 0.5798613316669481, -0.780993665487119, -1.917308404767652, -4.992312252072463, -3.8663046367012757, -1.357747700606481, 6.11685804332026, 4.642042025988752, -0.9609149534487513, 16.563223519342685, -6.842624229183108, -3.336724629120612, 3.2461015372446886, 11.155692477365942, 22.6375431194991, 3.0393138662303727, 30.476750492389435, 16.065076493156358, 14.383981950398777, 1.7469425053812575, 9.003455636610546, 2.650895403966628, 17.754376993454986, 7.425747072147904, 2.0452770905011515, 1.4075741362923393, 4.771692144972709, -0.6583852881915954, 6.3917198617616044, -4.789117372903792, -3.5976443628143984, -6.702732106390143, -8.733436417941606, -8.781411098878426, -3.2642259695949902, 2.762886776725347, -4.296898449658713, -6.020653602590093, -7.952867872468969, -5.557685147299133, 6.101938535464906, -6.506277510513812, -2.3253023406601003, -7.755077034678188, 4.6759691457094945, 9.482928947489418, 9.300796741320825, 15.37021250092209, 6.541674025580764, 3.2234747073269983, 2.1894707210762068, 0.3638464928169392, 4.351152723665945, -0.4347168360682498, 17.722147117010017, 32.16738276254888, 11.643917421919781, -3.4601596180341345, 13.604538728486226, 24.086577796401546, 3.4212576635611938, -1.2816268740765362, 10.490431106271535, 16.74859472083733, -4.396298415909891, -5.27493611487487, -4.078030090970257, -6.483333776848741, -6.040882790545321, 0.8498153530356822, 18.525767581236977, 11.184273565939856, 9.617421524554418, 37.154937813914444, 36.18593868154441, 28.46127986408511, 6.824364477939235, 27.35420506070463, 0.030132395816909723, -3.5522149834935357, -3.2506208805867662, -4.459067441387186, 7.394657535275744, 1.4009544160073426, 9.870933795791595, 20.033384542390436, -13.716463972132944, -11.31803352940133, -7.22281966717392, -13.598489014860625, -18.233918441336407, -20.97801230270662, -26.79414976749026, -37.285181328956895, -35.988341879495714, -29.772432306233025]}, {"axis": {"matches": true}, "label": "PC 4", "values": [5.291593112234505, 1.2967758967992051, -10.27839888762839, -19.644920785307164, -14.178140698659288, -11.33521150306242, 1.84761944574211, 20.940658290618497, 23.869333619155398, 14.314640741435934, 19.84033478205696, 12.270127064506333, -15.59562920852239, -11.069974055899575, 3.403919789702062, -14.440912593053238, -31.865534235405452, 1.851180586284127, -27.393236849721756, -6.056316765610713, 12.547207066438453, 6.612095730940429, 8.453998753410183, 13.772675106158642, 9.848629103959837, 4.144366398737508, 7.289547668986421, 6.170358389412526, 9.859291299734123, 5.2777924514859995, 10.004787931538258, 13.402567780998652, 2.025996707822203, 10.378924670826146, 11.247389837827548, -6.324899745490536, -10.653126841136853, -23.36213307487455, -30.505202978814125, 22.14685919830864, 18.2237804323686, -47.160907155178634, -44.77279786856908, -44.71713130445706, -23.31743773586705, -27.20667955150365, -27.345462681660692, 6.083361290003825, 12.880466930741095, -8.979591877398477, -3.5245665390602174, 7.2998877840313385, -19.54763181435782, -19.216992468099672, 34.61310849028313, 34.28190628289016, 37.61656665804094, 53.237810084769656, -12.252873467274203, -0.6668115986638287, 11.600486116145163, 28.906767193434646, 12.338499057135333, -3.070479575007609, 2.8851856439393115, 21.810516448645956, 30.527061512309015, -27.875155305997083, -17.842079011330792, -20.454508457132462, -46.28091016472023, -39.22683667479028, -45.5442654720221, -46.52296696467977, -48.50620524369559, -23.62666059722542, -4.749116000995414, -23.04418292110895, -17.921399778204943, -28.917785651774103, -9.403408291626237, 14.169225165571428, -10.168771589199372, -0.9282322873644719, -18.461575428227263, -13.46290416735893, -20.16765701286819, -12.923550457667512, 5.330398228654563, -9.432959225070844, -7.402695561254777, -2.4595213817278814, 5.928004416355736, -9.880906005978918, 21.132123246043, -13.037841112224037, -5.179590649043893, -1.396769048861589, -26.33323809804209, -9.906438440353742, -1.0771998623194339, -6.628415219958146, 1.171316569144898, 3.8764683509695566, 5.471647087385109, 9.927143730912142, 6.978390870643034, 2.4742373951788785, 10.000611675404995, 6.379576580653415, -17.15782349036569, -0.8576004129178335, 6.6027405015817635, 8.246198033190328, 0.7804779741587211, 3.3899582505392516, -6.5769296736753, -0.22142656908428462, -6.267238160501286, -11.16242820492177, -3.5638807282061267, 5.553090658875895, 11.322777237377853, 14.240875363407824, 13.157770411698785, 8.346652387927241, 13.39349657624615, 8.2884964374896, 10.014871875144435, 7.549385480049638, 9.94598499376178, 9.196941975629557, 9.211704238141287, 7.799291522035093, 9.320865391654785, 9.701544121729473, 6.631488395293022, 9.713563855895364, 9.876201090547259, 9.584962297565877, 7.063233762841422, 11.666690561504039, 12.269094093220664, 12.271786955997255, 10.962108974574464, 11.387237059001098, 10.858788996098072, 9.604422985388846, 8.200532754087906, 8.582130947600024, 9.835636664924703, 11.382873466976314, 3.6864437245209434, 10.23964374817221, 8.839860465985948, -0.5782078883733849, 6.696943405238957, 9.424119569728589, 11.122061891107037, 11.21257572591664, 6.308725591155145, 5.147220110206721, 9.940879704051804, 7.25723452469703, 6.32917727102535, 6.4042322004766765, 8.670969145940001, -2.3574877570920445, 8.649827914908151, 8.22480091675756, 7.795029204802079, 9.660537373807088, 6.59123527786528, 3.532235801340984, -6.256754081368616, -29.119873183686728, -19.91982346069418, -3.403504948924391, -2.7534374502058134, -10.92245162787431, 5.042309753284193, -8.308641261668171, 10.57530130497715, 12.787195785132111, 9.441443406196136, -3.9773703934544935, -14.016379502862872, 8.626585507362286, 0.8487159594685804, 7.18428074753948, -3.979656188691275, 1.9690033894631849, -0.97204805018739, 2.9425427888748823, 8.510300341166275, 32.49853280730732, 32.502786807901835, 34.12671924939197, 35.272482738684594, 30.457779925075215, 29.51121941223858, 36.83686485754422, 22.204578193900975, 45.395967497822326, 44.51787267368429, -35.46865527108923, -16.240674888058315, -3.0844791303212116, -11.93009679901928, 14.555035638301618, 9.243895559627223, 7.329485254133302, -15.20399961423127, -29.211960058608824, -42.77327340140741, -22.746107307829032, -13.887042207901597, 4.4700608660958965, 10.394625788611147, 9.15823869098642, 6.028419996840548, 8.354789177537866, -0.8344281220850862, 1.0572153988872626, -0.7385713242269549, 2.2717297042335938, 4.44662732527861, 0.32537319957530975, -39.80561956136155, -37.00293388944453, -6.923862487087701, -1.6143766838639226, -3.9838982760877055, -5.7987299005321296, -8.176138703133825, -11.171870758981818, -1.6258090189191778, -4.9534751663501675, -15.47543041366222, -0.3234282810836594, 7.593930794741168, 14.524344318636832, 6.619192900588361, -22.356214241645905, 14.84554732996538, 11.171724010519007, -11.7104251918373, 16.476288403860377, -2.7202239244679256, -22.891972148374876, -25.780144521056634, -28.570702596973614, -29.87061717376639, -28.792748465602216, 31.411411768856073, 23.328132296604362, 41.70274841761651, 21.255610217043404, 29.684082967610532, 29.675961769469257, 18.214201830512845, 22.930718762227162, 24.20535988411213, 26.385184547474704, 24.365471923790853, 6.152297145472626, 20.202644826293483, 8.669683035263928, -0.672680221738553, 6.09566691259627, -6.289088524167748, -22.972166905710612, 4.0629393487100165, -0.3871719022937587, 2.2182624504076287, 8.497030537148223, 12.556963983634603, -1.1386140444696249, 1.873127838997595, -12.659552187379937, 7.8173581272487, -9.508007047102707, -1.6778806424872499, 36.824625335029026, 32.67012965369685, 12.57758268574554, 32.61863975448654, 10.195438089543861, 19.320577557693653, 4.855772921981358, 29.897608120048407, 29.783530300893087, 27.093639243430374, -38.2504494474099, -22.953753659697494, -30.264569027323937, -17.564461062221856, -12.710127241153057, 15.113194746178188, 8.690235229761734, 32.63619611307759, 1.146474003456657, -12.944508404139775, -13.532206795338782, 2.8139586921715845, 13.720384120862583, 22.412880468181953, 21.43858302535199, 2.0565845969745715, -1.4006781842542853, -26.173838131134477, -16.78206345763995, 7.397591479409359, 2.377283006533969, 5.319114487582821, -0.6959927859839582, 3.0947243881218713, -4.312154034809868, -7.4300806457049315, -12.664455132119176, -16.74147886619303, -15.48311496142696, -18.243441525835422, -2.5542078279455236, -24.551915281896793, -40.78405134749287, -31.680392556466927, -21.960814746544997, -36.24680316169157, -41.867274728701766, -32.26565403419868, -5.0090893055370795, -8.590981689575075, -24.610510890868635, -24.30905063370071, -26.77084804089402, -19.18082924087328, -10.686914357346826, -24.971835680719234, -19.756350185796823, -11.43707990272626, 8.49586509844361, -14.421933991922057, 26.56351143128607, 8.398064159620748, -20.248014565454458, -17.81669844621533, 31.67022395961928, 30.555203273412243, 1.766009180489773, 8.099310759529816, 16.38964758543017, 5.499682029662615, 44.06514106525462, 24.413417208136323, 22.749212414247165, 4.495761237094539, 0.14303361551479804, -4.7240469349271335, -6.0529608211385515, -2.064781252631874, 0.08153920152609821, 3.2588649997063217, -1.2175525640038196, -5.521652404277853, -2.2571259934224264, 0.11158349465370467, 5.0704208999058, 5.371582955330676, 3.3865792458159425, 3.8898971145209664, 5.74203730783236, -1.0092397497861447, 7.052922368848969, 7.393897723885561, 4.994598557749252, 2.2523856293584212, 5.652515285338289, 4.481099217689322, 6.643185962168233, 3.226002154474288, 5.999412777437965, 6.499497625177859, 6.510360374688004, 1.0560393074546894, 5.821523587074948, 7.118729040153029, 0.5557583526816863, 6.856591225185366, 5.646122103765569, 4.227262548691328, -5.036352769291422, 4.746392952928744, 1.3963147809390821, 2.9127984998317586, 5.415124415516506, 3.6767178442422797, 5.577427345695217, 7.606677832027974, -7.560422373928879, 7.075948150662029, 6.492493803784462, 6.282726228665491, 4.202462505521671, -2.0185095248652174, 8.017191093723723, 6.683778205763555, 5.7929246787618345, 4.909059495195872, 5.597872726467122, 5.435541126421052, 5.069057417528234, 5.757088087582692, 6.115448493851147, 6.8459183911028685, 5.501260315644864, -0.7209015533435933, -0.9365817387471914, 6.577406843068066, -9.82730913076223, 5.852640815253378, 2.783796535702085, -2.170900426298474, -4.645768717898413, -14.105426877114274, 2.2195530525648004, -20.93115011871826, -8.220794330530966, -8.792954325780638, 2.372931550917255, -3.8978034742112264, 1.452143835300148, -11.341806359588011, -2.8263635282362207, 1.8722959708058515, 1.949251964706383, 0.639913686552583, 5.23086413170376, -1.9306310629498407, 2.5902510361416686, 1.923164045376724, 4.508827519491191, 6.0865786509349835, 6.270894134591023, 3.813071713485761, 1.8245278873160455, 3.553287939514493, 4.002586170797146, 5.433450904535654, 4.810277444677394, -0.14956966834128502, 4.826486567404497, 0.8401265886004914, 5.645606938404536, 0.9647251437827625, -3.8516674427030244, -3.088832937500541, -7.952897677843776, -4.7458893581980695, -3.8934243664560717, -0.8731611970741006, -1.4543667554641944, -4.819415962936949, -0.6281781853566505, -16.026538258046457, -27.316454261354878, -5.187364535325254, 2.5057912035280974, -12.144714962486209, -21.35646334834942, -4.141368537243585, -0.04527348687338068, -9.99249748550094, -14.869717374069918, 3.115654962245654, 4.41622300850649, 2.089683185960565, 4.8068648145484065, 4.110490321903496, -1.5253081406693845, -16.637886484109874, -10.296314167440222, -8.980981180353652, -32.28424643884341, -31.235226617447573, -24.88359685043633, -6.854044458412152, -23.991167357968795, 0.7208667821330106, 4.348016890813946, 4.311247399144055, 4.586441727338411, -5.3392857383722765, -17.56499098285604, -24.74662936481206, -33.3678778592995, -5.117108576808208, -6.898226796006878, -10.326458558904832, -5.01633493796933, -1.0955507898743495, -5.706647169822587, -0.8789846038571318, 8.0736903118756, 7.0164343424262965, 1.676859732872928]}], "hovertemplate": "%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<br>Median Price=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [24.0, 21.6, 34.7, 33.4, 36.2, 28.7, 22.9, 27.1, 16.5, 18.9, 15.0, 18.9, 21.7, 20.4, 18.2, 19.9, 23.1, 17.5, 20.2, 18.2, 13.6, 19.6, 15.2, 14.5, 15.6, 13.9, 16.6, 14.8, 18.4, 21.0, 12.7, 14.5, 13.2, 13.1, 13.5, 18.9, 20.0, 21.0, 24.7, 30.8, 34.9, 26.6, 25.3, 24.7, 21.2, 19.3, 20.0, 16.6, 14.4, 19.4, 19.7, 20.5, 25.0, 23.4, 18.9, 35.4, 24.7, 31.6, 23.3, 19.6, 18.7, 16.0, 22.2, 25.0, 33.0, 23.5, 19.4, 22.0, 17.4, 20.9, 24.2, 21.7, 22.8, 23.4, 24.1, 21.4, 20.0, 20.8, 21.2, 20.3, 28.0, 23.9, 24.8, 22.9, 23.9, 26.6, 22.5, 22.2, 23.6, 28.7, 22.6, 22.0, 22.9, 25.0, 20.6, 28.4, 21.4, 38.7, 43.8, 33.2, 27.5, 26.5, 18.6, 19.3, 20.1, 19.5, 19.5, 20.4, 19.8, 19.4, 21.7, 22.8, 18.8, 18.7, 18.5, 18.3, 21.2, 19.2, 20.4, 19.3, 22.0, 20.3, 20.5, 17.3, 18.8, 21.4, 15.7, 16.2, 18.0, 14.3, 19.2, 19.6, 23.0, 18.4, 15.6, 18.1, 17.4, 17.1, 13.3, 17.8, 14.0, 14.4, 13.4, 15.6, 11.8, 13.8, 15.6, 14.6, 17.8, 15.4, 21.5, 19.6, 15.3, 19.4, 17.0, 15.6, 13.1, 41.3, 24.3, 23.3, 27.0, 50.0, 50.0, 50.0, 22.7, 25.0, 50.0, 23.8, 23.8, 22.3, 17.4, 19.1, 23.1, 23.6, 22.6, 29.4, 23.2, 24.6, 29.9, 37.2, 39.8, 36.2, 37.9, 32.5, 26.4, 29.6, 50.0, 32.0, 29.8, 34.9, 37.0, 30.5, 36.4, 31.1, 29.1, 50.0, 33.3, 30.3, 34.6, 34.9, 32.9, 24.1, 42.3, 48.5, 50.0, 22.6, 24.4, 22.5, 24.4, 20.0, 21.7, 19.3, 22.4, 28.1, 23.7, 25.0, 23.3, 28.7, 21.5, 23.0, 26.7, 21.7, 27.5, 30.1, 44.8, 50.0, 37.6, 31.6, 46.7, 31.5, 24.3, 31.7, 41.7, 48.3, 29.0, 24.0, 25.1, 31.5, 23.7, 23.3, 22.0, 20.1, 22.2, 23.7, 17.6, 18.5, 24.3, 20.5, 24.5, 26.2, 24.4, 24.8, 29.6, 42.8, 21.9, 20.9, 44.0, 50.0, 36.0, 30.1, 33.8, 43.1, 48.8, 31.0, 36.5, 22.8, 30.7, 50.0, 43.5, 20.7, 21.1, 25.2, 24.4, 35.2, 32.4, 32.0, 33.2, 33.1, 29.1, 35.1, 45.4, 35.4, 46.0, 50.0, 32.2, 22.0, 20.1, 23.2, 22.3, 24.8, 28.5, 37.3, 27.9, 23.9, 21.7, 28.6, 27.1, 20.3, 22.5, 29.0, 24.8, 22.0, 26.4, 33.1, 36.1, 28.4, 33.4, 28.2, 22.8, 20.3, 16.1, 22.1, 19.4, 21.6, 23.8, 16.2, 17.8, 19.8, 23.1, 21.0, 23.8, 23.1, 20.4, 18.5, 25.0, 24.6, 23.0, 22.2, 19.3, 22.6, 19.8, 17.1, 19.4, 22.2, 20.7, 21.1, 19.5, 18.5, 20.6, 19.0, 18.7, 32.7, 16.5, 23.9, 31.2, 17.5, 17.2, 23.1, 24.5, 26.6, 22.9, 24.1, 18.6, 30.1, 18.2, 20.6, 17.8, 21.7, 22.7, 22.6, 25.0, 19.9, 20.8, 16.8, 21.9, 27.5, 21.9, 23.1, 50.0, 50.0, 50.0, 50.0, 50.0, 13.8, 13.8, 15.0, 13.9, 13.3, 13.1, 10.2, 10.4, 10.9, 11.3, 12.3, 8.8, 7.2, 10.5, 7.4, 10.2, 11.5, 15.1, 23.2, 9.7, 13.8, 12.7, 13.1, 12.5, 8.5, 5.0, 6.3, 5.6, 7.2, 12.1, 8.3, 8.5, 5.0, 11.9, 27.9, 17.2, 27.5, 15.0, 17.2, 17.9, 16.3, 7.0, 7.2, 7.5, 10.4, 8.8, 8.4, 16.7, 14.2, 20.8, 13.4, 11.7, 8.3, 10.2, 10.9, 11.0, 9.5, 14.5, 14.1, 16.1, 14.3, 11.7, 13.4, 9.6, 8.7, 8.4, 12.8, 10.5, 17.1, 18.4, 15.4, 10.8, 11.8, 14.9, 12.6, 14.1, 13.0, 13.4, 15.2, 16.1, 17.8, 14.9, 14.1, 12.7, 13.5, 14.9, 20.0, 16.4, 17.7, 19.5, 20.2, 21.4, 19.9, 19.0, 19.1, 19.1, 20.1, 19.9, 19.6, 23.2, 29.8, 13.8, 13.3, 16.7, 12.0, 14.6, 21.4, 23.0, 23.7, 25.0, 21.8, 20.6, 21.2, 19.1, 20.6, 15.2, 7.0, 8.1, 13.6, 20.1, 21.8, 24.5, 23.1, 19.7, 18.3, 21.2, 17.5, 16.8, 22.4, 20.6, 23.9, 22.0, 11.9], "coloraxis": "coloraxis", "symbol": "circle"}, "name": "", "showlegend": false, "type": "splom"}],                        {"coloraxis": {"colorbar": {"title": {"text": "Median Price"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "dragmode": "select", "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Total Explained Variance: 99.72%"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('03c215bf-8747-4592-a015-3185e4b97f31');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2D-PCA-Scatter-Plot">2D PCA Scatter Plot<a class="anchor-link" href="#2D-PCA-Scatter-Plot">&#182;</a></h2><p>In the previous examples, you saw how to visualize high-dimensional PCs. In this example, we show you how to simply visualize the first two principal components of a PCA, by reducing a dataset of 4 dimensions to 2D.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="9779524e-a791-4f70-bdc5-c4f05dcff594" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("9779524e-a791-4f70-bdc5-c4f05dcff594")) {                    Plotly.newPlot(                        "9779524e-a791-4f70-bdc5-c4f05dcff594",                        [{"hovertemplate": "color=setosa<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "orientation": "v", "showlegend": true, "type": "scatter", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "xaxis": "x", "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "yaxis": "y"}, {"hovertemplate": "color=versicolor<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "xaxis": "x", "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "yaxis": "y"}, {"hovertemplate": "color=virginica<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "xaxis": "x", "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "yaxis": "y"}],                        {"legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "0"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "1"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('9779524e-a791-4f70-bdc5-c4f05dcff594');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-PCA-with-px.scatter_3d">Visualize PCA with <code>px.scatter_3d</code><a class="anchor-link" href="#Visualize-PCA-with-px.scatter_3d">&#182;</a></h2><p>With <code>px.scatter_3d</code>, you can visualize an additional dimension, which let you capture even more variance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">total_var</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_3d</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Total Explained Variance: </span><span class="si">{</span><span class="n">total_var</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 3&#39;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="a28d0e60-f93b-4659-92e2-e07aec159c13" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("a28d0e60-f93b-4659-92e2-e07aec159c13")) {                    Plotly.newPlot(                        "a28d0e60-f93b-4659-92e2-e07aec159c13",                        [{"hovertemplate": "color=setosa<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "z": [-0.021511837001963102, -0.20352142500549145, 0.024709240998957712, 0.03767197528530123, 0.09622969977460939, 0.17432561901640295, 0.26425108519069607, -0.015801510264315043, 0.02733540611450723, -0.19153329973564465, -0.06927499581393096, 0.10765035324990473, -0.20032778809538926, 0.06841362917233033, -0.14450570400963542, 0.2837306639397771, 0.14531598882161798, 0.033394254070698105, -0.11452146479835279, 0.21957208800082506, -0.23369560709796947, 0.2148363702796755, 0.2996189815108712, 0.04568004127448713, 0.12940757589599344, -0.24711633789085985, 0.1012630794297022, -0.07235915743602817, -0.1392533737785348, 0.04646646364504579, -0.071275073131526, -0.13838824005004097, 0.23058560425417296, 0.16358191262366278, -0.19153329973564465, -0.15684235049802425, -0.2611631564817056, -0.19153329973564465, 0.07972480735962136, -0.07390123824707649, 0.08424157450476331, -0.34096149110715174, 0.19900842494724197, 0.27071707036883347, 0.30348780926827057, -0.09051560595006833, 0.17191840447686085, 0.0900613765304152, -0.011175267831168983, -0.08269572660682165]}, {"hovertemplate": "color=versicolor<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "z": [-0.40612955307696313, -0.017129909205125235, -0.33826072771795895, -0.17708285639336488, -0.3065444648144318, 0.04118876935364434, 0.1700225337414998, 0.015672194238160093, -0.414814566148704, 0.28343724625412553, -0.26648995382244983, 0.1323278904749737, -0.6919415783189649, -0.06215742761353879, 0.09365863819195037, -0.31322940056857723, 0.3283842970693479, -0.2702806708356937, -0.4973485411777046, -0.2329635564825228, 0.45984422657275353, -0.22747218032088332, -0.34751321258425033, -0.23161141855267006, -0.32037233282926975, -0.3147714813796257, -0.5212449247379847, -0.16463849085222862, 0.03634357634449068, -0.3153371969389201, -0.24175804484226798, -0.3039165434636248, -0.17497330378776524, 0.015480495121708304, 0.44458375303487097, 0.38945871138620264, -0.23656608684982794, -0.6128710500606732, 0.18956248472924195, -0.05779923880574424, -0.024053890889809318, -0.00976802636842478, -0.22736270503287936, -0.10206934253841171, 0.01788946589650754, 0.08380907322251578, 0.07907335550136596, -0.20417287686374627, -0.007736584506980753, 0.012179139158859284]}, {"hovertemplate": "color=virginica<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "z": [0.7584586515284955, 0.2963982243052131, -0.11214137055436675, 0.10653914864984594, 0.28411068086616736, -0.3518731576273015, 0.5466855311249489, -0.4236912783368969, -0.3499221833590494, 0.42173893361376735, 0.24281526346759313, -0.03769532849396476, 0.0331481831991332, 0.2828680182243182, 0.6305704884623257, 0.48013807976572853, 0.042729093929436614, 0.1293200833617756, -0.5169707159938949, -0.3448870474686999, 0.21864907004670506, 0.5126407650398147, -0.5769101867216484, -0.06351132177864816, 0.28467815266071794, -0.20842334661879328, 0.046977807449227076, 0.231613560568306, 0.15351588509125513, -0.45202396144912743, -0.5010315391382015, -0.11844877739515763, 0.20842197616391567, -0.1540829711054271, -0.17581118605670318, -0.33642274120822385, 0.7341847390548603, 0.16047063070600845, 0.2824608810023712, 0.027437856461485263, 0.3228604007423825, 0.1154928159607172, 0.2963982243052131, 0.2912536131268597, 0.5043025169513597, 0.17930287068112669, -0.12063644074491217, 0.13078405342866883, 0.7228735608675687, 0.3623178316312214]}],                        {"legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "scene": {"domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "xaxis": {"title": {"text": "PC 1"}}, "yaxis": {"title": {"text": "PC 2"}}, "zaxis": {"title": {"text": "PC 3"}}}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Total Explained Variance: 99.48%"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a28d0e60-f93b-4659-92e2-e07aec159c13');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Plotting-explained-variance">Plotting explained variance<a class="anchor-link" href="#Plotting-explained-variance">&#182;</a></h2><p>Often, you might be interested in seeing how much variance PCA is able to explain as you increase the number of components, in order to decide how many dimensions to ultimately keep or analyze. This example shows you how to quickly plot the cumulative sum of explained variance for a high-dimensional dataset like <a href="https://scikit-learn.org/stable/datasets/index.html#diabetes-dataset">Diabetes</a>.</p>
<p>With a higher explained variance, you are able to capture more variability in your dataset, which could potentially lead to better performance when training your model. For a more mathematical explanation, see this <a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">Q&amp;A thread</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_diabetes</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">load_diabetes</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">()</span>
<span class="n">pca</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">exp_var_cumul</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">area</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">exp_var_cumul</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">exp_var_cumul</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;# Components&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;Explained Variance&quot;</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="27ee1d93-671f-485d-81b3-8c270e759e75" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("27ee1d93-671f-485d-81b3-8c270e759e75")) {                    Plotly.newPlot(                        "27ee1d93-671f-485d-81b3-8c270e759e75",                        [{"hovertemplate": "# Components=%{x}<br>Explained Variance=%{y}<extra></extra>", "legendgroup": "", "line": {"color": "#636efa"}, "mode": "lines", "name": "", "orientation": "v", "showlegend": false, "stackgroup": "1", "type": "scatter", "x": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "xaxis": "x", "y": [0.4024214175678733, 0.5516532410893153, 0.6722494722420754, 0.7677971110209649, 0.8340156689459763, 0.8942875900367641, 0.9479436357350411, 0.9913119559917795, 0.9991439470098975, 0.9999999999999999], "yaxis": "y"}],                        {"legend": {"tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "# Components"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Explained Variance"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('27ee1d93-671f-485d-81b3-8c270e759e75');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-Loadings">Visualize Loadings<a class="anchor-link" href="#Visualize-Loadings">&#182;</a></h2><p>It is also possible to visualize loadings using <code>shapes</code>, and use <code>annotations</code> to indicate which feature a certain loading original belong to. Here, we define loadings as:</p>
$$
loadings = eigenvectors \cdot \sqrt{eigenvalues}
$$<p>For more details about the linear algebra behind eigenvectors and loadings, see this <a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">Q&amp;A thread</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">loadings</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">components_</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span>
        <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
        <span class="n">x0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">x1</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">y1</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="n">ax</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="n">yanchor</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span>
    <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="6139dc2e-d17b-41ed-bcc0-09464a507507" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6139dc2e-d17b-41ed-bcc0-09464a507507")) {                    Plotly.newPlot(                        "6139dc2e-d17b-41ed-bcc0-09464a507507",                        [{"hovertemplate": "color=setosa<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "orientation": "v", "showlegend": true, "type": "scatter", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "xaxis": "x", "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "yaxis": "y"}, {"hovertemplate": "color=versicolor<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "xaxis": "x", "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "yaxis": "y"}, {"hovertemplate": "color=virginica<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "xaxis": "x", "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "yaxis": "y"}],                        {"annotations": [{"ax": 0, "ay": 0, "text": "sepal_length", "x": 0.7432265175592326, "xanchor": "center", "y": 0.3231374133069487, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "sepal_width", "x": -0.16909891062391022, "xanchor": "center", "y": 0.3591516283038463, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "petal_length", "x": 1.7606340630732842, "xanchor": "center", "y": -0.08650963259590294, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "petal_width", "x": 0.7375827860577797, "xanchor": "center", "y": -0.03676921407410933, "yanchor": "bottom"}], "legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "shapes": [{"type": "line", "x0": 0, "x1": 0.7432265175592326, "y0": 0, "y1": 0.3231374133069487}, {"type": "line", "x0": 0, "x1": -0.16909891062391022, "y0": 0, "y1": 0.3591516283038463}, {"type": "line", "x0": 0, "x1": 1.7606340630732842, "y0": 0, "y1": -0.08650963259590294}, {"type": "line", "x0": 0, "x1": 0.7375827860577797, "y0": 0, "y1": -0.03676921407410933}], "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "0"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "1"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('6139dc2e-d17b-41ed-bcc0-09464a507507');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="References">References<a class="anchor-link" href="#References">&#182;</a></h2><p>Learn more about <code>px</code>, <code>px.scatter_3d</code>, and <code>px.scatter_matrix</code> here:</p>
<ul>
<li><a href="https://plot.ly/python/plotly-express/">https://plot.ly/python/plotly-express/</a></li>
<li><a href="https://plot.ly/python/3d-scatter-plots/">https://plot.ly/python/3d-scatter-plots/</a></li>
<li><a href="https://plot.ly/python/splom/">https://plot.ly/python/splom/</a></li>
</ul>
<p>The following resources offer an in-depth overview of PCA and explained variance:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Explained_variation">https://en.wikipedia.org/wiki/Explained_variation</a></li>
<li><a href="https://scikit-learn.org/stable/modules/decomposition.html#pca">https://scikit-learn.org/stable/modules/decomposition.html#pca</a></li>
<li><a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579">https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579</a></li>
<li><a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another</a></li>
<li><a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What-About-Dash?">What About Dash?<a class="anchor-link" href="#What-About-Dash?">&#182;</a></h3><p><a href="https://dash.plot.ly/">Dash</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library.</p>
<p>Learn about how to install Dash at <a href="https://dash.plot.ly/installation">https://dash.plot.ly/installation</a>.</p>
<p>Everywhere in this page that you see <code>fig.show()</code>, you can display the same figure in a Dash application by passing it to the <code>figure</code> argument of the <a href="https://dash.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dash_core_components</code> package like this:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span> <span class="c1"># or plotly.express as px</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span> <span class="c1"># or any Plotly Express function e.g. px.bar(...)</span>
<span class="c1"># fig.add_trace( ... )</span>
<span class="c1"># fig.update_layout( ... )</span>

<span class="kn">import</span> <span class="nn">dash</span>
<span class="kn">import</span> <span class="nn">dash_core_components</span> <span class="k">as</span> <span class="nn">dcc</span>
<span class="kn">import</span> <span class="nn">dash_html_components</span> <span class="k">as</span> <span class="nn">html</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span>
    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_reloader</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Turn off reloader if inside Jupyter</span>
</pre></div>

</div>
</div>
</div>

 



				
			</section>

			

			<a href="https://dash.plotly.com"><img width="100%" style="margin-top: 20px;" src="/all_static/images/dash.png"/></a>

			
			<!--End Plotly Basics Section-->
		</section>
	</div>
</main>


<script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


<footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly — from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2020 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


<!-- Mathjax -->
<script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});</script>
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>

 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "python";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'python_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 


</body>

</html>
