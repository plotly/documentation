<!DOCTYPE html>
<html>

<head>
      <!-- This page was last built at 2020-09-12 14:01 -->

      <meta charset="utf-8"/>

      <link rel="canonical" href="https://plotly.com/python/pca-visualization/"/>

      <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
      <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

      

        <!-- Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

      
      <!--
      //// Stylesheets
      -->

      <!-- Fonts -->
      <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css"/>

      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

      <!-- Main Stylesheets -->
      <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=../all_sta">

      <!-- LOCAL DEV STYLESHEET -->
      <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

      <!-- Icon -->
      <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

      <!-- Google Tags-->
      <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



    <!-- META TAGS -->
    <!-- SEO Tags - title, meta_description -->
<title>PCA Visualization | Python | Plotly  </title>
<meta name="description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="PCA Visualization"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta property="og:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="PCA Visualization"/>
    <meta name="twitter:url" content="https://plotly.com/python/pca-visualization/"/>
    <meta name="twitter:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div class="header-container">
    <div id="campaign-zero-banner">
        Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/python">Python</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/python/#ai-ml">Artificial Intelligence and Machine Learning</a>

                        

                        
                        &gt;<a href="#">PCA Visualization</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        
                        <iframe style="padding-top: 5px;" src="https://ghbtns.com/github-btn.html?user=plotly&repo=plotly.py&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>


                        <li><a href="https://plotly.com/dash/?utm_source=dash_demo&utm_medium=graphing_banner&utm_campaign=python" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">DO MORE WITH DASH</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


<main class="--page page--single --index">

	<div class="--wrap">
		<!-- aside - Main Sidebar-->
		<aside class="--sidebar-container">
			<div class="--sidebar-fixed reference" data-spy="affix" id="where">
				
                        <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
                            <input id="modal-input" style="border-radius: 5px; width: 100%;"  type="text" placeholder="   Search..." readonly/>
                          </button>
                    
				<header class="--sidebar-header">On This Page</header>
				<nav class="--sidebar-body watch"   id="where">
		  <ul class="--sidebar-list"></ul>


				</nav>
			</div>
		</aside>
		<!-- Main-->
		<section class="--page-body --tutorial-index --base">
			<header class="--welcome">
				<div class="--welcome-body">
					<!--div.--wrap-inner-->
					<div class="--title">
						<div class="--body">
							<div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                

                <a href= "https://mybinder.org/v2/gh/plotly/plotly.py/doc-prod?filepath=doc%2Fpython%2Fml-pca.md"
                target="_blank" style="float: right; margin-left: 20px;">
                    <img src="/all_static/images/binder_badge.svg" />
                </a>

                <a id="forklink" href= "https://github.com/plotly/plotly.py/edit/doc-prod/doc/python/ml-pca.md" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>

							
							<h1>
								PCA Visualization
								
								in Python
								
							</h1>
							<p>Visualize Principle Component Analysis (PCA) of your high-dimensional data in Python with Plotly. </p>
							<br>

							
							

<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/python/is-plotly-free/">free and open-source</a> graphing library for Python. We recommend you read our <a href="/python/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/python/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/python/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>



						</div>
					</div>
				</div>
			</header>

			<!-- Start Plotly Basics Section -->
			<section class="tutorial-content">

				






				
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.js"></script>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This page first shows how to visualize higher dimension data using various Plotly figures combined with dimensionality reduction (aka projection). Then, we dive into the specific details of our projection algorithm.</p>
<p>We will use <a href="https://scikit-learn.org/">Scikit-learn</a> to load one of the datasets, and apply dimensionality reduction. Scikit-learn is a popular Machine Learning (ML) library that offers various tools for creating and training ML algorithms, feature engineering, data cleaning, and evaluating and testing models. It was designed to be accessible, and to work seamlessly with popular libraries like NumPy and Pandas.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="High-dimensional-PCA-Analysis-with--px.scatter_matrix">High-dimensional PCA Analysis with  <code>px.scatter_matrix</code><a class="anchor-link" href="#High-dimensional-PCA-Analysis-with--px.scatter_matrix">&#182;</a></h2><p>The dimensionality reduction technique we will be using is called the <a href="https://scikit-learn.org/stable/modules/decomposition.html#pca">Principal Component Analysis (PCA)</a>. It is a powerful technique that arises from linear algebra and probability theory. In essense, it computes a matrix that represents the variation of your data (<a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues#:~:text=As%20it%20is%20a%20square%20symmetric%20matrix%2C%20it%20can%20be%20diagonalized%20by%20choosing%20a%20new%20orthogonal%20coordinate%20system%2C%20given%20by%20its%20eigenvectors%20(incidentally%2C%20this%20is%20called%20spectral%20theorem)%3B%20corresponding%20eigenvalues%20will%20then%20be%20located%20on%20the%20diagonal.%20In%20this%20new%20coordinate%20system%2C%20the%20covariance%20matrix%20is%20diagonal%20and%20looks%20like%20that%3A">covariance matrix/eigenvectors</a>), and rank them by their relevance (explained variance/eigenvalues). For a video tutorial, see <a href="https://youtu.be/rng04VJxUt4?t=98">this segment on PCA</a> from the Coursera ML course.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-all-the-original-dimensions">Visualize all the original dimensions<a class="anchor-link" href="#Visualize-all-the-original-dimensions">&#182;</a></h3><p>First, let's plot all the features and see how the <code>species</code> in the Iris dataset are grouped. In a <a href="https://plot.ly/python/splom/">Scatter Plot Matrix (splom)</a>, each subplot displays a feature against another, so if we have $N$ features we have a $N \times N$ matrix.</p>
<p>In our example, we are plotting all 4 features from the Iris dataset, thus we can see how <code>sepal_width</code> is compared against <code>sepal_length</code>, then against <code>petal_width</code>, and so forth. Keep in mind how some pairs of features can more easily separate different species.</p>
<p>In this example, we will use <a href="/python/plotly-express/">Plotly Express</a>, Plotly's high-level API for building figures.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;species&quot;</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-latest.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="0cc14ba2-5d77-4302-a8e5-79cb718e8256" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0cc14ba2-5d77-4302-a8e5-79cb718e8256")) {                    Plotly.newPlot(                        "0cc14ba2-5d77-4302-a8e5-79cb718e8256",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3.0, 3.0, 4.0, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3.0, 3.4, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.1, 3.0, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3.0, 3.8, 3.2, 3.7, 3.3]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9, 5.4, 4.8, 4.8, 4.3, 5.8, 5.7, 5.4, 5.1, 5.7, 5.1, 5.4, 5.1, 4.6, 5.1, 4.8, 5.0, 5.0, 5.2, 5.2, 4.7, 4.8, 5.4, 5.2, 5.5, 4.9, 5.0, 5.5, 4.9, 4.4, 5.1, 5.0, 4.5, 4.4, 5.0, 5.1, 4.8, 5.1, 4.6, 5.3, 5.0]}, {"axis": {"matches": true}, "label": "petal_width", "values": [0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.1, 0.2, 0.2, 0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2]}, {"axis": {"matches": true}, "label": "petal_length", "values": [1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.5, 1.6, 1.4, 1.1, 1.2, 1.5, 1.3, 1.4, 1.7, 1.5, 1.7, 1.5, 1.0, 1.7, 1.9, 1.6, 1.6, 1.5, 1.4, 1.6, 1.6, 1.5, 1.5, 1.4, 1.5, 1.2, 1.3, 1.5, 1.3, 1.5, 1.3, 1.3, 1.3, 1.6, 1.9, 1.4, 1.6, 1.4, 1.5, 1.4]}], "hovertemplate": "species=setosa<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "name": "setosa", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.2, 3.2, 3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2.0, 3.0, 2.2, 2.9, 2.9, 3.1, 3.0, 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3.0, 2.8, 3.0, 2.9, 2.6, 2.4, 2.4, 2.7, 2.7, 3.0, 3.4, 3.1, 2.3, 3.0, 2.5, 2.6, 3.0, 2.6, 2.3, 2.7, 3.0, 2.9, 2.9, 2.5, 2.8]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [7.0, 6.4, 6.9, 5.5, 6.5, 5.7, 6.3, 4.9, 6.6, 5.2, 5.0, 5.9, 6.0, 6.1, 5.6, 6.7, 5.6, 5.8, 6.2, 5.6, 5.9, 6.1, 6.3, 6.1, 6.4, 6.6, 6.8, 6.7, 6.0, 5.7, 5.5, 5.5, 5.8, 6.0, 5.4, 6.0, 6.7, 6.3, 5.6, 5.5, 5.5, 6.1, 5.8, 5.0, 5.6, 5.7, 5.7, 6.2, 5.1, 5.7]}, {"axis": {"matches": true}, "label": "petal_width", "values": [1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1.0, 1.3, 1.4, 1.0, 1.5, 1.0, 1.4, 1.3, 1.4, 1.5, 1.0, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.0, 1.1, 1.0, 1.2, 1.6, 1.5, 1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1.0, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3]}, {"axis": {"matches": true}, "label": "petal_length", "values": [4.7, 4.5, 4.9, 4.0, 4.6, 4.5, 4.7, 3.3, 4.6, 3.9, 3.5, 4.2, 4.0, 4.7, 3.6, 4.4, 4.5, 4.1, 4.5, 3.9, 4.8, 4.0, 4.9, 4.7, 4.3, 4.4, 4.8, 5.0, 4.5, 3.5, 3.8, 3.7, 3.9, 5.1, 4.5, 4.5, 4.7, 4.4, 4.1, 4.0, 4.4, 4.6, 4.0, 3.3, 4.2, 4.2, 4.2, 4.3, 3.0, 4.1]}], "hovertemplate": "species=versicolor<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "name": "versicolor", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "sepal_width", "values": [3.3, 2.7, 3.0, 2.9, 3.0, 3.0, 2.5, 2.9, 2.5, 3.6, 3.2, 2.7, 3.0, 2.5, 2.8, 3.2, 3.0, 3.8, 2.6, 2.2, 3.2, 2.8, 2.8, 2.7, 3.3, 3.2, 2.8, 3.0, 2.8, 3.0, 2.8, 3.8, 2.8, 2.8, 2.6, 3.0, 3.4, 3.1, 3.0, 3.1, 3.1, 3.1, 2.7, 3.2, 3.3, 3.0, 2.5, 3.0, 3.4, 3.0]}, {"axis": {"matches": true}, "label": "sepal_length", "values": [6.3, 5.8, 7.1, 6.3, 6.5, 7.6, 4.9, 7.3, 6.7, 7.2, 6.5, 6.4, 6.8, 5.7, 5.8, 6.4, 6.5, 7.7, 7.7, 6.0, 6.9, 5.6, 7.7, 6.3, 6.7, 7.2, 6.2, 6.1, 6.4, 7.2, 7.4, 7.9, 6.4, 6.3, 6.1, 7.7, 6.3, 6.4, 6.0, 6.9, 6.7, 6.9, 5.8, 6.8, 6.7, 6.7, 6.3, 6.5, 6.2, 5.9]}, {"axis": {"matches": true}, "label": "petal_width", "values": [2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5, 2.0, 1.9, 2.1, 2.0, 2.4, 2.3, 1.8, 2.2, 2.3, 1.5, 2.3, 2.0, 2.0, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2.0, 2.2, 1.5, 1.4, 2.3, 2.4, 1.8, 1.8, 2.1, 2.4, 2.3, 1.9, 2.3, 2.5, 2.3, 1.9, 2.0, 2.3, 1.8]}, {"axis": {"matches": true}, "label": "petal_length", "values": [6.0, 5.1, 5.9, 5.6, 5.8, 6.6, 4.5, 6.3, 5.8, 6.1, 5.1, 5.3, 5.5, 5.0, 5.1, 5.3, 5.5, 6.7, 6.9, 5.0, 5.7, 4.9, 6.7, 4.9, 5.7, 6.0, 4.8, 4.9, 5.6, 5.8, 6.1, 6.4, 5.6, 5.1, 5.6, 6.1, 5.6, 5.5, 4.8, 5.4, 5.6, 5.1, 5.1, 5.9, 5.7, 5.2, 5.0, 5.2, 5.4, 5.1]}], "hovertemplate": "species=virginica<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "name": "virginica", "showlegend": true, "type": "splom"}],                        {"dragmode": "select", "legend": {"title": {"text": "species"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('0cc14ba2-5d77-4302-a8e5-79cb718e8256');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-all-the-principal-components">Visualize all the principal components<a class="anchor-link" href="#Visualize-all-the-principal-components">&#182;</a></h3><p>Now, we apply <code>PCA</code> the same dataset, and retrieve <strong>all</strong> the components. We use the same <code>px.scatter_matrix</code> trace to display our results, but this time our features are the resulting <em>principal components</em>, ordered by how much variance they are able to explain.</p>
<p>The importance of explained variance is demonstrated in the example below. The subplot between PC3 and PC4 is clearly unable to separate each class, whereas the subplot between PC1 and PC2 shows a clear separation between each species.</p>
<p>In this example, we will use <a href="/python/plotly-express/">Plotly Express</a>, Plotly's high-level API for building figures.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">()</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">])</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="sa">f</span><span class="s2">&quot;PC </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">var</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;species&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="289cbf9d-b5a2-4708-99a3-2859c9e6bb51" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("289cbf9d-b5a2-4708-99a3-2859c9e6bb51")) {                    Plotly.newPlot(                        "289cbf9d-b5a2-4708-99a3-2859c9e6bb51",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [-2.684207125103945, -2.715390615634127, -2.889819539617915, -2.746437197308733, -2.7285929818313135, -2.279897361009596, -2.8208906821806288, -2.626481993323818, -2.887958565335633, -2.6738446867191197, -2.506526789338902, -2.6131427182710545, -2.787433975997097, -3.2252004462749793, -2.6435432169411457, -2.3838693237993738, -2.6225262031258065, -2.6483227324791256, -2.1990779614307616, -2.5873461889177363, -2.3105317013131326, -2.5432349073036935, -3.2158576949001043, -2.3031285376638815, -2.3561710866838963, -2.5079172268378795, -2.4690559975451216, -2.562390946836749, -2.6398212683765805, -2.6328479080307567, -2.5884620513033907, -2.4100773371215944, -2.6476366733968986, -2.5971594770759165, -2.6738446867191197, -2.8669998469325337, -2.6252284646804194, -2.6738446867191197, -2.9818426648539065, -2.590323025585673, -2.7701389107463226, -2.85221108156639, -2.9982964428323498, -2.4055141012847, -2.208832954176704, -2.7156651907474534, -2.5375733710135053, -2.8403212968270077, -2.5426857570770474, -2.7039123148636492]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [0.32660731476438754, -0.16955684755602643, -0.1373456096050273, -0.31112431575199145, 0.3339245635684551, 0.7477827132251337, -0.0821045110246804, 0.17040534896029005, -0.5707980263315915, -0.10669170375273841, 0.6519350136725719, 0.021520631960258323, -0.2277401888711061, -0.5032799094854253, 1.186194899413449, 1.3447543445598624, 0.8180896745965953, 0.3191366677508848, 0.8792440880917366, 0.5204736388059683, 0.3978678215888919, 0.44003175465981564, 0.14161557162558416, 0.10552267842998243, -0.031209589068337897, -0.13905633991317412, 0.13788731459041795, 0.37468456275010614, 0.31929006596032183, -0.19007583063362365, -0.19739307943769058, 0.41808000824761604, 0.8199826325595073, 1.100021928007269, -0.10669170375273841, 0.07719309572358729, 0.6068000084215861, -0.10669170375273841, -0.4802500488560763, 0.23605933728887296, 0.27105941976516734, -0.9328653674695445, -0.33430757459077665, 0.19591725769606114, 0.44269603042100336, -0.24268148289811284, 0.5103675454766062, -0.22057633827647619, 0.5862810253439886, 0.1150108521705058]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [-0.02151183700196294, -0.2035214250054905, 0.024709240998956716, 0.03767197528530121, 0.09622969977460918, 0.1743256190164025, 0.264251085190696, -0.01580151026431506, 0.0273354061145075, -0.19153329973564454, -0.06927499581393122, 0.10765035324990464, -0.20032778809538912, 0.06841362917233049, -0.14450570400963578, 0.2837306639397765, 0.14531598882161756, 0.033394254070697994, -0.11452146479835311, 0.21957208800082476, -0.23369560709796938, 0.21483637027967514, 0.299618981510871, 0.04568004127448705, 0.1294075758959934, -0.24711633789085957, 0.10126307942970218, -0.0723591574360282, -0.13925337377853472, 0.04646646364504575, -0.07127507313152597, -0.1383882400500409, 0.23058560425417235, 0.16358191262366215, -0.19153329973564454, -0.15684235049802414, -0.26116315648170557, -0.19153329973564454, 0.07972480735962152, -0.07390123824707652, 0.08424157450476319, -0.34096149110715107, 0.19900842494724197, 0.2707170703688332, 0.3034878092682702, -0.09051560595006819, 0.17191840447686046, 0.09006137653041517, -0.01117526783116923, -0.08269572660682165]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [0.0010061572415399442, 0.0996024240168161, 0.01930454283250917, -0.0759552741085358, -0.0631287327171094, -0.02714680369790093, -0.0500996250628499, -0.046281760966509884, -0.026615414325656162, -0.0558909659960556, -0.01660824782448407, -0.157704569133212, -0.007235086738118975, -0.021946664123407376, 0.15698096151652366, 0.001926181709664808, 0.16474079123407467, 0.07611821327962356, 0.02532693965637576, -0.06908199117876085, -0.0153237395650814, 0.038439500101118, 0.0018570433474501293, 0.14724549964039962, -0.3016202653321938, 0.03538408126768317, 0.05597045237666049, -0.015240286774598438, 0.06514104720019227, -0.1246111533664724, -0.06047626340782174, 0.23084416997707075, -0.2848089542634612, -0.09895807058362008, -0.0558909659960556, 0.16245280571606574, 0.17587987484195133, -0.0558909659960556, -0.01105295083445918, -0.014556306249655954, 0.09236465729576347, 0.3226506066130546, -0.07587182131805259, 0.17378512921102807, -0.1858575300726545, 0.14298902533804533, -0.19216594594983707, -0.06039281061733849, -0.04833370254133826, 0.03409957300828098]}], "hovertemplate": "color=setosa<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "name": "setosa", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [1.2847945878450708, 0.9324107529829174, 1.4640613227790746, 0.18096720634769864, 1.0871344872070003, 0.6404367495231454, 1.095223709938478, -0.7514671406482262, 1.0432977807062804, -0.010190070727852874, -0.511086195895091, 0.5110980606834775, 0.2623357561531798, 0.9840445451694305, -0.17486400196569601, 0.927572942032699, 0.6595927890562007, 0.23454058625983554, 0.942361707398841, 0.043246400328704464, 1.1162407237538159, 0.35678656783046075, 1.2964688502855333, 0.9205026489090091, 0.7140082136428327, 0.8996408632837755, 1.3310414188547193, 1.5573962720707015, 0.8124555489980019, -0.3073347556634044, -0.07034288894927158, -0.19188449210314565, 0.13499495045137322, 1.3787369827755824, 0.5872748535799114, 0.8072054966767165, 1.2204289662446786, 0.8128677903690694, 0.24519516169034603, 0.16451342836925564, 0.4630309888714242, 0.890160445651156, 0.22887904996964736, -0.7070812839208602, 0.3555330391870635, 0.3311269473327229, 0.3752382289467659, 0.6416902781665429, -0.9084633331234947, 0.29780790740693414]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [0.6854391861329194, 0.31919808983364856, 0.5041898329724526, -0.8256039435761131, 0.07539038928876704, -0.4173234829700255, 0.2838912109384804, -1.0011075129743938, 0.22895690877700642, -0.7205748667019013, -1.2624919538621404, -0.1022841050459702, -0.5478932980253373, -0.12436042022227795, -0.2518155710801705, 0.4682362050431167, -0.35197629106031614, -0.33192182936212034, -0.5418222581500146, -0.5814894466123588, -0.08421401387837313, -0.06682382794136639, -0.3275615197949446, -0.18239036332792102, 0.15037915314843686, 0.3296109795818835, 0.24466952060228866, 0.2673925848127645, -0.16233157487863328, -0.3650866127661605, -0.7025379317307259, -0.6774905443743572, -0.31170964270339624, -0.4212051382146283, -0.4832842677174819, 0.19505396377111184, 0.40803533700101713, -0.3706789983189103, -0.2667280356618477, -0.6796614693108137, -0.6695265465361223, -0.03381244274676266, -0.4022576201789114, -1.0084247617784605, -0.5032184874026623, -0.21118014066262644, -0.2916220248087796, 0.01907117649127056, -0.7515687251694855, -0.3470165215985638]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [-0.40612955307696313, -0.01712990920512535, -0.3382607277179589, -0.17708285639336432, -0.3065444648144316, 0.04118876935364443, 0.1700225337414996, 0.015672194238160478, -0.41481456614870377, 0.2834372462541257, -0.2664899538224492, 0.1323278904749737, -0.691941578318964, -0.06215742761353877, 0.09365863819195042, -0.31322940056857723, 0.3283842970693478, -0.2702806708356934, -0.49734854117770394, -0.23296355648252248, 0.4598442265727531, -0.22747218032088318, -0.34751321258424994, -0.23161141855266992, -0.3203723328292696, -0.3147714813796255, -0.5212449247379843, -0.16463849085222856, 0.0363435763444907, -0.3153371969389197, -0.24175804484226762, -0.30391654346362434, -0.17497330378776502, 0.01548049512170842, 0.4445837530348708, 0.38945871138620225, -0.236566086849828, -0.6128710500606726, 0.1895624847292419, -0.057799238805743884, -0.024053890889809134, -0.009768026368424792, -0.22736270503287903, -0.1020693425384113, 0.01788946589650768, 0.0838090732225157, 0.07907335550136596, -0.20417287686374616, -0.007736584506980429, 0.012179139158859422]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [0.01929011685534334, -6.757941710509204e-06, -0.0008576440476193869, 0.09578444837157984, 0.1133845390093369, -0.24267131206866582, -0.08497338932826716, -0.016510592154629893, -0.03752355359177022, -0.005945701975093472, 0.048908806063423405, 0.050100535156594767, 0.061484989083400214, -0.1690106698709526, 0.12494088656962879, 0.10043888414555996, -0.18899152519294937, -0.2119849952922857, 0.2606366850425494, -0.039561180738330155, -0.07721355961071598, 0.12409000046372004, 0.00324623910203691, -0.2868253467053201, 0.0429412331735037, 0.10112286467050256, 0.037505049655828675, 0.07035309510363975, -0.02968027108373628, 0.07653037763062077, 0.00909469851960668, -0.018045458785481777, 0.03418291424986639, -0.17758073696002416, -0.2524424346266573, -0.116615391254638, 0.03163524398466042, 0.15770049117443602, -0.14732804233713756, 0.0309655778879862, -0.26844350832386893, -0.1534482063797552, 0.01862045075866921, 0.047624297804021005, -0.09807163534474155, -0.23868654239135992, -0.13116505111148086, -0.020509676260204425, 0.2335586342743453, -0.050783717136689804]}], "hovertemplate": "color=versicolor<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "name": "versicolor", "showlegend": true, "type": "splom"}, {"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1 (92.5%)", "values": [2.531726980439558, 1.4140722251737572, 2.6164846082840425, 1.9708149459064814, 2.349757983950942, 3.3968799206781357, 0.5193832450849365, 2.9320050969913, 2.319672793874052, 2.9181342336442513, 1.661934947019486, 1.8023404526607325, 2.1653788629533968, 1.3445942175098242, 1.5852672993086434, 1.9047435782139117, 1.9492487818644975, 3.488765379656385, 3.794686861209969, 1.2983298245678152, 2.4281672590208476, 1.1980973722749628, 3.4992654842989546, 1.3876682501815554, 2.275853649305694, 2.6141938306983326, 1.257625182925136, 1.290669647737601, 2.1228539805083124, 2.387564402369026, 2.840960925285382, 3.2323428982958737, 2.158738373133134, 1.4431026043759743, 1.779640106898569, 3.07652162102066, 2.1449868567093033, 1.904862925137131, 1.1688534694704031, 2.107653731173268, 2.314303394629547, 1.9224508848357522, 1.4140722251737572, 2.5633227123408084, 2.4193912198049796, 1.9440170488777362, 1.5256636313138718, 1.7640459355269824, 1.9016290752882326, 1.3896661333194165]}, {"axis": {"matches": true}, "label": "PC 2 (5.3%)", "values": [-0.011842236640300048, -0.5749250559123045, 0.3419352869872943, -0.18112569470491366, -0.04188254965484179, 0.547168046230152, -1.1913516890506526, 0.35237700618085926, -0.24554817060691062, 0.7803806293720321, 0.24203840103752236, -0.2161546066265365, 0.21528028337300695, -0.776415425176825, -0.5393070538471718, 0.11881899098269856, 0.0407302594277678, 1.1715445442635641, 0.2532655709725338, -0.761013936521508, 0.37678197125415247, -0.605578961764594, 0.4567734669640737, -0.20403098657015503, 0.3333865257566421, 0.558366950278822, -0.17913699742322298, -0.11642525182937234, -0.21085488454948997, 0.46251925072625993, 0.3727425910490206, 1.3705240359763333, -0.21832553156299334, -0.14380128908272632, -0.5014647947060155, 0.6857644422460559, 0.13890660887731485, 0.04804750823183476, -0.16450249981508974, 0.3714822491771055, 0.1826088507936985, 0.40927117617869524, -0.5749250559123045, 0.2759745022398382, 0.30350393770262885, 0.1874152220460136, -0.3750208481918233, 0.07851918642935737, 0.11587674824796598, -0.2828867091722688]}, {"axis": {"matches": true}, "label": "PC 3 (1.7%)", "values": [0.7584586515284949, 0.2963982243052131, -0.1121413705543668, 0.1065391486498459, 0.28411068086616714, -0.3518731576273014, 0.5466855311249488, -0.42369127833689696, -0.3499221833590492, 0.42173893361376674, 0.2428152634675929, -0.037695328493964626, 0.03314818319913303, 0.2828680182243183, 0.6305704884623254, 0.48013807976572825, 0.042729093929436496, 0.129320083361775, -0.5169707159938947, -0.3448870474686993, 0.21864907004670486, 0.5126407650398146, -0.5769101867216482, -0.063511321778648, 0.28467815266071755, -0.20842334661879347, 0.04697780744922718, 0.23161356056830584, 0.15351588509125508, -0.45202396144912727, -0.5010315391382013, -0.11844877739515829, 0.20842197616391556, -0.15408297110542699, -0.17581118605670307, -0.33642274120822396, 0.7341847390548596, 0.1604706307060082, 0.2824608810023711, 0.027437856461485097, 0.32286040074238215, 0.11549281596071709, 0.2963982243052131, 0.29125361312685927, 0.5043025169513592, 0.17930287068112655, -0.12063644074491194, 0.13078405342866864, 0.7228735608675684, 0.3623178316312213]}, {"axis": {"matches": true}, "label": "PC 4 (0.5%)", "values": [-0.03259956851444925, -0.01569547827948598, 0.06595604952643848, -0.23685862488186119, -0.0013127240036090917, -0.11121996802024871, -0.09879841992577922, -0.2554073688442786, -0.07626286251324571, 0.107729319478853, 0.11944758456759062, 0.07871345255565043, 0.16266728030785257, 0.14048189225832974, 0.32745536666912806, 0.21711450049899506, -0.15784525195695603, -0.3116298379326806, 0.05645164354097455, -0.04267371805612869, 0.18385417915128938, 0.05950003054907901, -0.13775959759087722, 0.16376353673268976, -0.062230277600379726, -0.24044543308754107, 0.14760054550703341, 0.0030843215735913173, 0.052612433191036374, -0.22990687721412378, -0.020216625381557492, -0.2544873443761551, 0.12772448922911858, -0.18992586408934103, -0.5035294527425076, 0.31058909243773947, 0.051766535137647667, -0.22198014191560672, 0.019330765589731586, 0.2099551985159037, 0.27589665973045435, 0.50409500679105, -0.01569547827948598, 0.05618492696844714, 0.2382179465519489, 0.42508163386614445, 0.25572256452137176, 0.1362945563181901, 0.0408728218486993, -0.15631038532610417]}], "hovertemplate": "color=virginica<br>%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "name": "virginica", "showlegend": true, "type": "splom"}],                        {"dragmode": "select", "legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('289cbf9d-b5a2-4708-99a3-2859c9e6bb51');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-a-subset-of-the-principal-components">Visualize a subset of the principal components<a class="anchor-link" href="#Visualize-a-subset-of-the-principal-components">&#182;</a></h3><p>When you will have too many features to visualize, you might be interested in only visualizing the most relevant components. Those components often capture a majority of the <a href="https://en.wikipedia.org/wiki/Explained_variation">explained variance</a>, which is a good way to tell if those components are sufficient for modelling this dataset.</p>
<p>In the example below, our dataset contains 10 features, but we only select the first 4 components, since they explain over 99% of the total variance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="n">n_components</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">total_var</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="sa">f</span><span class="s2">&quot;PC </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_components</span><span class="p">)}</span>
<span class="n">labels</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Median Price&#39;</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="n">n_components</span><span class="p">),</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Total Explained Variance: </span><span class="si">{</span><span class="n">total_var</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">diagonal_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="3586004e-0a76-4795-a29e-7d961b40eda1" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3586004e-0a76-4795-a29e-7d961b40eda1")) {                    Plotly.newPlot(                        "3586004e-0a76-4795-a29e-7d961b40eda1",                        [{"diagonal": {"visible": false}, "dimensions": [{"axis": {"matches": true}, "label": "PC 1", "values": [-119.81884271656068, -168.8901554823123, -169.31170746584667, -190.23064226267326, -190.1334510253901, -188.95057656109336, -104.33599656015676, -102.09430836975726, -98.52827139987522, -100.0301549969203, -100.93997076914279, -103.3355938872985, -105.0827908441904, -108.44912259617688, -101.58730512902869, -108.51336710574707, -108.26519845023844, -103.6744526127844, -79.04098252405065, -105.9940542249357, -99.17535896909614, -104.74608797863499, -105.68626474420998, -104.28575770189462, -104.80928195846543, -79.02964703986173, -100.0835308861608, -79.61186289177594, -103.00397003221376, -101.36335842891145, -94.70422550705977, -99.24618351091206, -58.439352964398495, -94.31520691523224, -61.929421383005746, -134.50860642413477, -129.40448992208897, -136.76570222326637, -136.66581507311486, -167.25017356070944, -167.8030768498482, -180.5079307721272, -179.5810317195692, -182.78113650817497, -178.45543182540348, -181.13991717091977, -181.09096225037217, -175.41008522203148, -175.5261224779885, -178.64898787086332, -171.10922094743955, -169.2930615262614, -173.74595643503775, -173.64810650114302, 40.90525079462455, -192.64911719355487, -109.06396355057153, -162.18439760304764, -132.27722681495206, -132.52450713885614, -130.32437967287171, -123.0574351355343, -130.86112351475992, -132.45865976465043, -195.06857996965059, -87.39924959507988, -86.1583079538413, -76.18424048314093, -74.98013007120854, -75.39715031789545, -111.11987167337499, -108.15579279179528, -113.13748214865439, -109.22077853771466, -25.995344784195716, -19.280922622721075, -13.954101232540411, -20.267107374052078, -19.40289156600997, -23.715955557879386, -136.79398868812834, -133.29355314972855, -136.86953985046765, -133.81557379413186, -166.73694058831992, -164.7886398662067, -166.63734687778862, -165.51070965557818, -141.85539650124085, -143.54662495261795, -142.09173607449253, -141.85256400174939, -144.77893725619987, -147.27395379297047, -143.29088602531428, -127.19164759348554, -135.95457907466195, -137.06144521012374, -139.36564589631857, -138.14583797488032, -33.10146847650105, -34.101250233130536, 61.7325643813676, -32.29458340928035, -31.584451900352075, -31.322952903048588, -32.145457314316225, -30.48766109338341, -31.735413305322673, -30.982287888784338, -34.782711650452725, 12.471559605851578, 13.745527483229726, 13.408334947797933, 14.695023228704969, 27.915370009499885, 12.421703115642794, 12.874742259779001, 28.471184155651155, 12.372107471877607, -218.01530794045658, -213.46977319865883, -212.77073626754571, -209.98780306054906, -212.91111517389479, -215.23399992228624, -206.84476200864418, 19.876623627604147, 18.675483812029317, 18.416382252033912, 19.159890807468035, 18.534203981797308, 21.750862621310514, 20.770300449516423, 57.76648478451022, 19.315704750052504, 23.697572024689283, 19.445428372748253, 20.176078848287997, 18.67833915542972, 21.010954765725653, 19.25450525285148, -13.217711599803147, -13.204756179255469, -13.360414043282493, 52.00578486342556, 52.803377177123416, -12.031939566138838, -2.1093556542957392, -0.6667648381946427, -6.768488916563281, 2.5208419954615167, 0.9908255766496326, 25.667097563855524, 8.2174464517908, 75.01343120354697, 75.78125317646877, -4.265066026117642, -1.2218724274244623, -4.2323915158463725, 2.494870079607419, -8.080296398656941, -11.86777294802532, -11.868149729709883, -13.769920242753914, 31.433353555202064, -6.074511126819722, 33.953865290659785, 15.125823521139019, 5.463156695673909, 16.440982306546623, 0.3827421846422009, -116.61133360110314, -116.7039483225101, -117.31700164470033, -119.73632584476452, -119.11054274545405, -117.69642941762945, -116.33500635961131, -217.307350879227, -214.7769276153734, -216.8855454211763, -213.67438449603483, -214.17989044105093, -212.7566482481238, -213.40237471253295, -216.48230094274933, -25.00105349819675, -22.844619596589983, -26.10246776758554, -21.97920092093669, -24.714558478965134, -25.359816188617806, -154.68197601480213, -149.09792795083445, -163.44000887079048, -93.81512526445246, -81.09870915733207, -92.03691706769996, -26.633084032184186, -23.08393039550719, -74.49683906286423, -76.96536137952342, -192.92523074171336, -192.40652563111038, -140.13843833474272, -137.0196990381376, -133.58211594211457, -132.43878454553968, -133.34992780809816, -133.08960320718944, -133.79995615568077, -135.64560044221327, -136.10712016746862, -126.77812938704281, -137.53577488968176, -136.88620202837532, -134.53641842091977, -134.8143732300501, -134.1849484554932, -104.56069068933758, -105.08669491585606, -105.072220725742, -106.76214633630639, -103.60789384545595, -102.3096941945616, -103.6236973759224, -99.64401817401749, -106.5468707151812, -107.00117082759286, -102.33342297731544, -101.1045330172128, -104.31348471804341, -102.50099942477338, -97.26762282265342, -102.4431654075247, -104.625039684182, -105.61802584704682, -115.02852414229447, -114.29571122468967, -115.3678350758649, -115.42186981829559, -110.1053144786644, -114.58564365493105, -79.10228575408277, -84.33875698279175, -87.80707202968323, -79.99501777382996, -82.11008220270612, -90.36226510715521, -91.4918412754968, -86.29121138475941, -89.10938756248466, -92.11653706769668, -106.03681289579968, -107.72118951470554, -171.7855233648556, -146.13842227612935, -143.1123430029976, -145.64927978805153, -147.36755463713845, -145.4960270726361, -144.91404110153593, -146.4394499332264, -145.15076581770157, -148.81114077001237, -144.46445801849646, -146.25141600676295, -149.23445367227725, -187.4839690638335, -188.33511294620104, -193.04694271942574, -188.90814354334208, -188.29260014425816, -163.136287057892, -162.3210746526617, -159.50798470043873, -162.56547692650412, -163.11857078153778, -198.43593883811099, -192.9769875354603, -196.67651262861722, -191.25239184611516, -219.10451431919782, -136.42008141243636, -119.73087549596085, -161.3202622598971, -126.65981068729066, -125.45320979512907, -119.97536578776919, -173.89023577513274, -173.90073638059985, -174.23485148561068, -129.0525666791623, -127.01184879673744, -128.04569908863178, -125.1783235770619, -125.57736699534219, -58.47471285403647, -60.29843694973346, -62.75485609628817, -90.43713604890691, -88.7589355121463, -90.89135739194577, -191.50185762737937, -189.9360182875308, -189.86779853330148, -189.97792638652336, -109.61286359514436, -109.78317284823652, -99.56839522779057, -112.04998559325914, -108.61558252569196, -108.49426770585708, -108.75571217597903, -109.72487937486449, -107.44112157826696, -110.26550030310972, -110.27054764319162, -111.21635066176759, -128.26017226322628, -128.1000081505412, -128.4447798701181, -124.63267895623733, -129.30137076377054, -130.52075080629973, -130.24291936571672, -128.85436026470265, 9.426923762997363, 10.752331954870254, 13.975935397886673, -114.92929703588501, -106.21019141328145, -187.29702803292133, -187.1491344919139, -189.63541044321929, -188.60247703393895, -186.8667293031795, -189.16095882051772, -188.67590423711562, -187.59041746595753, -132.68703369223348, 2.2561906164722707, -51.61215121539482, -51.44223585438358, -63.6948120340503, -57.20255149474596, -72.13352592588988, -138.81916372488305, -84.26754826752907, -85.48910666894352, -7.168621413953427, -14.84622979447691, -225.1724148522513, -85.75529626797601, -84.04273544694779, 242.72149760093487, 237.97029628234444, 236.1410266919459, 237.33243534581067, 242.50055949734138, 249.85067189248997, 241.4057541364367, 249.00368127555245, 247.81383733982128, 248.2700614237527, 259.95433475968156, 314.71074662492214, 243.1404835113857, 242.9593660461531, 238.15714598476345, 246.13964953465367, 250.5478546178768, 237.8202404061222, 238.1113105844707, 237.4005414149249, 246.98114664561987, 237.36841045021208, 237.61250064012933, 238.63753781540365, 239.0172522848028, 237.5663381762299, 237.5042935177457, 237.4916513912807, 269.59681798810396, 237.73551211043477, 238.0589618720002, 237.2125482892988, 244.80026652252786, 237.31807276946313, 237.75613953848122, 241.2044881076217, 237.37050138953654, 236.67395182356222, 237.01521072501058, 238.67222881052092, 236.97393817854868, 238.38951247838833, 238.5198072638275, 252.92147889941037, 238.04106748350043, 237.57606218355266, 243.49381462026597, 237.53876654978285, 256.9571106605147, 242.68589013775767, 245.61006668406742, 256.19781948519346, 261.29698235013717, 300.92134412331166, 353.25202831208276, 342.9685916743759, 345.23498596865755, 292.14051395858706, 328.76180338034004, 345.5362068237958, 346.1333796086668, 315.64813000150144, 350.11324380596284, 337.0682800476968, 260.1190008141638, 259.26460777661924, 267.01036792800426, 351.03560439626284, 349.40456625479237, 350.6786935406367, 342.4449839979568, 346.45006494505986, 322.9836312701331, 335.0500680759321, 327.4630293537235, 328.8584441158366, 322.1055268100107, 322.6189348581746, 323.3055020097548, 320.6923598024264, 344.54514696638796, 350.61275817468464, 332.3660613266402, 236.98193260171516, 238.79632996789124, 240.37399969682986, 237.58912462026476, 240.37614049622675, 282.86854614183176, 340.1626424143837, 259.955060661704, 239.51282267644314, 237.26900980364658, 264.2030798175771, 352.15688056151015, 249.2205483099344, 239.98647817968865, 243.37728853818066, 350.5401245855657, 336.86883583558415, 348.78023341492906, 350.2320450910475, 272.2331951150972, 235.9174226629703, 277.6239497647368, 237.75335949320754, 235.7793745515601, 237.14341162098216, 234.32305445093283, 250.96945566142844, 345.0840875923616, 255.95235433705258, 243.3320807623935, 233.78563181984475, 235.84636793949562, 236.77583988493947, 236.05511415914958, 240.8505080766129, 249.86247248744854, 264.62688664385917, 236.92475957374464, 251.28592924650195, 242.1354421431211, 240.36226471053948, 234.1454507259264, 236.0416699865156, 235.55675115516223, 233.16457992148884, 239.81699349508423, 235.41577756220724, 236.73003878924095, 235.70097611526177, 279.13830446507114, 294.60746975864885, 302.1750445002896, 281.0967173435584, 277.730034085525, -29.111133021141217, -30.02544793127099, -30.041672709818254, -27.319943695975546, -27.67553335640174, -28.143811354141125, -27.0801321574587, -26.90816355001936, -138.69793277004527, -139.50443923312181, -138.38716306078567, -137.50517338121597, -139.1903329527843]}, {"axis": {"matches": true}, "label": "PC 2", "values": [-5.560055859669975, 10.116208634430992, 14.080532296694827, 18.302463298499887, 16.097947429508913, 18.729162551867375, -8.73550926965794, -10.108029548187213, -0.24790911015785527, -0.31766787190428514, -5.901410081789796, -10.066546629881808, -3.6821791119857123, -8.824295558145367, 7.1976881360588845, -7.568976018631534, 0.9643598108942937, 0.8049135545890443, 94.52178616601043, -3.1614302939765304, 10.484406627882244, -4.769216597055019, -8.931241066530758, -6.717167352172279, -6.504693425264353, 80.47146293354747, 10.19334624851424, 77.6288014383238, -0.4162217322204855, 6.993350054512019, 26.19716914725121, 10.27552617517681, 148.27755003613268, 27.506138480822084, 133.12965582464454, -0.6628833439881371, 17.878732979242162, -0.5150625205644598, 2.8760358506527517, 8.804352453830075, 8.83495046450978, 24.137470775195894, 26.072374099241117, 15.47843902668802, 20.146444112907844, 13.004777764276326, 13.030512762157983, 16.736898947587253, 12.77236886990591, 12.878592082310375, 11.337880688062155, 12.735778067296566, 10.150219580386816, 10.166456612862165, -55.961317076975625, 16.13359595199867, -10.282903948681922, 10.165296993179158, 4.038074846020806, -1.9994951838125454, -0.37365101205399687, 15.761980059190032, -2.1313944177341066, -0.7131454441706518, 21.362922082994693, -17.23850894893448, -17.2826254151025, -19.018659748408258, -19.737358058024636, -19.74035441949578, 4.648514940455864, 11.097133691444268, -2.2307552203683074, 10.928728930667921, -33.25898622313141, -22.29175329650289, -13.292562686496138, -25.855467186054508, -25.353119271020855, -34.510784007940835, -1.0296256899606742, -0.015320939066983612, -1.0141251080782998, 4.8930888869780205, 8.836228101984894, 13.170498385580311, 9.741380524054563, 10.452057618034063, 1.883472363419534, 2.820578603790799, 6.530930435835149, 5.172755243934603, 3.850005096581063, 2.717772608983269, 1.9211331668910634, 37.51569480476925, 5.108290545625857, 0.18344696882078312, 3.625481984839768, 0.27153219100286524, -29.40429243443615, -30.14942142334509, 280.33585775069497, -29.146552764624317, -27.466404488376895, -28.78154757681827, -30.290173463470055, -22.64806007878207, -29.94560116506405, -26.05778380420514, -28.023839852888713, -44.2472001943937, -43.66527521513824, -45.5382649800182, -37.710610314293575, 4.206664628602692, -41.99460349984881, -43.21933500850617, 10.295351331567105, -40.22271457620723, 33.30322187097457, 44.19723978309751, 43.76648168901147, 51.22553681072474, 42.514373283529295, 37.148390809689126, 61.78275239706362, -42.47338033014005, -47.07916856534736, -47.03521794476384, -45.31711980824386, -47.08501645627719, -36.444867798250044, -39.21150699951152, 81.20053420560271, -44.932778177715875, -29.20750658976388, -44.38486319649238, -42.395263290778686, -47.05500531987335, -38.5657161545792, -46.96830138550907, -37.039723923938844, -37.03669537955932, -37.016570829582065, 177.1349329026379, 180.54948105024647, -32.04328495304934, 1.159066656524737, 6.030755527163792, -14.06430959994954, 15.747003068074275, 14.199894314286798, 91.9343196534012, 35.45836867706259, 258.3482551873851, 257.6891664910263, -5.162812215490938, 3.9553155530664426, -6.001835346182598, 18.30583765985795, -15.657692417538467, -30.211257112954737, -29.071253414343666, -35.375319459200924, 112.77202284192184, -10.768192150059338, 124.85697134688989, 58.32222050700065, 26.82357264710677, 62.93233998987513, 9.517293274772856, -5.704935955253847, -4.373678373971589, -2.111795023489304, 0.23788260728603264, -1.9857858565344828, -4.42397564872998, -0.28566475618746084, 24.55163408905484, 25.705269822816557, 24.555008445289157, 27.01536805594965, 24.342585133245677, 30.06469415610744, 33.899774750471146, 28.659020552695463, -32.34817706392459, -21.7445562186581, -35.239798785531185, -16.7634725651633, -28.32212946483244, -29.052418034394783, 7.2430864201524825, 23.127816011255977, 9.219542399757641, -14.960051686001629, 25.77547507907259, -10.475409729045463, -36.197275250753805, -24.142056215077375, -17.53392569886755, -18.967945644653785, 19.674411122910122, 21.808735570935184, 0.17934548957118818, 1.9490761434139527, 7.07594406162712, 14.887970234070341, -0.1931468278327055, 3.307038479903368, 1.464029841929949, 5.727984276429246, 10.717774375615058, 46.22730800064882, 3.183477448239154, 4.194077231701343, 4.025297688943701, 0.0832393752827869, 3.070334489444889, -4.014552582741728, -7.347581120482484, -2.6969955406590294, -8.9529600129993, 2.3706040015137, 5.2644639456824684, 0.0904307211597144, 14.776270377820532, 9.929567355651066, 7.198017556509873, 8.879611825349954, 10.905532721577476, 1.5693632269268576, 8.247785683765578, 26.222251645918075, 10.441482347370101, -0.8378551514382531, -2.3862575539957755, 10.225088835880138, 5.916895177992715, -1.2715922719622024, -4.550181970015854, 16.4248175702482, 14.774188034413498, 7.745350933692412, -8.095163367159664, -8.949575004069004, 4.226492028541281, 5.762223248842185, -12.26985372121397, -14.677180366394934, 3.701662051936695, -4.911570921993162, -15.254592697680193, -7.016888188898687, -9.117435351110526, 19.968890951164244, 10.527557767654773, 16.596987432261752, 8.330270396422739, 7.617446727489141, 11.796484046864425, 13.220794277714873, 6.9634481009868665, 12.24762308083109, 8.114437385820137, 15.980445406792912, 15.588555509034848, 10.13827993087403, 21.127054148890902, 23.808097627152474, 16.02950650598042, 17.648050065926498, 21.688492545622147, 6.871673848159202, 6.812318426809719, 14.109615590480976, 10.204793950972975, 6.897539318465576, 17.985831003795493, 26.963895024965936, 22.42038820031414, 36.835737328886005, 24.73145642619851, 0.09423989713418768, -4.390986029987707, 63.70778098444337, -4.4958847552143855, -4.57497639922786, 19.642637119715356, 9.581360670131032, 9.584228935251751, 9.614935878717166, -3.330048345846652, -3.45636655381471, -3.415371271913368, 0.34919082112748234, -3.5142330433090425, 4.002809925021038, 0.8658315523749588, -17.775817814304805, -13.99481156002365, -2.265324888685766, -8.804216481655619, 19.26533937960783, 19.485109854077272, 16.007406611034696, 16.02232503099443, -8.090274699554982, -7.395965335184512, 36.64021751892166, -7.910456419385953, -7.522302564876672, -4.718065296012849, -6.934177115272121, -7.5654152689998755, -2.087619198719606, -7.964437560286614, -6.353833790806866, -7.266843541190686, -2.9322020832108047, -2.9454751873749614, -2.9144375356398937, 2.4858254950644945, -2.8673997652309406, 0.35011082902748114, -2.80317792405052, -2.8500763657100947, -30.717016019998816, -23.769607945734897, -17.496294906531368, -4.893698942972359, 25.486827676562978, 22.446008440107462, 22.746214441485677, 15.60476453592839, 15.547198911614997, 17.474010078922046, 16.31787190795938, 15.552035405269988, 15.474513248537088, 0.13281950121605915, -35.73443708576002, -27.138393193362585, -18.452218565401743, -11.096841082836265, 9.002393237146515, -17.106861954421657, 5.072057731343151, -10.019970474315235, -16.817120093313726, -14.018901869584807, -34.512058550574494, 38.42115141475544, -2.889583472843972, 3.574152151920597, -95.78290006949638, -108.81889416739841, -112.68751001461429, -108.19039286958078, -92.78389694213435, -69.90728387416273, -98.78026984004808, -72.1757766979451, -73.64252559972465, -73.79870775818813, -36.808721852589045, 139.72372392257208, -93.79519121127251, -93.58681555949649, -109.57674018907959, -84.77031948350809, -67.25181255185856, -114.01527588096673, -113.94783421783086, -114.06865373683529, -81.61946264787662, -114.09424995669893, -113.97319368684884, -111.0230350651653, -113.55009472580295, -114.05657317760206, -114.0921320118394, -114.09458383990624, -7.726061886231769, -113.98898148826075, -113.9640988840431, -113.89445253391206, -91.08835287628251, -114.10860199167207, -111.76527710674753, -96.33700899693119, -114.04714113726843, -114.10170444836746, -114.07558935586415, -109.42097081572628, -114.11539126389127, -110.48358132533639, -113.85739723658668, -57.75735849849214, -113.96792623745776, -114.07708518469072, -94.22904891234565, -113.98722956514514, -49.28628695834855, -102.2968101545235, -88.50650603388688, -52.1698662097008, -35.42046030342226, 93.92881292851234, 263.13181557231417, 231.92089895353598, 238.01343902790077, 63.799908018164864, 181.3344854059621, 239.4511916101666, 244.8679155757246, 143.82834057481534, 250.09890174392945, 219.23655252005204, -39.4030132978686, -40.575546738933376, -13.323089084527856, 263.0759461936196, 262.0545174070156, 258.14809023200365, 242.05173921675612, 247.6803606095988, 173.02614017061964, 207.386051372467, 185.66366152845177, 187.66632340940612, 171.81777625880844, 169.6194223896895, 169.20746529604048, 160.42224514924962, 239.17224703789734, 256.5610513474669, 199.64679543448253, -114.05990247263854, -108.76006232317066, -103.6349523019063, -112.99865898190643, -104.38948385490258, 35.48027100668907, 224.2851256079637, -38.69081806378778, -106.09577552913886, -114.11481366626953, -25.489310117439018, 265.10101139148003, -74.35330825592486, -102.81598458354236, -94.02448576309367, 259.03714150763057, 216.7440137832274, 255.4083122902999, 262.1376121729754, 5.175930216062468, -114.06949804507381, 21.35739488436225, -108.88303996714917, -114.06646427282763, -111.18771634682759, -113.96225007862442, -54.1285990843187, 244.38526882669427, -51.37006513349097, -86.98846787951778, -113.86889943603809, -114.07424990038382, -112.63313464359011, -110.66371285842737, -92.75866346122683, -71.7266587730834, -24.07771393659308, -113.4522938300264, -68.68802582856104, -97.65164467322694, -101.06432349126618, -113.98581122066787, -110.39992978782037, -112.52902114525878, -110.06241004990369, -88.84010462962466, -106.01042450868016, -110.01357126841648, -105.62307101004136, -125.44519739391015, -76.63952473059774, -52.10746455779689, -120.71835832818056, -127.15036897996086, -33.344475315265896, -33.26933833189024, -29.716046933000502, -33.3991684235639, -33.42656828924767, -33.40332837896131, -32.357772640588514, -33.477664000684186, 5.781484954544797, 1.0393887014143257, 0.9380922013568466, 4.251825104028868, 1.0090642298388084]}, {"axis": {"matches": true}, "label": "PC 3", "values": [-3.1726926409603498, -30.781886774776407, -16.753628206444294, -6.53419537023634, -13.158520095538453, -16.486203553897372, -7.3807901614783535, -30.31552622581797, -34.01953800396294, -22.147468619412432, -28.954538574455995, -19.780281188908095, 13.291120882969421, -11.819263712972015, -28.775753608988566, -7.81246016714399, 13.124698084315792, -27.23868823347335, 9.407337034623454, -17.822796125015476, -40.01256115289497, -32.977845263223266, -35.42955263717057, -41.74871661622059, -36.934848642354126, -28.463092598935376, -33.49996917253746, -30.946751782319257, -36.68119803099286, -31.06828977386956, -36.72767146932463, -40.69346358560737, -25.06298389023, -37.00081601482854, -36.02360332936069, -19.255554442114544, -13.820606033430876, 1.0357679534095523, 9.528071856198043, 61.64292468813232, 66.39753114416057, 26.539241632587004, 23.697561597268475, 23.360511722878684, -2.0375673070995224, 2.3801881785377974, 2.39265438508203, -37.36980907348515, -45.98534304715732, -19.447639949858775, 7.552609593701726, -5.11192657551284, 26.876712599308416, 26.355143760402772, 61.46677471274237, 68.8826528202788, 63.39998207817746, 64.1233097408022, 27.200398614065797, 13.188967260459316, -1.483268663874544, -21.778762733409252, -2.134999681094122, 16.117336101305654, -6.603601779532068, 75.79031243490465, 65.21777960961369, 30.520275241861423, 18.39825155389848, 21.671176732684895, 29.988952431920087, 21.613715270733653, 29.022430475083347, 30.367702447388314, 38.6852850092044, 9.292752303723896, -13.081411627403428, 8.457524537375807, 2.3496670658615875, 15.323016530434707, 23.58331033329504, -4.457831940558784, 24.431220889542708, 13.544744582570036, -6.786846674661978, -12.528437121079724, -4.891846935777773, -13.335694577708486, -33.15310796678395, -15.615801216273276, -18.098268685143942, -23.9696329229297, 8.064723187376075, 26.88352204113683, -10.122569442192878, -10.192977809952385, -20.347258569776177, -24.633387846030313, 5.058946879110334, -14.615537987769573, -18.44099307139821, -11.793253609208815, -15.082445035307316, -24.482683528599356, -26.31521455408405, -31.811450537944783, -28.42060465968871, -22.746200277549686, -31.73423477311652, -27.48230655618458, 0.5290459861641251, -15.403451553442304, -24.509933070447108, -26.518744485549895, -17.255852499997953, -19.7320523432795, -8.646198148666127, -16.14757271232964, -8.133488329236812, -3.232678745444227, -30.980855721104223, -41.587614473050216, -48.594306596011734, -52.2120004926713, -50.78829934780737, -45.071565964271464, -51.07818265513226, -27.529184982033144, -29.587543615002616, -26.764954677227408, -29.34654123421897, -28.45530849443206, -28.228479754808596, -26.764030653694093, -26.289327346063047, -29.21690528223354, -25.277522185580853, -29.14300269948149, -29.578349259350624, -29.202589319911542, -26.273244555530585, -32.298735555137576, -34.53041576225315, -34.49684444313362, -33.09089737159775, -29.32393239131863, -28.19847804277877, -31.39356491845435, -29.02223068274363, -29.0976585180651, -30.70403176420454, -31.93632809341209, -22.795618123218883, -29.16339197201063, -28.58824770483975, -12.984442306724675, -21.71097114738158, -29.654960206643604, -31.57715947326974, -31.910738504192548, -25.542156987341066, -24.65589922602978, -30.625206447385352, -27.465834051521956, -26.815362571154, -23.91435864715091, -28.80037683142584, -13.385772095175716, -27.718799330617554, -27.829333039373484, -26.75589891064597, -29.904032637149662, -33.30827592500026, -29.418179724139744, -17.780146736980683, 9.605040825742503, -1.5333361123026634, -21.047293496584018, -21.775308777250654, -19.189479809991518, -38.21318047135936, -22.485659072645205, -44.65706612870847, -47.36864732421685, -43.614128998963345, -27.556278110301054, -15.385211375382054, 41.51901602363129, 51.07955088509219, 43.26720865561799, 56.984096045472405, 49.70841435033784, 53.262252771340684, 62.41600254309849, 56.14111309077612, 57.82123082048803, 63.00650081376522, 61.69892160542578, 59.70679093857056, 93.4900497530775, 94.85627622343037, 62.76410235358416, 80.29229821088333, 63.230329438180796, 64.35286065408965, 14.760563078449183, -8.008500274240575, -23.809767262042133, -13.02683054996951, -45.114595444502214, -38.510973246106474, -36.549760314386866, -9.403211230420032, 7.603809832901962, 23.584871532449004, -0.22459721505077543, -11.256113644269172, -32.87843918886111, -40.34423494890469, -38.499416256403066, -31.866225735192657, -35.15274128658222, -23.677344542869132, -25.95777100170442, -23.473476953906136, -26.99991125280469, -29.620043816814572, -24.575186719685025, 23.0781415936372, 19.69349795846993, -16.281304309473764, -22.27906816113736, -19.519484017058975, -17.306913284754177, -14.307373240147431, -11.181446882954317, -22.648890925662453, -18.532288096345916, 40.2421860564582, 22.13197604963217, 12.445488108394633, 4.104355883480602, 13.983564465812712, 48.58647329720276, -6.285314695874236, -2.4685230424330316, 25.05726462112686, -8.186349378850498, 14.648333077457481, 38.36103910066395, 41.74394970048108, 45.50899603459645, 46.96139616334965, 45.4992449457912, 62.99103343539667, 72.43796261113557, 61.34653228390976, -21.36599355246976, -31.36749362884832, -31.4854656489651, -17.99136018876547, -23.412416281440954, -24.827802364502674, -27.763721239348516, -25.153109466698677, -3.7163570915384248, -20.387582613218083, -6.391541077014897, 4.771319071457525, -7.090765052013409, 7.718045745700222, 27.623372330658967, -4.506446740412972, 0.9379911400837014, 30.977333580966548, 23.554875927579918, 18.78810420916901, 35.04188452627289, 31.244482021119968, 15.464678108648966, -8.58898477574659, 11.873847142340692, 2.929920138428184, 64.13818442043097, 74.79807777947093, 45.68987292134583, 57.18211317486127, 43.68138849509195, 32.8302624725767, 50.405571677030075, 59.406082179830044, 59.536758530061554, 62.67917787563574, 18.85427601581852, 0.6196408908898676, 9.49196953466449, -5.557992357846342, -11.71728625527543, 70.51341295088285, 78.09368056789604, 49.245968603906924, 28.141449789424755, 45.1324343645922, 45.856756123426216, 17.47954753861925, 4.419420194134909, -5.875168884514928, -4.762834343618329, -27.58621386085459, -23.70192581022132, 6.474961514310951, -5.307137203687049, -34.23197993114213, -28.04383354933402, -31.611935260764838, -24.5662419401704, -29.22009763536052, -20.450184081062986, -16.512436976807948, -10.388188245495016, -6.331730185305852, -7.813218640517209, -4.559857480790718, -23.242810318148642, 2.996163138935202, 22.400620400219932, 11.490316263004724, -0.3132376652110632, 27.626819770156658, 34.54394201706336, 23.22906356126741, 35.29093298423437, 40.32317600959738, -0.9273820505832271, -1.321628443079489, 1.3854834218374226, -7.734612158286879, -17.791421223818528, -0.8121559756452276, -7.067341412656652, -16.927528259033316, 18.685687464410332, 1.3703644072262953, 33.568200652612425, 55.441971155957454, 3.0215998881494612, 0.4452839636968443, 72.73325475767548, 61.65318349867961, 37.95661157065119, 30.29658848169866, 57.24606117209397, 69.67357417928099, 54.87922267453633, 72.66738976646411, 74.87153493062443, -6.472607394676619, -1.476743804993108, 4.330632346189625, 5.920052124085682, 1.6885855018990419, -0.6879792665524983, -4.892771343552707, 0.7761004967811674, 6.242051581955782, 2.2400263313014976, -0.11024448742465039, -2.327271493296244, -7.047917196435953, -4.668944274622912, -5.535890959558093, -7.4604197408900585, 0.8980313559611887, -10.55566046014505, -10.942873651673445, -7.068003473537521, -3.654741574472049, -8.360624143621871, -6.782213499804699, -9.337098346930201, -3.6762121528404004, -8.635900845529191, -9.47542023180033, -9.553036065690272, -0.9963034921896743, -8.804319355225202, -10.093733086942763, -2.477001423541159, -9.623849299611445, -8.370826517901849, -6.505159608067302, 4.711503464196139, -7.422188277191101, -3.080596449129295, -4.833436762972633, -7.834507005471162, -6.012756328883843, -8.192013135146428, -10.463592438543078, 8.086999101206052, -9.949227539657706, -9.22533947618328, -8.678055165400936, -6.271016775735824, 2.428286265585578, -9.817265735488784, -8.979658180289041, -6.928140755881325, -6.194392012929371, -4.053986466474301, 0.5798613316670547, -0.7809936654870536, -1.9173084047675903, -4.9923122520724235, -3.8663046367011997, -1.3577477006064154, 6.116858043320318, 4.642042025988794, -0.9609149534486299, 16.563223519342724, -6.842624229183113, -3.336724629120623, 3.2461015372446718, 11.155692477365994, 22.63754311949912, 3.039313866230439, 30.476750492389467, 16.065076493156422, 14.383981950398782, 1.746942505381296, 9.003455636610571, 2.6508954039666572, 17.754376993454997, 7.425747072147931, 2.0452770905011937, 1.407574136292371, 4.77169214497278, -0.6583852881915186, 6.39171986176164, -4.789117372903821, -3.597644362814425, -6.702732106390167, -8.73343641794164, -8.781411098878447, -3.264225969594977, 2.762886776725398, -4.296898449658722, -6.020653602590113, -7.952867872469006, -5.55768514729914, 6.101938535464963, -6.5062775105138355, -2.3253023406601274, -7.755077034678203, 4.675969145709557, 9.482928947489457, 9.300796741320866, 15.370212500922138, 6.541674025580742, 3.223474707326956, 2.1894707210762037, 0.36384649281689074, 4.351152723665893, -0.4347168360682883, 17.72214711700995, 32.16738276254882, 11.643917421919816, -3.4601596180341523, 13.60453872848618, 24.08657779640148, 3.421257663561144, -1.2816268740765888, 10.49043110627147, 16.74859472083728, -4.396298415909919, -5.274936114874879, -4.078030090970303, -6.483333776848766, -6.040882790545348, 0.8498153530356478, 18.525767581236924, 11.184273565939801, 9.617421524554363, 37.15493781391435, 36.18593868154433, 28.461279864085043, 6.824364477939177, 27.354205060704565, 0.030132395816922168, -3.552214983493512, -3.250620880586732, -4.459067441387169, 7.39465753527576, 1.4009544160073388, 9.870933795791581, 20.033384542390404, -13.716463972132928, -11.318033529401319, -7.22281966717392, -13.598489014860617, -18.23391844133639, -20.978012302706595, -26.79414976749024, -37.28518132895685, -35.988341879495664, -29.77243230623298]}, {"axis": {"matches": true}, "label": "PC 4", "values": [5.291593112234534, 1.2967758967991756, -10.278398887628773, -19.644920785307246, -14.178140698659304, -11.335211503062435, 1.847619445742114, 20.940658290618508, 23.86933361915544, 14.314640741435943, 19.84033478205698, 12.270127064506333, -15.595629208522372, -11.069974055899594, 3.403919789702051, -14.440912593053248, -31.865534235405466, 1.8511805862841206, -27.393236849721777, -6.056316765610723, 12.547207066438455, 6.612095730940424, 8.453998753410191, 13.772675106158644, 9.848629103959839, 4.144366398737508, 7.289547668986423, 6.170358389412529, 9.859291299734117, 5.277792451485987, 10.004787931538276, 13.402567780998634, 2.025996707822237, 10.378924670826141, 11.247389837827551, -6.3248997454905425, -10.653126841136858, -23.362133074874585, -30.505202978814122, 22.146859198308725, 18.223780432368677, -47.160907155178656, -44.772797868569086, -44.717131304457055, -23.317437735867056, -27.20667955150362, -27.34546268166067, 6.083361290003847, 12.88046693074113, -8.979591877398459, -3.5245665390601943, 7.299887784031337, -19.547631814357825, -19.21699246809965, 34.6131084902832, 34.281906282890155, 37.61656665804104, 53.237810084769634, -12.252873467274204, -0.6668115986638274, 11.600486116145174, 28.906767193434632, 12.33849905713533, -3.0704795750075986, 2.8851856439393133, 21.810516448646002, 30.527061512309054, -27.87515530599707, -17.842079011330778, -20.45450845713246, -46.28091016472026, -39.22683667479027, -45.54426547202211, -46.52296696467978, -48.5062052436956, -23.626660597225424, -4.749116000995419, -23.04418292110894, -17.921399778204943, -28.917785651774103, -9.403408291626242, 14.16922516557142, -10.168771589199373, -0.9282322873644742, -18.461575428227267, -13.462904167358955, -20.16765701286818, -12.923550457667533, 5.330398228654538, -9.432959225070864, -7.402695561254795, -2.4595213817278947, 5.9280044163557335, -9.880906005978925, 21.132123246043, -13.037841112224061, -5.179590649043904, -1.3967690488616165, -26.33323809804212, -9.906438440353757, -1.0771998623194474, -6.628415219958166, 1.1713165691448733, 3.876468350969546, 5.471647087385095, 9.927143730912137, 6.978390870643039, 2.4742373951788745, 10.000611675404988, 6.379576580653407, -17.15782349036568, -0.8576004129178431, 6.602740501581775, 8.246198033190334, 0.780477974158706, 3.3899582505392503, -6.576929673675308, -0.22142656908429564, -6.267238160501282, -11.162428204921774, -3.5638807282061276, 5.553090658875904, 11.322777237377863, 14.240875363407836, 13.157770411698795, 8.346652387927234, 13.393496576246202, 8.288496437489588, 10.014871875144427, 7.54938548004964, 9.945984993761767, 9.196941975629548, 9.211704238141277, 7.7992915220350865, 9.32086539165478, 9.701544121729468, 6.631488395293019, 9.713563855895346, 9.876201090547273, 9.584962297565871, 7.063233762841448, 11.666690561504089, 12.2690940932207, 12.271786955997285, 10.962108974574498, 11.387237059001125, 10.858788996098056, 9.604422985388888, 8.200532754087943, 8.582130947600044, 9.835636664924703, 11.382873466976305, 3.686443724520923, 10.23964374817221, 8.839860465985943, -0.5782078883733981, 6.696943405238946, 9.424119569728559, 11.122061891107002, 11.21257572591662, 6.308725591155119, 5.147220110206692, 9.940879704051774, 7.257234524696994, 6.329177271025351, 6.404232200476663, 8.670969145939962, -2.3574877570920463, 8.649827914908137, 8.224800916757555, 7.795029204802075, 9.660537373807076, 6.5912352778652705, 3.5322358013409634, -6.256754081368625, -29.119873183686746, -19.919823460694186, -3.403504948924412, -2.7534374502058316, -10.92245162787433, 5.042309753284181, -8.308641261668182, 10.575301304977135, 12.787195785132095, 9.441443406196141, -3.977370393454494, -14.016379502862884, 8.626585507362293, 0.8487159594685951, 7.184280747539475, -3.9796561886912545, 1.9690033894631802, -0.9720480501873927, 2.942542788874874, 8.510300341166268, 32.49853280730739, 32.50278680790186, 34.126719249392, 35.272482738684616, 30.457779925075283, 29.51121941223866, 36.836864857544285, 22.204578193901, 45.395967497822355, 44.51787267368432, -35.468655271089226, -16.240674888058315, -3.0844791303211974, -11.930096799019276, 14.555035638301636, 9.243895559627225, 7.329485254133335, -15.203999614231265, -29.211960058608806, -42.77327340140734, -22.746107307829053, -13.887042207901596, 4.4700608660958885, 10.394625788611151, 9.158238690986412, 6.02841999684053, 8.35478917753788, -0.8344281220851014, 1.057215398887245, -0.7385713242269906, 2.2717297042335605, 4.4466273252785795, 0.32537319957528293, -39.80561956136157, -37.00293388944454, -6.923862487087712, -1.6143766838639542, -3.9838982760877397, -5.798729900532158, -8.17613870313385, -11.171870758981829, -1.625809018919186, -4.9534751663501915, -15.475430413662238, -0.3234282810836737, 7.593930794741167, 14.524344318636837, 6.619192900588363, -22.3562142416459, 14.845547329965381, 11.171724010519032, -11.710425191837288, 16.476288403860384, -2.7202239244679194, -22.89197214837487, -25.780144521056616, -28.570702596973582, -29.87061717376638, -28.792748465602195, 31.411411768856148, 23.3281322966044, 41.70274841761651, 21.255610217043397, 29.684082967610532, 29.67596176946922, 18.214201830512845, 22.93071876222715, 24.205359884112116, 26.385184547474694, 24.36547192379084, 6.152297145472623, 20.202644826293497, 8.669683035263922, -0.6726802217385662, 6.095666912596281, -6.2890885241677355, -22.972166905710615, 4.062939348710014, -0.3871719022937627, 2.2182624504076243, 8.49703053714821, 12.556963983634608, -1.1386140444696247, 1.8731278389976058, -12.659552187379951, 7.817358127248693, -9.508007047102717, -1.6778806424872676, 36.82462533502898, 32.670129653696904, 12.577582685745556, 32.61863975448661, 10.195438089543858, 19.32057755769365, 4.855772921981357, 29.897608120048485, 29.783530300893148, 27.093639243430438, -38.250449447409906, -22.953753659697497, -30.264569027323937, -17.564461062221866, -12.710127241153039, 15.113194746178177, 8.690235229761726, 32.6361961130776, 1.1464740034566643, -12.944508404139773, -13.532206795338777, 2.8139586921715645, 13.720384120862578, 22.41288046818193, 21.438583025351978, 2.056584596974543, -1.400678184254304, -26.17383813113449, -16.78206345763997, 7.397591479409346, 2.3772830065339536, 5.319114487582798, -0.6959927859839614, 3.094724388121884, -4.312154034809855, -7.430080645704942, -12.664455132119178, -16.74147886619304, -15.48311496142697, -18.243441525835426, -2.5542078279455245, -24.551915281896783, -40.7840513474929, -31.68039255646694, -21.96081474654499, -36.24680316169158, -41.86727472870177, -32.265654034198676, -5.009089305537057, -8.590981689575052, -24.61051089086865, -24.30905063370072, -26.77084804089403, -19.180829240873276, -10.686914357346822, -24.971835680719238, -19.756350185796826, -11.437079902726266, 8.4958650984436, -14.421933991922069, 26.56351143128607, 8.398064159620745, -20.248014565454454, -17.81669844621533, 31.670223959619307, 30.555203273412246, 1.766009180489765, 8.099310759529812, 16.389647585430197, 5.499682029662664, 44.065141065254615, 24.41341720813639, 22.749212414247232, 4.495761237094536, 0.14303361551478416, -4.724046934927146, -6.052960821138556, -2.0647812526319003, 0.08153920152608943, 3.258864999706295, -1.2175525640038303, -5.521652404277884, -2.2571259934224623, 0.11158349465369173, 5.070420899905775, 5.371582955330623, 3.3865792458158968, 3.889897114520914, 5.742037307832328, -1.0092397497861716, 7.052922368849015, 7.393897723885615, 4.994598557749244, 2.2523856293584408, 5.652515285338298, 4.481099217689345, 6.643185962168241, 3.2260021544743203, 5.999412777437978, 6.499497625177873, 6.510360374688013, 1.056039307454726, 5.82152358707498, 7.118729040153062, 0.5557583526817368, 6.856591225185401, 5.646122103765572, 4.227262548691323, -5.036352769291412, 4.746392952928768, 1.396314780939074, 2.912798499831749, 5.415124415516509, 3.6767178442422823, 5.577427345695228, 7.606677832028019, -7.560422373928832, 7.075948150662059, 6.492493803784475, 6.282726228665504, 4.202462505521679, -2.0185095248651694, 8.017191093723769, 6.683778205763568, 5.7929246787618185, 4.909059495195894, 5.597872726467127, 5.435541126421033, 5.069057417528231, 5.757088087582725, 6.115448493851153, 6.845918391102919, 5.501260315644884, -0.7209015533435815, -0.936581738747163, 6.577406843068088, -9.827309130762224, 5.852640815253368, 2.783796535702075, -2.1709004262984792, -4.645768717898406, -14.105426877114272, 2.219553052564812, -20.93115011871826, -8.220794330530962, -8.79295432578063, 2.3729315509172717, -3.897803474211231, 1.4521438353001475, -11.341806359588022, -2.8263635282362314, 1.8722959708058367, 1.9492519647063946, 0.6399136865525648, 5.230864131703767, -1.9306310629498005, 2.5902510361416793, 1.9231640453767422, 4.508827519491192, 6.086578650934979, 6.270894134591022, 3.813071713485768, 1.8245278873160515, 3.553287939514483, 4.002586170797136, 5.433450904535651, 4.810277444677388, -0.14956966834129892, 4.826486567404488, 0.8401265886004804, 5.645606938404521, 0.9647251437827523, -3.851667442703035, -3.0888329375005497, -7.952897677843786, -4.745889358198072, -3.8934243664560797, -0.8731611970741109, -1.4543667554642012, -4.819415962936955, -0.628178185356673, -16.026538258046457, -27.31645426135487, -5.187364535325269, 2.505791203528096, -12.144714962486198, -21.356463348349404, -4.141368537243583, -0.04527348687338369, -9.992497485500941, -14.869717374069925, 3.1156549622456597, 4.416223008506504, 2.0896831859605673, 4.806864814548431, 4.110490321903496, -1.5253081406693876, -16.637886484109874, -10.296314167440238, -8.980981180353663, -32.28424643884341, -31.23522661744757, -24.88359685043633, -6.8540444584121465, -23.9911673579688, 0.7208667821330114, 4.348016890813964, 4.311247399144084, 4.586441727338409, -5.339285738372291, -17.56499098285605, -24.746629364812055, -33.367877859299455, -5.1171085768081905, -6.898226796006881, -10.32645855890484, -5.016334937969332, -1.0955507898743528, -5.706647169822603, -0.878984603857144, 8.073690311875568, 7.016434342426266, 1.6768597328729082]}], "hovertemplate": "%{xaxis.title.text}=%{x}<br>%{yaxis.title.text}=%{y}<br>Median Price=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [24.0, 21.6, 34.7, 33.4, 36.2, 28.7, 22.9, 27.1, 16.5, 18.9, 15.0, 18.9, 21.7, 20.4, 18.2, 19.9, 23.1, 17.5, 20.2, 18.2, 13.6, 19.6, 15.2, 14.5, 15.6, 13.9, 16.6, 14.8, 18.4, 21.0, 12.7, 14.5, 13.2, 13.1, 13.5, 18.9, 20.0, 21.0, 24.7, 30.8, 34.9, 26.6, 25.3, 24.7, 21.2, 19.3, 20.0, 16.6, 14.4, 19.4, 19.7, 20.5, 25.0, 23.4, 18.9, 35.4, 24.7, 31.6, 23.3, 19.6, 18.7, 16.0, 22.2, 25.0, 33.0, 23.5, 19.4, 22.0, 17.4, 20.9, 24.2, 21.7, 22.8, 23.4, 24.1, 21.4, 20.0, 20.8, 21.2, 20.3, 28.0, 23.9, 24.8, 22.9, 23.9, 26.6, 22.5, 22.2, 23.6, 28.7, 22.6, 22.0, 22.9, 25.0, 20.6, 28.4, 21.4, 38.7, 43.8, 33.2, 27.5, 26.5, 18.6, 19.3, 20.1, 19.5, 19.5, 20.4, 19.8, 19.4, 21.7, 22.8, 18.8, 18.7, 18.5, 18.3, 21.2, 19.2, 20.4, 19.3, 22.0, 20.3, 20.5, 17.3, 18.8, 21.4, 15.7, 16.2, 18.0, 14.3, 19.2, 19.6, 23.0, 18.4, 15.6, 18.1, 17.4, 17.1, 13.3, 17.8, 14.0, 14.4, 13.4, 15.6, 11.8, 13.8, 15.6, 14.6, 17.8, 15.4, 21.5, 19.6, 15.3, 19.4, 17.0, 15.6, 13.1, 41.3, 24.3, 23.3, 27.0, 50.0, 50.0, 50.0, 22.7, 25.0, 50.0, 23.8, 23.8, 22.3, 17.4, 19.1, 23.1, 23.6, 22.6, 29.4, 23.2, 24.6, 29.9, 37.2, 39.8, 36.2, 37.9, 32.5, 26.4, 29.6, 50.0, 32.0, 29.8, 34.9, 37.0, 30.5, 36.4, 31.1, 29.1, 50.0, 33.3, 30.3, 34.6, 34.9, 32.9, 24.1, 42.3, 48.5, 50.0, 22.6, 24.4, 22.5, 24.4, 20.0, 21.7, 19.3, 22.4, 28.1, 23.7, 25.0, 23.3, 28.7, 21.5, 23.0, 26.7, 21.7, 27.5, 30.1, 44.8, 50.0, 37.6, 31.6, 46.7, 31.5, 24.3, 31.7, 41.7, 48.3, 29.0, 24.0, 25.1, 31.5, 23.7, 23.3, 22.0, 20.1, 22.2, 23.7, 17.6, 18.5, 24.3, 20.5, 24.5, 26.2, 24.4, 24.8, 29.6, 42.8, 21.9, 20.9, 44.0, 50.0, 36.0, 30.1, 33.8, 43.1, 48.8, 31.0, 36.5, 22.8, 30.7, 50.0, 43.5, 20.7, 21.1, 25.2, 24.4, 35.2, 32.4, 32.0, 33.2, 33.1, 29.1, 35.1, 45.4, 35.4, 46.0, 50.0, 32.2, 22.0, 20.1, 23.2, 22.3, 24.8, 28.5, 37.3, 27.9, 23.9, 21.7, 28.6, 27.1, 20.3, 22.5, 29.0, 24.8, 22.0, 26.4, 33.1, 36.1, 28.4, 33.4, 28.2, 22.8, 20.3, 16.1, 22.1, 19.4, 21.6, 23.8, 16.2, 17.8, 19.8, 23.1, 21.0, 23.8, 23.1, 20.4, 18.5, 25.0, 24.6, 23.0, 22.2, 19.3, 22.6, 19.8, 17.1, 19.4, 22.2, 20.7, 21.1, 19.5, 18.5, 20.6, 19.0, 18.7, 32.7, 16.5, 23.9, 31.2, 17.5, 17.2, 23.1, 24.5, 26.6, 22.9, 24.1, 18.6, 30.1, 18.2, 20.6, 17.8, 21.7, 22.7, 22.6, 25.0, 19.9, 20.8, 16.8, 21.9, 27.5, 21.9, 23.1, 50.0, 50.0, 50.0, 50.0, 50.0, 13.8, 13.8, 15.0, 13.9, 13.3, 13.1, 10.2, 10.4, 10.9, 11.3, 12.3, 8.8, 7.2, 10.5, 7.4, 10.2, 11.5, 15.1, 23.2, 9.7, 13.8, 12.7, 13.1, 12.5, 8.5, 5.0, 6.3, 5.6, 7.2, 12.1, 8.3, 8.5, 5.0, 11.9, 27.9, 17.2, 27.5, 15.0, 17.2, 17.9, 16.3, 7.0, 7.2, 7.5, 10.4, 8.8, 8.4, 16.7, 14.2, 20.8, 13.4, 11.7, 8.3, 10.2, 10.9, 11.0, 9.5, 14.5, 14.1, 16.1, 14.3, 11.7, 13.4, 9.6, 8.7, 8.4, 12.8, 10.5, 17.1, 18.4, 15.4, 10.8, 11.8, 14.9, 12.6, 14.1, 13.0, 13.4, 15.2, 16.1, 17.8, 14.9, 14.1, 12.7, 13.5, 14.9, 20.0, 16.4, 17.7, 19.5, 20.2, 21.4, 19.9, 19.0, 19.1, 19.1, 20.1, 19.9, 19.6, 23.2, 29.8, 13.8, 13.3, 16.7, 12.0, 14.6, 21.4, 23.0, 23.7, 25.0, 21.8, 20.6, 21.2, 19.1, 20.6, 15.2, 7.0, 8.1, 13.6, 20.1, 21.8, 24.5, 23.1, 19.7, 18.3, 21.2, 17.5, 16.8, 22.4, 20.6, 23.9, 22.0, 11.9], "coloraxis": "coloraxis", "symbol": "circle"}, "name": "", "showlegend": false, "type": "splom"}],                        {"coloraxis": {"colorbar": {"title": {"text": "Median Price"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "dragmode": "select", "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Total Explained Variance: 99.72%"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3586004e-0a76-4795-a29e-7d961b40eda1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2D-PCA-Scatter-Plot">2D PCA Scatter Plot<a class="anchor-link" href="#2D-PCA-Scatter-Plot">&#182;</a></h2><p>In the previous examples, you saw how to visualize high-dimensional PCs. In this example, we show you how to simply visualize the first two principal components of a PCA, by reducing a dataset of 4 dimensions to 2D.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="c0c2b6ae-e0ca-4130-b565-d3de4f337d6a" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c0c2b6ae-e0ca-4130-b565-d3de4f337d6a")) {                    Plotly.newPlot(                        "c0c2b6ae-e0ca-4130-b565-d3de4f337d6a",                        [{"hovertemplate": "color=setosa<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "orientation": "v", "showlegend": true, "type": "scatter", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "xaxis": "x", "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "yaxis": "y"}, {"hovertemplate": "color=versicolor<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "xaxis": "x", "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "yaxis": "y"}, {"hovertemplate": "color=virginica<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "xaxis": "x", "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "yaxis": "y"}],                        {"legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "0"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "1"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c0c2b6ae-e0ca-4130-b565-d3de4f337d6a');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-PCA-with-px.scatter_3d">Visualize PCA with <code>px.scatter_3d</code><a class="anchor-link" href="#Visualize-PCA-with-px.scatter_3d">&#182;</a></h2><p>With <code>px.scatter_3d</code>, you can visualize an additional dimension, which let you capture even more variance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">total_var</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_3d</span><span class="p">(</span>
    <span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Total Explained Variance: </span><span class="si">{</span><span class="n">total_var</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="s1">&#39;PC 3&#39;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="bef0a4ea-84fe-4853-9242-10d131b2386d" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("bef0a4ea-84fe-4853-9242-10d131b2386d")) {                    Plotly.newPlot(                        "bef0a4ea-84fe-4853-9242-10d131b2386d",                        [{"hovertemplate": "color=setosa<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "z": [-0.021511837001963102, -0.20352142500549145, 0.024709240998957712, 0.03767197528530123, 0.09622969977460939, 0.17432561901640295, 0.26425108519069607, -0.015801510264315043, 0.02733540611450723, -0.19153329973564465, -0.06927499581393096, 0.10765035324990473, -0.20032778809538926, 0.06841362917233033, -0.14450570400963542, 0.2837306639397771, 0.14531598882161798, 0.033394254070698105, -0.11452146479835279, 0.21957208800082506, -0.23369560709796947, 0.2148363702796755, 0.2996189815108712, 0.04568004127448713, 0.12940757589599344, -0.24711633789085985, 0.1012630794297022, -0.07235915743602817, -0.1392533737785348, 0.04646646364504579, -0.071275073131526, -0.13838824005004097, 0.23058560425417296, 0.16358191262366278, -0.19153329973564465, -0.15684235049802425, -0.2611631564817056, -0.19153329973564465, 0.07972480735962136, -0.07390123824707649, 0.08424157450476331, -0.34096149110715174, 0.19900842494724197, 0.27071707036883347, 0.30348780926827057, -0.09051560595006833, 0.17191840447686085, 0.0900613765304152, -0.011175267831168983, -0.08269572660682165]}, {"hovertemplate": "color=versicolor<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "z": [-0.40612955307696313, -0.017129909205125235, -0.33826072771795895, -0.17708285639336488, -0.3065444648144318, 0.04118876935364434, 0.1700225337414998, 0.015672194238160093, -0.414814566148704, 0.28343724625412553, -0.26648995382244983, 0.1323278904749737, -0.6919415783189649, -0.06215742761353879, 0.09365863819195037, -0.31322940056857723, 0.3283842970693479, -0.2702806708356937, -0.4973485411777046, -0.2329635564825228, 0.45984422657275353, -0.22747218032088332, -0.34751321258425033, -0.23161141855267006, -0.32037233282926975, -0.3147714813796257, -0.5212449247379847, -0.16463849085222862, 0.03634357634449068, -0.3153371969389201, -0.24175804484226798, -0.3039165434636248, -0.17497330378776524, 0.015480495121708304, 0.44458375303487097, 0.38945871138620264, -0.23656608684982794, -0.6128710500606732, 0.18956248472924195, -0.05779923880574424, -0.024053890889809318, -0.00976802636842478, -0.22736270503287936, -0.10206934253841171, 0.01788946589650754, 0.08380907322251578, 0.07907335550136596, -0.20417287686374627, -0.007736584506980753, 0.012179139158859284]}, {"hovertemplate": "color=virginica<br>PC 1=%{x}<br>PC 2=%{y}<br>PC 3=%{z}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "scene": "scene", "showlegend": true, "type": "scatter3d", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "z": [0.7584586515284955, 0.2963982243052131, -0.11214137055436675, 0.10653914864984594, 0.28411068086616736, -0.3518731576273015, 0.5466855311249489, -0.4236912783368969, -0.3499221833590494, 0.42173893361376735, 0.24281526346759313, -0.03769532849396476, 0.0331481831991332, 0.2828680182243182, 0.6305704884623257, 0.48013807976572853, 0.042729093929436614, 0.1293200833617756, -0.5169707159938949, -0.3448870474686999, 0.21864907004670506, 0.5126407650398147, -0.5769101867216484, -0.06351132177864816, 0.28467815266071794, -0.20842334661879328, 0.046977807449227076, 0.231613560568306, 0.15351588509125513, -0.45202396144912743, -0.5010315391382015, -0.11844877739515763, 0.20842197616391567, -0.1540829711054271, -0.17581118605670318, -0.33642274120822385, 0.7341847390548603, 0.16047063070600845, 0.2824608810023712, 0.027437856461485263, 0.3228604007423825, 0.1154928159607172, 0.2963982243052131, 0.2912536131268597, 0.5043025169513597, 0.17930287068112669, -0.12063644074491217, 0.13078405342866883, 0.7228735608675687, 0.3623178316312214]}],                        {"legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "scene": {"domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "xaxis": {"title": {"text": "PC 1"}}, "yaxis": {"title": {"text": "PC 2"}}, "zaxis": {"title": {"text": "PC 3"}}}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Total Explained Variance: 99.48%"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('bef0a4ea-84fe-4853-9242-10d131b2386d');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Plotting-explained-variance">Plotting explained variance<a class="anchor-link" href="#Plotting-explained-variance">&#182;</a></h2><p>Often, you might be interested in seeing how much variance PCA is able to explain as you increase the number of components, in order to decide how many dimensions to ultimately keep or analyze. This example shows you how to quickly plot the cumulative sum of explained variance for a high-dimensional dataset like <a href="https://scikit-learn.org/stable/datasets/index.html#diabetes-dataset">Diabetes</a>.</p>
<p>With a higher explained variance, you are able to capture more variability in your dataset, which could potentially lead to better performance when training your model. For a more mathematical explanation, see this <a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">Q&amp;A thread</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_diabetes</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">load_diabetes</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">boston</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">()</span>
<span class="n">pca</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">exp_var_cumul</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">area</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">exp_var_cumul</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">exp_var_cumul</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;# Components&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;Explained Variance&quot;</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="03842f80-7433-459b-8551-079e40be50cd" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("03842f80-7433-459b-8551-079e40be50cd")) {                    Plotly.newPlot(                        "03842f80-7433-459b-8551-079e40be50cd",                        [{"hovertemplate": "# Components=%{x}<br>Explained Variance=%{y}<extra></extra>", "legendgroup": "", "line": {"color": "#636efa"}, "mode": "lines", "name": "", "orientation": "v", "showlegend": false, "stackgroup": "1", "type": "scatter", "x": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "xaxis": "x", "y": [0.4024214175678733, 0.5516532410893153, 0.6722494722420754, 0.7677971110209649, 0.8340156689459763, 0.8942875900367641, 0.9479436357350411, 0.9913119559917795, 0.9991439470098975, 0.9999999999999999], "yaxis": "y"}],                        {"legend": {"tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "# Components"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Explained Variance"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('03842f80-7433-459b-8551-079e40be50cd');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-Loadings">Visualize Loadings<a class="anchor-link" href="#Visualize-Loadings">&#182;</a></h2><p>It is also possible to visualize loadings using <code>shapes</code>, and use <code>annotations</code> to indicate which feature a certain loading original belong to. Here, we define loadings as:</p>
$$
loadings = eigenvectors \cdot \sqrt{eigenvalues}
$$<p>For more details about the linear algebra behind eigenvectors and loadings, see this <a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">Q&amp;A thread</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">components</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">loadings</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">components_</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span>
        <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
        <span class="n">x0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">x1</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">y1</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="n">ax</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="n">yanchor</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span>
    <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>                            <div id="76fd7f9d-08dd-455d-9164-31b5bd56c9d7" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("76fd7f9d-08dd-455d-9164-31b5bd56c9d7")) {                    Plotly.newPlot(                        "76fd7f9d-08dd-455d-9164-31b5bd56c9d7",                        [{"hovertemplate": "color=setosa<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "setosa", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "setosa", "orientation": "v", "showlegend": true, "type": "scatter", "x": [-2.6842071251039483, -2.71539061563413, -2.889819539617916, -2.746437197308734, -2.7285929818313144, -2.279897361009598, -2.8208906821806297, -2.6264819933238184, -2.887958565335634, -2.6738446867191206, -2.5065267893389036, -2.613142718271056, -2.787433975997097, -3.22520044627498, -2.643543216941146, -2.3838693237993756, -2.6225262031258083, -2.6483227324791265, -2.1990779614307634, -2.587346188917738, -2.3105317013131335, -2.5432349073036953, -3.215857694900105, -2.3031285376638824, -2.3561710866838976, -2.5079172268378804, -2.4690559975451225, -2.5623909468367505, -2.6398212683765814, -2.632847908030758, -2.588462051303391, -2.4100773371215958, -2.647636673396901, -2.5971594770759183, -2.6738446867191206, -2.866999846932534, -2.625228464680421, -2.6738446867191206, -2.981842664853908, -2.590323025585674, -2.770138910746324, -2.8522110815663906, -2.9982964428323506, -2.4055141012847012, -2.2088329541767058, -2.715665190747454, -2.537573371013507, -2.8403212968270086, -2.5426857570770482, -2.70391231486365], "xaxis": "x", "y": [0.3266073147643885, -0.16955684755602624, -0.13734560960502795, -0.31112431575199184, 0.33392456356845474, 0.7477827132251336, -0.082104511024681, 0.17040534896028983, -0.5707980263315918, -0.10669170375273856, 0.651935013672572, 0.021520631960257896, -0.22774018887110628, -0.5032799094854259, 1.1861948994134495, 1.3447543445598622, 0.8180896745965952, 0.3191366677508846, 0.8792440880917367, 0.520473638805968, 0.397867821588892, 0.44003175465981526, 0.14161557162558355, 0.10552267842998224, -0.03120958906833842, -0.139056339913174, 0.1378873145904177, 0.3746845627501061, 0.3192900659603219, -0.19007583063362415, -0.19739307943769085, 0.41808000824761615, 0.8199826325595069, 1.1000219280072685, -0.10669170375273856, 0.07719309572358721, 0.6068000084215864, -0.10669170375273856, -0.4802500488560767, 0.23605933728887282, 0.2710594197651671, -0.9328653674695444, -0.3343075745907773, 0.19591725769606078, 0.4426960304210028, -0.24268148289811298, 0.5103675454766059, -0.2205763382764767, 0.5862810253439884, 0.11501085217050566], "yaxis": "y"}, {"hovertemplate": "color=versicolor<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "versicolor", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "versicolor", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1.284794587845071, 0.9324107529829175, 1.4640613227790753, 0.1809672063476993, 1.0871344872070012, 0.6404367495231457, 1.095223709938478, -0.7514671406482263, 1.0432977807062809, -0.010190070727852822, -0.5110861958950897, 0.5110980606834775, 0.2623357561531805, 0.984044545169431, -0.1748640019656959, 0.9275729420326997, 0.6595927890562004, 0.23454058625983584, 0.9423617073988423, 0.04324640032870497, 1.1162407237538159, 0.3567865678304614, 1.2964688502855342, 0.9205026489090096, 0.7140082136428333, 0.8996408632837759, 1.33104141885472, 1.557396272070702, 0.812455548998002, -0.30733475566340396, -0.07034288894927106, -0.19188449210314515, 0.13499495045137355, 1.378736982775583, 0.5872748535799112, 0.8072054966767166, 1.2204289662446792, 0.81286779036907, 0.2451951616903462, 0.16451342836925617, 0.4630309888714247, 0.8901604456511564, 0.2288790499696479, -0.7070812839208597, 0.35553303918706386, 0.33112694733272313, 0.375238228946766, 0.6416902781665432, -0.9084633331234948, 0.2978079074069342], "xaxis": "x", "y": [0.6854391861329202, 0.3191980898336488, 0.5041898329724531, -0.8256039435761133, 0.0753903892887675, -0.41732348297002575, 0.28389121093848035, -1.0011075129743943, 0.22895690877700686, -0.7205748667019015, -1.2624919538621404, -0.1022841050459702, -0.5478932980253367, -0.12436042022227789, -0.25181557108017066, 0.46823620504311714, -0.3519762910603165, -0.33192182936212034, -0.541822258150014, -0.5814894466123587, -0.08421401387837349, -0.06682382794136613, -0.3275615197949442, -0.18239036332792097, 0.15037915314843728, 0.32961097958188407, 0.24466952060228936, 0.26739258481276484, -0.16233157487863326, -0.36508661276616033, -0.7025379317307259, -0.6774905443743572, -0.3117096427033962, -0.4212051382146283, -0.4832842677174825, 0.19505396377111148, 0.4080353370010176, -0.37067899831890966, -0.266728035661848, -0.6796614693108137, -0.6695265465361225, -0.03381244274676266, -0.4022576201789113, -1.0084247617784612, -0.5032184874026623, -0.21118014066262672, -0.2916220248087798, 0.019071176491270835, -0.7515687251694855, -0.34701652159856394], "yaxis": "y"}, {"hovertemplate": "color=virginica<br>0=%{x}<br>1=%{y}<extra></extra>", "legendgroup": "virginica", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "virginica", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.5317269804395583, 1.4140722251737576, 2.6164846082840434, 1.970814945906482, 2.349757983950943, 3.3968799206781375, 0.5193832450849368, 2.932005096991301, 2.319672793874053, 2.9181342336442513, 1.6619349470194866, 1.8023404526607334, 2.165378862953397, 1.3445942175098249, 1.585267299308644, 1.9047435782139124, 1.949248781864498, 3.488765379656386, 3.79468686120997, 1.2983298245678165, 2.4281672590208476, 1.1980973722749628, 3.4992654842989572, 1.3876682501815556, 2.2758536493056933, 2.6141938306983334, 1.2576251829251366, 1.2906696477376016, 2.1228539805083133, 2.3875644023690277, 2.840960925285384, 3.232342898295874, 2.158738373133135, 1.4431026043759747, 1.7796401068985703, 3.076521621020662, 2.144986856709304, 1.9048629251371318, 1.1688534694704038, 2.107653731173268, 2.314303394629548, 1.9224508848357522, 1.4140722251737576, 2.563322712340809, 2.41939121980498, 1.9440170488777369, 1.5256636313138727, 1.764045935526983, 1.901629075288233, 1.3896661333194171], "xaxis": "x", "y": [-0.011842236640300523, -0.5749250559123048, 0.3419352869872948, -0.18112569470491371, -0.04188254965484184, 0.5471680462301528, -1.1913516890506533, 0.3523770061808598, -0.2455481706069101, 0.7803806293720322, 0.2420384010375224, -0.21615460662653627, 0.21528028337300723, -0.7764154251768252, -0.539307053847172, 0.11881899098269857, 0.040730259427767854, 1.1715445442635644, 0.25326557097253466, -0.7610139365215078, 0.3767819712541526, -0.6055789617645945, 0.4567734669640746, -0.20403098657015473, 0.3333865257566422, 0.5583669502788224, -0.17913699742322278, -0.11642525182937251, -0.2108548845494899, 0.46251925072626066, 0.37274259104902147, 1.3705240359763338, -0.21832553156299322, -0.14380128908272616, -0.5014647947060157, 0.6857644422460568, 0.13890660887731443, 0.048047508231834596, -0.16450249981508994, 0.3714822491771058, 0.1826088507936986, 0.4092711761786957, -0.5749250559123048, 0.27597450223983816, 0.30350393770262885, 0.18741522204601396, -0.3750208481918228, 0.07851918642935747, 0.11587674824796555, -0.28288670917226916], "yaxis": "y"}],                        {"annotations": [{"ax": 0, "ay": 0, "text": "sepal_length", "x": 0.7432265175592326, "xanchor": "center", "y": 0.3231374133069487, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "sepal_width", "x": -0.16909891062391022, "xanchor": "center", "y": 0.3591516283038463, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "petal_length", "x": 1.7606340630732842, "xanchor": "center", "y": -0.08650963259590294, "yanchor": "bottom"}, {"ax": 0, "ay": 0, "text": "petal_width", "x": 0.7375827860577797, "xanchor": "center", "y": -0.03676921407410933, "yanchor": "bottom"}], "legend": {"title": {"text": "color"}, "tracegroupgap": 0}, "margin": {"t": 60}, "shapes": [{"type": "line", "x0": 0, "x1": 0.7432265175592326, "y0": 0, "y1": 0.3231374133069487}, {"type": "line", "x0": 0, "x1": -0.16909891062391022, "y0": 0, "y1": 0.3591516283038463}, {"type": "line", "x0": 0, "x1": 1.7606340630732842, "y0": 0, "y1": -0.08650963259590294}, {"type": "line", "x0": 0, "x1": 0.7375827860577797, "y0": 0, "y1": -0.03676921407410933}], "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "0"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "1"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('76fd7f9d-08dd-455d-9164-31b5bd56c9d7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="References">References<a class="anchor-link" href="#References">&#182;</a></h2><p>Learn more about <code>px</code>, <code>px.scatter_3d</code>, and <code>px.scatter_matrix</code> here:</p>
<ul>
<li><a href="https://plot.ly/python/plotly-express/">https://plot.ly/python/plotly-express/</a></li>
<li><a href="https://plot.ly/python/3d-scatter-plots/">https://plot.ly/python/3d-scatter-plots/</a></li>
<li><a href="https://plot.ly/python/splom/">https://plot.ly/python/splom/</a></li>
</ul>
<p>The following resources offer an in-depth overview of PCA and explained variance:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Explained_variation">https://en.wikipedia.org/wiki/Explained_variation</a></li>
<li><a href="https://scikit-learn.org/stable/modules/decomposition.html#pca">https://scikit-learn.org/stable/modules/decomposition.html#pca</a></li>
<li><a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579">https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579</a></li>
<li><a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another</a></li>
<li><a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What-About-Dash?">What About Dash?<a class="anchor-link" href="#What-About-Dash?">&#182;</a></h3><p><a href="https://dash.plot.ly/">Dash</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library.</p>
<p>Learn about how to install Dash at <a href="https://dash.plot.ly/installation">https://dash.plot.ly/installation</a>.</p>
<p>Everywhere in this page that you see <code>fig.show()</code>, you can display the same figure in a Dash application by passing it to the <code>figure</code> argument of the <a href="https://dash.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dash_core_components</code> package like this:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span> <span class="c1"># or plotly.express as px</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span> <span class="c1"># or any Plotly Express function e.g. px.bar(...)</span>
<span class="c1"># fig.add_trace( ... )</span>
<span class="c1"># fig.update_layout( ... )</span>

<span class="kn">import</span> <span class="nn">dash</span>
<span class="kn">import</span> <span class="nn">dash_core_components</span> <span class="k">as</span> <span class="nn">dcc</span>
<span class="kn">import</span> <span class="nn">dash_html_components</span> <span class="k">as</span> <span class="nn">html</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span>
    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_reloader</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Turn off reloader if inside Jupyter</span>
</pre></div>

</div>
</div>
</div>

 



				
			</section>

			

			<a href="https://dash.plotly.com"><img width="100%" style="margin-top: 20px;" src="/all_static/images/dash.png"/></a>

			
			<!--End Plotly Basics Section-->
		</section>
	</div>
</main>


<script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


<footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly  from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2020 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


<!-- Mathjax -->
<script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});</script>
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>

 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "python";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'python_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 


</body>

</html>
