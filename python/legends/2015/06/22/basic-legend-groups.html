import plotly.plotly as py

py.iplot([
    {
        'x': [1, 2, 3],
        'y': [2, 1, 3],
        'legendgroup': 'group', # this can be any string, not just "group"
        'name': 'first legend group',
        'mode': 'markers',
        'marker': {
            'color': 'rgb(164, 194, 244)'
        }
    },
    {
        'x': [1, 2, 3],
        'y': [2, 2, 2],
        'legendgroup': 'group',
        'name': 'first legend group - average',
        'mode': 'lines',
        'line': {
            'color': 'rgb(164, 194, 244)'
        }
    },   
    {
        'x': [1, 2, 3],
        'y': [4, 9, 2],
        'legendgroup': 'group2', 
        'name': 'second legend group',
        'mode': 'markers',
        'marker': {
            'color': 'rgb(142, 124, 195)'
        }
    },        
    {
        'x': [1, 2, 3],
        'y': [5, 5, 5],
        'legendgroup': 'group2',
        'name': 'second legend group - average',
        'mode': 'lines',
        'line': {
            'color': 'rgb(142, 124, 195)'
        }
    }
], filename='basic-legend-grouping')
