<!DOCTYPE html>
<html>

<head>
  <!-- This page was last built at 2021-10-28 04:07 -->

  <meta charset="utf-8" />

  <link rel="canonical" href="https://plotly.com/julia/pca-visualization/" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,500&display=swap" rel="stylesheet" />

  <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
  <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

  <script>
    const theme = localStorage.getItem('theme');
    if (theme === "dark-mode") {
      var root = document.getElementsByTagName('html')[0]; // '0' to assign the first (and only `HTML` tag)
      root.setAttribute('class', 'dark-mode');
    }

  </script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

   
  <!-- code highlighting -->
  <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>-->
  

  <!-- Mathjax -->
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>

   
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script>
   
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.js"></script>
  <script type="text/javascript">
    if (typeof require !== "undefined") {
      require.undef("plotly");
      requirejs.config({
        paths: {
          plotly: [
            "https://cdn.plot.ly/plotly-2.4.2.min",
          ],
        },
      });
      require(["plotly"], function(Plotly) {
        window._Plotly = Plotly;
      });
    }

  </script>
   
  <!--
      //// Stylesheets
      -->

   

  <!-- Fonts -->
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />

  <!-- Main Stylesheets -->
  <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=../all_sta" />
  <link rel="stylesheet" type="text/css" href="/all_static/css/improve.css?version=2021-10-28-04-07">

  <!-- LOCAL DEV STYLESHEET -->
  <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

  <!-- Icon -->
  <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

  <!-- Google Tags-->
  <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>


  <!-- META TAGS -->
  <!-- SEO Tags - title, meta_description -->
<title>PCA Visualization | Julia | Plotly  </title>
<meta name="description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional
data in Julia with PlotlyJS.jl.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="PCA Visualization"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta property="og:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional
data in Julia with PlotlyJS.jl."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="PCA Visualization"/>
    <meta name="twitter:url" content="https://plotly.com/julia/pca-visualization/"/>
    <meta name="twitter:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional
data in Julia with PlotlyJS.jl."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta name="twitter:site" content="@plotlygraphs"/>


</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;" class="darkmode">
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


  <!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

  <div class="menu-mobile">
    <div class="switch-mode">
        <div class="icon-dark"></div>
        <div class="switch"></div>
        <div class="icon-light"></div>
    </div>
    <div class="close-menu"></div>
    <ul>
        <li><a style="font-weight: bold;"
                href="https://community.plotly.com/c/graphing-libraries/julia">Forum</a>
        </li>
        <li><a style="font-weight: bold;" href="https://plotly.com/get-pricing/">Pricing</a></li>
        <li><a style="font-weight: bold;" href="https://dash.plotly.com">Dash</a></li>
        <li><a style="font-weight: bold;" href="http://plotly.cloud">Dash Cloud</a></li>

    </ul>
</div>
<div class="header-container">
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/graphing_library_dark.svg"
                            style="height: 30px;" class="logo-dark"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/graphing_library.svg"
                            style="height: 30px;" class="logo-white"></a>


                </div>
            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li class="languages">
                            
                            
                            <a class="julia">
                                <div class="icon"></div>
                                Julia
                            </a>
                            

                            <ul>
                                <li>
                                    <a href="https://plotly.com/python/" class="python">
                                        <div class="icon"></div>Python
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/julia/" class="julia">
                                        <div class="icon"></div>Julia
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/r/" class="r">
                                        <div class="icon"></div>R
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/ggplot2/" class="ggplot2">
                                        <div class="icon"></div>ggplot2
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/matlab/" class="matlab">
                                        <div class="icon"></div>MATLAB
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/csharp/" class="csharp">
                                        <div class="icon"></div>C#
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/fsharp/" class="fsharp">
                                        <div class="icon"></div>F#
                                    </a>
                                </li>
                                <li>
                                    <a href="https://dash.plotly.com/" class="dash">
                                        <div class="icon"></div>Dash
                                    </a>
                                </li>
                            </ul>

                        </li>
                        <li><a style="font-weight: bold;"
                                href="https://community.plotly.com/c/graphing-libraries/julia">Forum</a>
                        </li>
                        <li><a style="font-weight: bold;" href="https://plotly.com/get-pricing/">Pricing</a></li>
                        <li><a style="font-weight: bold;" href="https://dash.plotly.com">Dash</a></li>
                        <li><a style="font-weight: bold;" href="http://plotly.cloud">Dash Cloud</a></li>

                        
                        <iframe
                            src="https://ghbtns.com/github-btn.html?user=JuliaPlots&repo=PlotlyJS.jl&type=star&count=true&size=large"
                            style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px"
                            height="40px"></iframe>
                        
                    </ul>
                    <div class="switch-mode">
                        <div class="icon-dark"></div>
                        <div class="switch"></div>
                        <div class="icon-light"></div>
                    </div>
                </nav>
            </div>
            <div class="menu-icon">
                <span></span><span></span><span></span>
            </div>
        </div>
    </header>
</div>

  <main class="--page page--single --index">

    <div class="--wrap">
      <!-- aside - Main Sidebar-->
      <aside class="--sidebar-container">
        <div class="--sidebar-fixed reference" data-spy="affix" id="where">
          <div class="brand">
            <a href="/graphing-libraries/"><img src="/all_static/images/logo-white.png" style="height: 45px;"></a>
          </div>

          
          <header class="--sidebar-header">On This Page</header>
          <nav class="--sidebar-body watch" id="where">
            <ul class="--sidebar-list"></ul>
          </nav>
        </div>
      </aside>
      <!-- Main-->
      <section class="--page-body --tutorial-index --base">
        <header class="--welcome">
          <div class="--welcome-body">
            <!--div.--wrap-inner-->
            <div class="--title">
              <div class="--body">
                <div class="nav-breadcrumb-container">
    <div>
        <div class="breadcrumb-nav">
            
                <a href="/julia">
                    
                        Julia
                    
                </a>
            

            

            

            
                
                &gt; <a href="/julia/#ai-ml">Artificial Intelligence and Machine Learning</a>
            
            
                &gt; <span>PCA Visualization</span>
            
            
        </div>
    </div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
        
            
            <a id="forklink" href= "https://github.com/plotly/plotlyjs.jl-docs/edit/master/julia/_posts/julia/html/2021-08-17-ml-pca.html" >
        
            <div class="icon">
                <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                    <path fill="#000000"
                        d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z">
                    </path>
                </svg>
            </div>
            <span>Suggest an edit to this page</span>
              </a>
        </div>
    </div>
</div>
                
                <h1>
                  PCA Visualization
                  
                  in 
                  Julia
                  
                </h1>
                <p>Visualize Principle Component Analysis (PCA) of your high-dimensional
data in Julia with PlotlyJS.jl. </p>
                <br>
                
                




<div class="db-client-lib">
  <label>
    This page in another language
  </label>
  <div class="list-lib-wrap">
    <div class="list-lib">
      
      
      <a href=" /julia/pca-visualization/" class="current list-lib-item julia">
        
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            Julia
            
          </p>
        </a>
        
      
        <a href=" /matlab/pca-visualization/" class="list-lib-item matlab">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            MATLABÂ®
            
          </p>
        </a>
        
      
        <a href=" /ggplot2/pca-visualization/" class="list-lib-item ggplot2">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            ggplot2
            
          </p>
        </a>
        
      
        <a href=" /r/pca-visualization/" class="list-lib-item r">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            R
            
          </p>
        </a>
        
      
        <a href=" /python/pca-visualization/" class="list-lib-item python">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            Python
            
          </p>
        </a>
        
        
        
    </div>
  </div>
</div>


                

              </div>
            </div>
          </div>
        </header>

        <!-- Start Plotly Basics Section -->
        <section class="tutorial-content">

          






          
<div class="rendered rendered_html">
<p>This page first shows how to visualize higher dimension data using various Plotly figures combined with dimensionality reduction &#40;aka projection&#41;. Then, we dive into the specific details of our projection algorithm.</p>
<p>We will use <a href="https://alan-turing-institute.github.io/MLJ.jl/dev/">MLJ.jl</a> to apply dimensionality reduction. MLJ is a popular Machine Learning &#40;ML&#41; library that offers various tools for creating and training ML algorithms, feature engineering, data cleaning, and evaluating and testing models. It was designed to be accessible, and to work seamlessly with many libraries in the Julia package ecosystem.</p>
<h2>High-dimensional PCA Analysis with  <code>plot&#40;::DataFrame, kind&#61;&quot;splom&quot;, ...&#41;</code></h2>
<p>The dimensionality reduction technique we will be using is called the <a href="https://scikit-learn.org/stable/modules/decomposition.html#pca">Principal Component Analysis &#40;PCA&#41;</a>. It is a powerful technique that arises from linear algebra and probability theory. In essence, it computes a matrix that represents the variation of your data &#40;&#91;covariance matrix/eigenvectors&#93;&#91;covmatrix&#93;&#41;, and rank them by their relevance &#40;explained variance/eigenvalues&#41;. For a video tutorial, see <a href="https://youtu.be/rng04VJxUt4?t&#61;98">this segment on PCA</a> from the Coursera ML course</p>
<p>&#91;covmatrix&#93;: https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues#:~:text&#61;As&#37;20it&#37;20is&#37;20a&#37;20square&#37;20symmetric&#37;20matrix&#37;2C&#37;20it&#37;20can&#37;20be&#37;20diagonalized&#37;20by&#37;20choosing&#37;20a&#37;20new&#37;20orthogonal&#37;20coordinate&#37;20system&#37;2C&#37;20given&#37;20by&#37;20its&#37;20eigenvectors&#37;20&#40;incidentally&#37;2C&#37;20this&#37;20is&#37;20called&#37;20spectral&#37;20theorem&#41;&#37;3B&#37;20corresponding&#37;20eigenvalues&#37;20will&#37;20then&#37;20be&#37;20located&#37;20on&#37;20the&#37;20diagonal.&#37;20In&#37;20this&#37;20new&#37;20coordinate&#37;20system&#37;2C&#37;20the&#37;20covariance&#37;20matrix&#37;20is&#37;20diagonal&#37;20and&#37;20looks&#37;20like&#37;20that&#37;3A</p>
<h3>Visualize all the original dimensions</h3>
<p>First, let&#39;s plot all the features and see how the <code>species</code> in the Iris dataset are grouped. In a <a href="https://plotly.com/julia/reference/splom/">Scatter Plot Matrix &#40;splom&#41;</a>, each subplot displays a feature against another, so if we have &#36;N&#36; features we have a &#36;N \times N&#36; matrix.</p>
<p>In our example, we are plotting all 4 features from the Iris dataset, thus we can see how <code>sepal_width</code> is compared against <code>sepal_length</code>, then against <code>petal_width</code>, and so forth. Keep in mind how some pairs of features can more easily separate different species.</p>
<pre><code class="language-julia">using PlotlyJS, CSV, DataFrames

df &#61; dataset&#40;DataFrame, &quot;iris&quot;&#41;
features &#61; &#91;:sepal_width, :sepal_length, :petal_width, :petal_length&#93;
plot&#40;df, dimensions&#61;features, color&#61;:species, kind&#61;&quot;splom&quot;&#41;</code></pre>
<div>
    
    
    <div
        id=304d1f95-7073-4af5-b574-0c9c73a6f501
        class="plotly-graph-div"
        style="height:100%; width:100%;">
    </div>
    <script type="text/javascript">
        require(["plotly"], function(Plotly) {
        window.PLOTLYENV = window.PLOTLYENV || {}
        
        if (document.getElementById('304d1f95-7073-4af5-b574-0c9c73a6f501')) {
    Plotly.newPlot(
        '304d1f95-7073-4af5-b574-0c9c73a6f501',
        [{"showlegend":true,"type":"splom","name":"setosa","legendgroup":"setosa","dimensions":[{"values":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.1,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"label":"sepal_width","axis":{"matches":true}},{"values":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"label":"sepal_length","axis":{"matches":true}},{"values":[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.2,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.1,0.2,0.2,0.1,0.2,0.2,0.3,0.3,0.2,0.6,0.4,0.3,0.2,0.2,0.2,0.2],"label":"petal_width","axis":{"matches":true}},{"values":[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1.0,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.3,1.5,1.3,1.5,1.3,1.3,1.3,1.6,1.9,1.4,1.6,1.4,1.5,1.4],"label":"petal_length","axis":{"matches":true}}],"diagonal":{"visible":false},"marker":{"color":"#636efa"}},{"showlegend":true,"type":"splom","name":"versicolor","legendgroup":"versicolor","dimensions":[{"values":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"label":"sepal_width","axis":{"matches":true}},{"values":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"label":"sepal_length","axis":{"matches":true}},{"values":[1.4,1.5,1.5,1.3,1.5,1.3,1.6,1.0,1.3,1.4,1.0,1.5,1.0,1.4,1.3,1.4,1.5,1.0,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1.0,1.1,1.0,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1.0,1.3,1.2,1.3,1.3,1.1,1.3],"label":"petal_width","axis":{"matches":true}},{"values":[4.7,4.5,4.9,4.0,4.6,4.5,4.7,3.3,4.6,3.9,3.5,4.2,4.0,4.7,3.6,4.4,4.5,4.1,4.5,3.9,4.8,4.0,4.9,4.7,4.3,4.4,4.8,5.0,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.5,4.7,4.4,4.1,4.0,4.4,4.6,4.0,3.3,4.2,4.2,4.2,4.3,3.0,4.1],"label":"petal_length","axis":{"matches":true}}],"diagonal":{"visible":false},"marker":{"color":"#EF553B"}},{"showlegend":true,"type":"splom","name":"virginica","legendgroup":"virginica","dimensions":[{"values":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"label":"sepal_width","axis":{"matches":true}},{"values":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"label":"sepal_length","axis":{"matches":true}},{"values":[2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2.0,1.9,2.1,2.0,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2.0,2.0,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2.0,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2.0,2.3,1.8],"label":"petal_width","axis":{"matches":true}},{"values":[6.0,5.1,5.9,5.6,5.8,6.6,4.5,6.3,5.8,6.1,5.1,5.3,5.5,5.0,5.1,5.3,5.5,6.7,6.9,5.0,5.7,4.9,6.7,4.9,5.7,6.0,4.8,4.9,5.6,5.8,6.1,6.4,5.6,5.1,5.6,6.1,5.6,5.5,4.8,5.4,5.6,5.1,5.1,5.9,5.7,5.2,5.0,5.2,5.4,5.1],"label":"petal_length","axis":{"matches":true}}],"diagonal":{"visible":false},"marker":{"color":"#00cc96"}}],
        {"template":{"layout":{"coloraxis":{"colorbar":{"ticks":"","outlinewidth":0}},"xaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"hovermode":"closest","paper_bgcolor":"white","geo":{"showlakes":true,"showland":true,"landcolor":"#E5ECF6","bgcolor":"white","subunitcolor":"white","lakecolor":"white"},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"yaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"shapedefaults":{"line":{"color":"#2a3f5f"}},"hoverlabel":{"align":"left"},"mapbox":{"style":"light"},"polar":{"angularaxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"autotypenumbers":"strict","font":{"color":"#2a3f5f"},"ternary":{"baxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"aaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"annotationdefaults":{"arrowhead":0,"arrowwidth":1,"arrowcolor":"#2a3f5f"},"plot_bgcolor":"#E5ECF6","title":{"x":0.05},"scene":{"xaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"zaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"yaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"}},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"]},"data":{"barpolar":[{"type":"barpolar","marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"carpet":[{"aaxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"},"type":"carpet","baxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"parcoords":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"parcoords"}],"scatter":[{"type":"scatter","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2dcontour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2dcontour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"mesh3d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"mesh3d"}],"surface":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"surface","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram":[{"type":"histogram","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"pie":[{"type":"pie","automargin":true}],"choropleth":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"choropleth"}],"heatmapgl":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmapgl","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"bar":[{"type":"bar","error_y":{"color":"#2a3f5f"},"error_x":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"heatmap":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmap","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contourcarpet"}],"table":[{"type":"table","header":{"line":{"color":"white"},"fill":{"color":"#C8D4E3"}},"cells":{"line":{"color":"white"},"fill":{"color":"#EBF0F8"}}}],"scatter3d":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"scatter3d","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2d","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}]}},"legend":{"tracegroupgap":0,"title":{"text":"species"}},"margin":{"l":50,"b":50,"r":50,"t":60},"dragmode":"select"},
        {"editable":false,"responsive":true,"staticPlot":false,"scrollZoom":true},
    )
}

        });
    </script>
</div>


<h3>Visualize all the principal components</h3>
<p>Now, we apply <code>PCA</code> the same dataset, and retrieve <strong>all</strong> the components. We use the same <code>&quot;splom&quot;</code> trace to display our results, but this time our features are the resulting <em>principal components</em>, ordered by how much variance they are able to explain.</p>
<p>The importance of explained variance is demonstrated in the example below. The subplot between PC3 and PC4 is clearly unable to separate each class, whereas the subplot between PC1 and PC2 shows a clear separation between each species.</p>
<pre><code class="language-julia">using PlotlyJS, CSV, DataFrames, MLJ

df &#61; dataset&#40;DataFrame, &quot;iris&quot;&#41;
features &#61; &#91;:sepal_width, :sepal_length, :petal_width, :petal_length&#93;

# load and fit PCA
PCA &#61; @load PCA pkg&#61;&quot;MultivariateStats&quot;
mach &#61; machine&#40;PCA&#40;pratio&#61;1&#41;, df&#91;&#33;, features&#93;&#41;
fit&#33;&#40;mach&#41;

# compute explained variance for each dimension
explained_variance &#61; report&#40;mach&#41;.principalvars
explained_variance ./&#61; sum&#40;explained_variance&#41;
explained_variance .*&#61; 100

# transform data to get components
components &#61; MLJ.transform&#40;mach, df&#91;&#33;, features&#93;&#41;
dimensions &#61; Symbol.&#40;names&#40;components&#41;&#41;
components.species &#61; df.species

labels &#61; attr&#40;;
    &#91;
        dimensions&#91;i&#93; &#61;&gt; &quot;PC &#36;i &#40;&#36;v&#37;&#41;&quot;
        for &#40;i, v&#41; in enumerate&#40;round.&#40;explained_variance, digits&#61;1&#41;&#41;
    &#93;...
&#41;

# plot
plot&#40;components, dimensions&#61;dimensions, labels&#61;labels, color&#61;:species, kind&#61;&quot;splom&quot;&#41;</code></pre>
<div>
    
    
    <div
        id=9e03b56e-e092-49c0-a6de-4563190a5266
        class="plotly-graph-div"
        style="height:100%; width:100%;">
    </div>
    <script type="text/javascript">
        require(["plotly"], function(Plotly) {
        window.PLOTLYENV = window.PLOTLYENV || {}
        
        if (document.getElementById('9e03b56e-e092-49c0-a6de-4563190a5266')) {
    Plotly.newPlot(
        '9e03b56e-e092-49c0-a6de-4563190a5266',
        [{"showlegend":true,"type":"splom","name":"setosa","legendgroup":"setosa","dimensions":[{"values":[2.684207125103951,2.7153906156341336,2.8898195396179194,2.7464371973087376,2.7285929818313175,2.2798973610095996,2.820890682180633,2.626481993323822,2.887958565335637,2.6738446867191237,2.506526789338906,2.613142718271059,2.7874339759971005,3.2252004462749833,2.643543216941149,2.3838693237993778,2.6225262031258114,2.6483227324791296,2.199077961430765,2.587346188917741,2.3105317013131357,2.543234907303698,3.2158576949001083,2.303128537663885,2.3561710866839007,2.507917226837883,2.4690559975451256,2.562390946836753,2.6398212683765845,2.6328479080307607,2.5884620513033947,2.4100773371215984,2.647636673396903,2.597159477075921,2.6738446867191237,2.866999846932537,2.625228464680424,2.6738446867191237,2.9818426648539114,2.590323025585677,2.7701389107463275,2.852211081566395,2.998296442832354,2.405514101284704,2.2088329541767084,2.7156651907474574,2.5375733710135098,2.8403212968270117,2.5426857570770514,2.7039123148636532],"label":"PC 1 (92.5%)","axis":{"matches":true}},{"values":[-0.32660731476438787,0.16955684755602662,0.13734560960502787,0.31112431575199173,-0.3339245635684549,-0.7477827132251336,0.08210451102468064,-0.17040534896028986,0.5707980263315917,0.10669170375273883,-0.6519350136725718,-0.021520631960258253,0.22774018887110659,0.5032799094854258,-1.1861948994134486,-1.3447543445598624,-0.818089674596595,-0.31913666775088445,-0.8792440880917363,-0.5204736388059683,-0.3978678215888915,-0.4400317546598153,-0.1416155716255839,-0.10552267842998181,0.031209589068337755,0.13905633991317465,-0.13788731459041761,-0.37468456275010587,-0.3192900659603214,0.19007583063362396,0.197393079437691,-0.4180800082476154,-0.8199826325595077,-1.1000219280072687,0.10669170375273883,-0.07719309572358644,-0.6068000084215857,0.10669170375273883,0.4802500488560765,-0.23605933728887266,-0.271059419765167,0.9328653674695457,0.33430757459077676,-0.19591725769606064,-0.44269603042100353,0.24268148289811342,-0.5103675454766063,0.2205763382764766,-0.5862810253439883,-0.11501085217050533],"label":"PC 2 (5.3%)","axis":{"matches":true}},{"values":[-0.021511837001962877,-0.20352142500549017,0.02470924099895735,0.03767197528530123,0.0962296997746086,0.17432561901640167,0.264251085190696,-0.015801510264315498,0.02733540611450794,-0.19153329973564479,-0.069274995813932,0.10765035324990392,-0.20032778809538895,0.06841362917233097,-0.14450570400963642,0.2837306639397751,0.14531598882161745,0.03339425407069799,-0.11452146479835405,0.219572088000824,-0.2336956070979701,0.21483637027967495,0.2996189815108712,0.045680041274487625,0.12940757589599206,-0.24711633789085946,0.10126307942970227,-0.07235915743602879,-0.13925337377853494,0.046466463645045517,-0.07127507313152599,-0.13838824005004052,0.2305856042541703,0.1635819126236605,-0.19153329973564479,-0.15684235049802348,-0.26116315648170574,-0.19153329973564479,0.07972480735962195,-0.07390123824707691,0.08424157450476338,-0.34096149110714885,0.19900842494724202,0.27071707036883397,0.303487809268269,-0.09051560595006732,0.17191840447685916,0.09006137653041524,-0.01117526783117014,-0.08269572660682165],"label":"PC 3 (1.7%)","axis":{"matches":true}},{"values":[-0.001006157241544237,-0.09960242401682001,-0.01930454283251141,0.07595527410853424,0.06312873271710712,0.02714680369789846,0.050099625062848985,0.0462817609665073,0.026615414325655007,0.05589096599605262,0.016608247824480376,0.1577045691332102,0.00723508673811618,0.021946664123406057,-0.15698096151652843,-0.0019261817096681477,-0.16474079123407795,-0.07611821327962603,-0.025326939656379666,0.06908199117875873,0.015323739565077932,-0.03843950010112004,-0.0018570433474515058,-0.14724549964040146,0.30162026533219227,-0.0353840812676862,-0.055970452376662407,0.015240286774595472,-0.06514104720019559,0.1246111533664709,0.06047626340781955,-0.23084416997707422,0.28480895426345837,0.09895807058361666,0.05589096599605262,-0.1624528057160685,-0.1758798748419559,0.05589096599605262,0.01105295083445786,0.014556306249653131,-0.09236465729576597,-0.32265060661305695,0.07587182131805155,-0.17378512921102926,0.1858575300726529,-0.14298902533804753,0.19216594594983485,0.06039281061733709,0.04833370254133499,-0.03409957300828376],"label":"PC 4 (0.5%)","axis":{"matches":true}}],"diagonal":{"visible":false},"marker":{"color":"#636efa"}},{"showlegend":true,"type":"splom","name":"versicolor","legendgroup":"versicolor","dimensions":[{"values":[-1.2847945878450686,-0.9324107529829146,-1.4640613227790724,-0.18096720634769548,-1.0871344872069977,-0.6404367495231423,-1.0952237099384754,0.7514671406482301,-1.043297780706278,0.01019007072785642,0.5110861958950939,-0.5110980606834744,-0.26233575615317706,-0.9840445451694279,0.1748640019656992,-0.9275729420326969,-0.6595927890561973,-0.2345405862598324,-0.9423617073988387,-0.04324640032870151,-1.1162407237538126,-0.35678656783045815,-1.2964688502855308,-0.9205026489090061,-0.7140082136428301,-0.8996408632837731,-1.3310414188547166,-1.5573962720706993,-0.8124555489979989,0.30733475566340734,0.07034288894927478,0.19188449210314884,-0.13499495045137022,-1.3787369827755795,-0.5872748535799077,-0.8072054966767134,-1.2204289662446766,-0.8128677903690666,-0.24519516169034286,-0.16451342836925262,-0.463030988871421,-0.8901604456511532,-0.22887904996964448,0.7070812839208638,-0.3555330391870603,-0.3311269473327197,-0.3752382289467627,-0.6416902781665401,0.9084633331234983,-0.2978079074069309],"label":"PC 1 (92.5%)","axis":{"matches":true}},{"values":[-0.685439186132919,-0.3191980898336484,-0.5041898329724522,0.825603943576114,-0.07539038928876649,0.4173234829700255,-0.28389121093848035,1.0011075129743945,-0.228956908777006,0.7205748667019016,1.2624919538621415,0.10228410504597052,0.547893298025338,0.12436042022227806,0.25181557108017094,-0.46823620504311625,0.3519762910603161,0.3319218293621206,0.5418222581500156,0.5814894466123592,0.08421401387837311,0.06682382794136703,0.3275615197949451,0.18239036332792105,-0.15037915314843633,-0.32961097958188296,-0.24466952060228822,-0.2673925848127641,0.16233157487863356,0.36508661276616117,0.7025379317307265,0.6774905443743579,0.3117096427033968,0.4212051382146284,0.4832842677174817,-0.1950539637711119,-0.40803533700101685,0.3706789983189112,0.26672803566184783,0.6796614693108143,0.6695265465361224,0.033812442746762775,0.4022576201789119,1.0084247617784616,0.5032184874026624,0.21118014066262641,0.29162202480877975,-0.019071176491270186,0.7515687251694863,0.3470165215985641],"label":"PC 2 (5.3%)","axis":{"matches":true}},{"values":[-0.40612955307696436,-0.017129909205126047,-0.33826072771796,-0.17708285639336344,-0.3065444648144317,0.04118876935364355,0.1700225337414987,0.015672194238161383,-0.41481456614870466,0.28343724625412636,-0.26648995382244794,0.13232789047497384,-0.6919415783189639,-0.062157427613539686,0.09365863819195112,-0.31322940056857773,0.3283842970693473,-0.2702806708356944,-0.4973485411777028,-0.2329635564825224,0.45984422657275276,-0.22747218032088293,-0.34751321258425005,-0.23161141855267145,-0.32037233282926997,-0.3147714813796259,-0.5212449247379853,-0.1646384908522291,0.036343576344490494,-0.3153371969389193,-0.24175804484226707,-0.303916543463624,-0.17497330378776485,0.015480495121707804,0.44458375303487013,0.3894587113862014,-0.23656608684982874,-0.6128710500606722,0.1895624847292414,-0.05779923880574329,-0.02405389088980984,-0.009768026368425723,-0.22736270503287886,-0.10206934253841014,0.017889465896507577,0.08380907322251469,0.0790733555013655,-0.2041728768637466,-0.007736584506978684,0.01217913915885933],"label":"PC 3 (1.7%)","axis":{"matches":true}},{"values":[-0.019290116855346928,6.7579417092155425e-6,0.0008576440476166973,-0.09578444837158,-0.1133845390093389,0.24267131206866602,0.08497338932826681,0.016510592154630372,0.03752355359176743,0.005945701975094981,-0.048908806063423314,-0.05010053515659482,-0.06148498908340307,0.16901066987095192,-0.124940886569629,-0.10043888414556286,0.1889915251929507,0.2119849952922842,-0.260636685042551,0.03956118073832922,0.07721355961071756,-0.12409000046372172,-0.0032462391020382326,0.28682534670531873,-0.0429412331735061,-0.1011228646705052,-0.03750504965583185,-0.07035309510364117,0.029680271083736092,-0.07653037763062266,-0.009094698519607529,0.018045458785480535,-0.03418291424986754,0.17758073696002458,0.2524424346266593,0.11661539125463867,-0.031635243984662664,-0.15770049117443868,0.14732804233713803,-0.03096557788798614,0.26844350832386915,0.15344820637975456,-0.018620450758670377,-0.04762429780402084,0.09807163534474167,0.23868654239135972,0.13116505111148083,0.020509676260202742,-0.2335586342743453,0.050783717136689596],"label":"PC 4 (0.5%)","axis":{"matches":true}}],"diagonal":{"visible":false},"marker":{"color":"#EF553B"}},{"showlegend":true,"type":"splom","name":"virginica","legendgroup":"virginica","dimensions":[{"values":[-2.5317269804395552,-1.4140722251737543,-2.6164846082840407,-1.9708149459064788,-2.3497579839509393,-3.3968799206781344,-0.519383245084933,-2.932005096991298,-2.3196727938740502,-2.9181342336442486,-1.6619349470194837,-1.80234045266073,-2.1653788629533945,-1.3445942175098213,-1.5852672993086407,-1.904743578213909,-1.9492487818644948,-3.488765379656383,-3.7946868612099673,-1.2983298245678125,-2.4281672590208454,-1.1980973722749595,-3.499265484298954,-1.3876682501815527,-2.275853649305691,-2.614193830698331,-1.2576251829251333,-1.2906696477375985,-2.12285398050831,-2.387564402369025,-2.8409609252853807,-3.232342898295872,-2.1587383731331315,-1.4431026043759716,-1.7796401068985666,-3.076521621020659,-2.144986856709301,-1.9048629251371285,-1.1688534694704003,-2.107653731173266,-2.3143033946295453,-1.9224508848357498,-1.4140722251737543,-2.563322712340806,-2.4193912198049774,-1.9440170488777344,-1.5256636313138694,-1.7640459355269797,-1.9016290752882297,-1.3896661333194136],"label":"PC 1 (92.5%)","axis":{"matches":true}},{"values":[0.011842236640299902,0.5749250559123048,-0.34193528698729403,0.18112569470491358,0.04188254965484196,-0.5471680462301518,1.1913516890506526,-0.3523770061808593,0.24554817060691098,-0.7803806293720319,-0.24203840103752206,0.216154606626537,-0.21528028337300656,0.7764154251768254,0.5393070538471724,-0.11881899098269824,-0.040730259427767715,-1.1715445442635644,-0.2532655709725332,0.7610139365215085,-0.37678197125415197,0.6055789617645944,-0.4567734669640737,0.20403098657015567,-0.33338652575664224,-0.5583669502788221,0.17913699742322348,0.11642525182937262,0.21085488454949028,-0.46251925072625993,-0.37274259104902013,-1.3705240359763335,0.21832553156299372,0.14380128908272644,0.5014647947060152,-0.6857644422460552,-0.13890660887731482,-0.04804750823183475,0.16450249981509,-0.37148224917710493,-0.18260885079369804,-0.4092711761786943,0.5749250559123048,-0.2759745022398379,-0.30350393770262857,-0.18741522204601285,0.375020848191824,-0.07851918642935689,-0.11587674824796598,0.2828867091722688],"label":"PC 2 (5.3%)","axis":{"matches":true}},{"values":[0.7584586515284948,0.29639822430521356,-0.11214137055436743,0.10653914864984473,0.2841106808661669,-0.3518731576273032,0.5466855311249499,-0.4236912783368991,-0.3499221833590499,0.4217389336137662,0.24281526346759294,-0.037695328493964404,0.03314818319913319,0.2828680182243197,0.6305704884623275,0.4801380797657289,0.042729093929435406,0.12932008336177175,-0.5169707159938954,-0.3448870474686992,0.21864907004670503,0.5126407650398155,-0.5769101867216502,-0.06351132177864743,0.28467815266071667,-0.2084233466187957,0.04697780744922773,0.23161356056830587,0.15351588509125524,-0.4520239614491295,-0.5010315391382025,-0.11844877739516144,0.20842197616391614,-0.1540829711054281,-0.17581118605670523,-0.3364227412082239,0.7341847390548598,0.16047063070600692,0.2824608810023712,0.027437856461485284,0.32286040074238315,0.1154928159607186,0.29639822430521356,0.29125361312685905,0.50430251695136,0.179302870681128,-0.12063644074491074,0.13078405342866892,0.7228735608675682,0.3623178316312208],"label":"PC 3 (1.7%)","axis":{"matches":true}},{"values":[0.03259956851445262,0.015695478279487918,-0.06595604952643967,0.23685862488186174,0.0013127240036103674,0.11121996802024645,0.09879841992578296,0.2554073688442764,0.07626286251324464,-0.10772931947885239,-0.1194475845675903,-0.07871345255565047,-0.1626672803078529,-0.14048189225832752,-0.3274553666691248,-0.2171145004989933,0.1578452519569559,0.31162983793267957,-0.05645164354097663,0.04267371805612808,-0.183854179151289,-0.059500030549076134,0.13775959759087447,-0.16376353673269003,0.062230277600380246,0.24044543308753935,-0.14760054550703333,-0.003084321573590602,-0.05261243319103545,0.22990687721412095,0.02021662538155483,0.2544873443761525,-0.12772448922911736,0.1899258640893402,0.5035294527425076,-0.31058909243774185,-0.051766535137644926,0.22198014191560714,-0.019330765589730636,-0.20995519851590444,-0.2758966597304533,-0.5040950067910506,0.015695478279487918,-0.05618492696844616,-0.23821794655194728,-0.4250816338661442,-0.2557225645213719,-0.1362945563181899,-0.04087282184869651,0.1563103853261058],"label":"PC 4 (0.5%)","axis":{"matches":true}}],"diagonal":{"visible":false},"marker":{"color":"#00cc96"}}],
        {"template":{"layout":{"coloraxis":{"colorbar":{"ticks":"","outlinewidth":0}},"xaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"hovermode":"closest","paper_bgcolor":"white","geo":{"showlakes":true,"showland":true,"landcolor":"#E5ECF6","bgcolor":"white","subunitcolor":"white","lakecolor":"white"},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"yaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"shapedefaults":{"line":{"color":"#2a3f5f"}},"hoverlabel":{"align":"left"},"mapbox":{"style":"light"},"polar":{"angularaxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"autotypenumbers":"strict","font":{"color":"#2a3f5f"},"ternary":{"baxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"aaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"annotationdefaults":{"arrowhead":0,"arrowwidth":1,"arrowcolor":"#2a3f5f"},"plot_bgcolor":"#E5ECF6","title":{"x":0.05},"scene":{"xaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"zaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"yaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"}},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"]},"data":{"barpolar":[{"type":"barpolar","marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"carpet":[{"aaxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"},"type":"carpet","baxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"parcoords":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"parcoords"}],"scatter":[{"type":"scatter","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2dcontour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2dcontour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"mesh3d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"mesh3d"}],"surface":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"surface","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram":[{"type":"histogram","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"pie":[{"type":"pie","automargin":true}],"choropleth":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"choropleth"}],"heatmapgl":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmapgl","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"bar":[{"type":"bar","error_y":{"color":"#2a3f5f"},"error_x":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"heatmap":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmap","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contourcarpet"}],"table":[{"type":"table","header":{"line":{"color":"white"},"fill":{"color":"#C8D4E3"}},"cells":{"line":{"color":"white"},"fill":{"color":"#EBF0F8"}}}],"scatter3d":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"scatter3d","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2d","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}]}},"legend":{"tracegroupgap":0,"title":{"text":"species"}},"margin":{"l":50,"b":50,"r":50,"t":60},"dragmode":"select"},
        {"editable":false,"responsive":true,"staticPlot":false,"scrollZoom":true},
    )
}

        });
    </script>
</div>


<h3>Visualize a subset of the principal components</h3>
<p>When you will have too many features to visualize, you might be interested in only visualizing the most relevant components. Those components often capture a majority of the <a href="https://en.wikipedia.org/wiki/Explained_variation">explained variance</a>, which is a good way to tell if those components are sufficient for modelling this dataset.</p>
<p>In the example below, our dataset contains 12 features, but we choose to keep the minimum number of components needed to explain 99&#37; of the variance &#40;see usage of the <code>pratio</code> parameter below&#41;.</p>
<pre><code class="language-julia">using PlotlyJS, MLJ

boston_features, boston_target &#61; @load_boston

# load and fit PCA
PCA &#61; @load PCA pkg&#61;&quot;MultivariateStats&quot;
mach &#61; machine&#40;PCA&#40;pratio&#61;0.99&#41;, boston_features&#41;
fit&#33;&#40;mach&#41;

# compute total explained variance
explained_variance &#61; report&#40;mach&#41;.principalvars
explained_variance ./&#61; sum&#40;explained_variance&#41;
total_variance &#61; sum&#40;explained_variance&#41;

# transform data to get components
components &#61; DataFrame&#40;MLJ.transform&#40;mach, boston_features&#41;&#41;
dimensions &#61; Symbol.&#40;names&#40;components&#41;&#41;
labels &#61; attr&#40;;
    &#91;dimensions&#91;i&#93; &#61;&gt; &quot;PC &#36;i&quot; for i in 1:length&#40;dimensions&#41;&#93;...
&#41;
plot&#40;
    components, dimensions&#61;dimensions, labels&#61;labels, kind&#61;&quot;splom&quot;,
    marker&#61;attr&#40;color&#61;boston_target, coloraxis&#61;&quot;coloraxis&quot;&#41;,
    Layout&#40;
        title&#61;&quot;Total explained variance: &#36;&#40;round&#40;total_variance, digits&#61;2&#41;&#41;&quot;,
        coloraxis&#61;attr&#40;showscale&#61;true, colorscale&#61;colors.magma&#41;
    &#41;
&#41;</code></pre>
<div>
    
    
    <div
        id=d0d02175-e61f-4df0-91e4-0aa4f366780f
        class="plotly-graph-div"
        style="height:100%; width:100%;">
    </div>
    <script type="text/javascript">
        require(["plotly"], function(Plotly) {
        window.PLOTLYENV = window.PLOTLYENV || {}
        
        if (document.getElementById('d0d02175-e61f-4df0-91e4-0aa4f366780f')) {
    Plotly.newPlot(
        'd0d02175-e61f-4df0-91e4-0aa4f366780f',
        [{"type":"splom","diagonal":{"visible":false},"dimensions":[{"values":[-119.81884673108138,-168.89015955652968,-169.31171157094442,-190.2306464259529,-190.13345517374884,-188.9505807052423,-104.33600054203876,-102.09431230562969,-98.52827534046337,-100.03015895824588,-100.93997471215371,-103.33559784306034,-105.08279487356063,-108.44912658292968,-101.58730909738209,-108.51337110185915,-108.2652024964686,-103.67445657921279,-79.04098665397302,-105.9940582057316,-99.17536292063112,-104.74609192788478,-105.68626868575336,-104.2857616330673,-104.809285898666,-79.02965108090973,-100.08353484899904,-79.61186692525654,-103.0039739778923,-101.36336239287176,-94.70422948074179,-99.24618745888112,-58.43935708035542,-94.31521088854429,-61.92942546039568,-134.50861045010618,-129.40449397732223,-136.76570629021583,-136.66581916084337,-167.25017775826012,-167.80308105644536,-180.50793498942286,-179.58103593324253,-182.78114071138708,-178.45543598226672,-181.13992133001057,-181.09096641049632,-175.4100893064821,-175.5261265442353,-178.64899198722807,-171.10922508698027,-169.29306564051814,-173.74596061045378,-173.6481106763242,40.90524701507331,-192.64912144676717,-109.06396762749726,-162.1844017847912,-132.277230915208,-132.5245112055289,-130.3243837124383,-123.05743914987329,-130.86112754968497,-132.45866383856497,-195.06858413660504,-87.39925365250367,-86.15831199125064,-76.18424447549629,-74.9801340396217,-75.3971542918394,-111.11987575989212,-108.15579686838774,-113.13748622631356,-109.22078263125883,-25.995348697752664,-19.280926487929822,-13.954105061894563,-20.267111234466345,-19.402895415099227,-23.715959423586533,-136.7939927813114,-133.29355718766166,-136.86954394575184,-133.81557787328114,-166.7369447019884,-164.7886439716387,-166.6373509969702,-165.51071375723456,-141.8554005160868,-143.54662900388038,-142.0917401250898,-141.85256803901316,-144.77894133808627,-147.27395791134705,-143.2908900691752,-127.19165167953841,-135.95458311020175,-137.06144923041305,-139.36564997981347,-138.14584201602665,-33.101472302841955,-34.101254071759584,61.73256025005895,-32.29458722467917,-31.584455713363816,-31.322956704713413,-32.14546112194393,-30.487664918676522,-31.73541710496455,-30.982291701610478,-34.78271551739592,12.471555867471153,13.74552376117695,13.408331231377822,14.695019487708153,27.915366231853007,12.421699360936767,12.874738521849137,28.47118034879094,12.372103704109199,-218.0153121243146,-213.46977737150974,-212.77074042672646,-209.98780722146054,-212.9111193273471,-215.2340040814508,-206.84476618248908,19.876619919543764,18.6754801130281,18.416378546454656,19.15988710697089,18.534200281185466,21.750858910354296,20.770296737284312,57.76648095489203,19.315701047807295,23.697568299386024,19.445424670453736,20.176075143274993,18.67833545483249,21.01095104964399,19.254501554303918,-13.217659772539724,-13.204759936676375,-13.360417804165415,52.005780889441304,52.803373200369904,-12.031943335258296,-2.1093594598269187,-0.6667686465676577,-6.7684927004010556,2.5208381856468027,0.9908773347830224,25.667093674483155,8.21749820044961,75.01348270611847,75.78124911249232,-4.265069818197599,-1.221876224882503,-4.232395303287659,2.4949218410212044,-8.08030019004958,-11.867721128794678,-11.86809791826816,-13.769924013446856,31.433349636579827,-6.0745149150687725,33.953861338642554,15.125819662327027,5.463152867302194,16.440978440606614,0.38273837692302043,-116.61133756696354,-116.70395229607419,-117.31700564414685,-119.73632990076887,-119.11054677802167,-117.69643340741112,-116.33501035202607,-217.3073550710605,-214.77693177044313,-216.88554960747018,-213.6743886386684,-214.17989457587143,-212.756652398151,-213.40237889850664,-216.48230514606374,-25.00105739222303,-22.84462351965926,-26.102471662059383,-21.97920486092502,-24.714562393025965,-25.359820108695835,-154.68198020021964,-149.09793213867988,-163.44001305241082,-93.81512931148666,-81.09871324203368,-92.0369211130085,-26.63308799139685,-23.083934369041387,-74.49684307507046,-76.96536542467057,-192.9252349863764,-192.4065298798561,-140.13844243336248,-137.01970309244456,-133.58211997118775,-132.43873301842447,-133.349876203734,-133.08955161804423,-133.79990457043897,-135.64554891395642,-136.10712426135993,-126.7781335524799,-137.5357789605301,-136.8861504949422,-134.53642242726033,-134.81432163493366,-134.18489686512837,-104.56063905492226,-105.08664327456488,-105.0721691092548,-106.76215029324938,-103.60789781734769,-102.30969816223286,-103.62370133296385,-99.64402215622444,-106.54687478847043,-107.00117489142283,-102.33342697201753,-101.10453700007707,-104.31348869680225,-102.50100341477057,-97.26757125245702,-102.443169413825,-104.62498807149454,-105.61802982460105,-115.02852824527277,-114.29571528714739,-115.36783911281975,-115.42187383550929,-110.10531853574969,-114.58564777890545,-79.10228971748111,-84.33876094016493,-87.80707603958105,-79.99502172939357,-82.11008620575258,-90.36226914007226,-91.4918453127627,-86.2912154467453,-89.10939161913389,-92.11654111143075,-106.0368169745961,-107.72119361126452,-171.78552757602293,-146.13842631965574,-143.1123470328553,-145.64928380951852,-147.36755868586346,-145.49603111382308,-144.91404514086696,-146.43945396199717,-145.15076985601647,-148.81114484837403,-144.46446207174972,-146.2514200860543,-149.23445776787386,-187.4839176322997,-188.33511713170793,-193.04694693608047,-188.90814769682393,-188.2925487277045,-163.1362356236584,-162.32107878786258,-159.5079332491569,-162.5654255038803,-163.11857493343132,-198.43594304290113,-192.97699169993396,-196.6765168303629,-191.25234045858508,-219.10446303234787,-136.42008556564548,-119.73087958250579,-161.32026651919753,-126.65981478126949,-125.45321386719816,-119.97536991914083,-173.89023997681602,-173.90074058260257,-174.23485569429633,-129.05257076153887,-127.01185284257285,-128.04570315141675,-125.17832761330584,-125.57737101757422,-58.474716892518735,-60.29844100044804,-62.75486007107031,-90.43714005417729,-88.75893956286112,-90.89136143686927,-191.50186182046332,-189.93602245490976,-189.86780267586607,-189.97793053163662,-109.61286755407863,-109.7831768170517,-99.5683993008979,-112.04998959780795,-108.61558647350626,-108.4942716679363,-108.75571612906832,-109.72488334218087,-107.44112554314808,-110.26550427947677,-110.27055162765407,-111.21635465836417,-128.26017629919684,-128.10001218342333,-128.4447839098525,-124.63268296439384,-129.30137481842328,-130.52075490304043,-130.24292343764247,-128.85436431437267,9.4269199199398,10.752328091815365,13.975931551217458,-114.92930110701683,-106.21019552264298,-187.2970322083147,-187.149138667065,-189.63541461728522,-188.60248118992985,-186.86673344088658,-189.16096299090592,-188.6759083944288,-187.5904216031431,-132.68703776637372,2.256186817832064,-51.61215513898523,-51.44223982994405,-63.694815975447526,-57.202555450802876,-72.13352995171499,-138.81916786996132,-84.26755228438823,-85.48911066381527,-7.168625327694535,-14.846233714242885,-225.17241916279838,-85.75530033976254,-84.04273952878509,242.72154986638495,237.97034855182713,236.14107895369582,237.33243201519457,242.50055616166858,249.85066853809994,241.40575081930933,249.00373350486288,247.81388956200163,248.2700580688113,259.9543313723325,314.7107430714304,243.14048019544515,242.9594183096939,238.1571982655543,246.139646208905,250.54790684326164,237.82023710820943,238.11130728569464,237.40053811454794,246.98114330510444,237.36840715150714,237.61249733607218,238.6375345147412,239.01724896900467,237.56633487745142,237.5042902207182,237.4916480942961,269.5968145687348,237.73550880936406,238.05895857334684,237.21254497444025,244.8002632013747,237.31806947100088,237.75613623505296,241.204484766433,237.37049808752462,236.67394851578845,237.0152074199688,238.6722255073773,236.97393487596335,238.38950917637558,238.51980396383829,252.9214755110365,238.04106418490963,237.57605888633515,243.49381130333254,237.5387632455213,256.9571072728342,242.68588682422856,245.61006336028498,256.19781612606556,261.29697897031025,300.92134061574524,353.25202463105796,342.9685880271633,345.23498231403977,292.14051048029853,328.76179978074964,345.536203168119,346.13337593423404,315.64812642541114,350.1132401356578,337.0682763774496,260.1189974419582,259.2646043986828,267.0103645104177,351.0356006951122,349.4045625327372,350.67868985945967,342.44498027930763,346.4500612478518,322.98362764946467,335.0500644469429,327.46302573263984,328.85844050501646,322.1055231861531,322.61893125635737,323.30549841862046,320.69235621930426,344.54514330170366,350.61275450207586,332.3660576927602,236.98192929533263,238.79632665290296,240.37399638511565,237.58912132280614,240.37613718959074,282.8685426879903,340.16263876697974,259.9550572834539,239.51281936645543,237.26900650491197,264.2030764286734,352.156876870141,249.22054497054887,239.98647485935626,243.37728522021834,350.5401209023009,336.86883218389585,348.7802297261933,350.2320413837127,272.2331916729557,235.91741934268495,277.62394631611073,237.75335617406446,235.779371229191,237.14340830653867,234.32305110148044,250.96945222545585,345.08408391003206,255.9523509685826,243.33207739330211,233.78562845649768,235.84636461865952,236.77583657311538,236.05511082131324,240.85050470949773,249.8624691408551,264.6268832519347,236.9247562668634,251.2859258988088,242.13543882462346,240.36226138220695,234.14544737568195,236.041666648453,235.55674782250364,233.16457653014214,239.8169900846216,235.4157741844414,236.73003545778698,235.7009727390427,279.1383012342045,294.60746648661404,302.1750412026108,281.09671411724355,277.7300308425926,-29.111136872386183,-30.025451800116926,-30.041676603650245,-27.31994751891409,-27.675537182392087,-28.143815188113106,-27.0801359800952,-26.90816736200443,-138.6979368086116,-139.50444325522477,-138.38716706068197,-137.50517738715087,-139.19033696854575],"label":"PC 1","axis":{"matches":true}},{"values":[-5.560063775911761,10.116200848097398,14.080524280437777,18.30245495666465,16.097939193900416,18.729154400893947,-8.735517047921887,-10.108036907713585,-0.24791634891350695,-0.3176753112319021,-5.90141743909487,-10.066554179770668,-3.6821872610219244,-8.82430334846865,7.197680791654689,-7.568983877687657,0.9643516141007844,0.8049061213264033,94.52177873846813,-3.161437931905114,10.484399500356218,-4.7692239591603585,-8.931248424529391,-6.717174573346381,-6.504700729581747,80.47145612304786,10.1933390075312,77.62879465268465,-0.4162289868996494,6.993342748826811,26.19716207130896,10.275519078123034,148.27754364646876,27.506131430285873,133.12964955030787,-0.662891147732533,17.87872520630754,-0.5150707151435464,2.8760275136512057,8.804343359083004,8.834941283374063,24.137461923289347,26.07236531465289,15.478430164505813,20.146435774106386,13.004769284064116,13.030504272573774,16.736891246762138,12.772361277536012,12.87858401026797,11.33787228060859,12.735769925900112,10.150210808398713,10.166447843498865,-55.96132499742665,16.133586650975104,-10.282912700138438,10.16528803288601,4.038066359516822,-1.9995034494035921,-0.37365899003210823,15.761972594549603,-2.1314023808941864,-0.7131537576176008,21.36291380091069,-17.238517823649655,-17.28263409829072,-19.01866807334705,-19.737366165104312,-19.740362579839523,4.64850643458087,11.097125389292945,-2.2307637568731944,10.92872046290589,-33.25899445665342,-22.29176088158662,-13.292569776127337,-25.855474784985606,-25.353126752716054,-34.51079180315658,-1.0296341679506826,-0.015328869660660199,-1.0141336059276942,4.893080643295822,8.836219875334542,13.170490310721968,9.741372259789838,10.452049533763702,1.8834647834759572,2.8205706900748746,6.5309225909492685,5.172747504181496,3.849996894608089,2.71776403769307,1.9211252975431676,37.51568709200451,5.1082827731797655,0.18343925975219216,3.6254737269569306,0.271524283300033,-29.404299652228577,-30.149428771647667,280.33585281145633,-29.14655987294904,-27.46641154558587,-28.781554547105948,-30.290180516281268,-22.64806717284525,-29.945608135617388,-26.057790835877245,-28.02384743706726,-44.24720720510876,-43.66528205918728,-45.538271801465726,-37.71061724027126,4.20665805549833,-41.9946106293419,-43.21934199761654,10.295344580395799,-40.222721801245136,33.30321385335346,44.19723205420559,43.766474084189376,51.2255293148608,42.51436571263238,37.14838309368921,61.782744954510385,-42.47338706188262,-47.07917528761451,-47.035224729406615,-45.317126515330195,-47.08502319429941,-36.44487445668333,-39.2115137165265,81.2005283855798,-44.93278489502122,-29.20751326406616,-44.38486990511358,-42.39526999184119,-47.05501205699507,-38.56572289744429,-46.968308101177215,-37.03962808485968,-37.03670221987228,-37.016577702513885,177.1349275834735,180.54947576159745,-32.043291821384585,1.1590599966902122,6.030748921665402,-14.064316307752572,15.74699661196818,14.19999035089071,91.93431371411491,35.45846498005174,258.34835287409857,257.68916166160415,-5.162818853019771,3.9553090172030205,-6.0018419532359415,18.305933796732994,-15.657699224971632,-30.21116123673911,-29.071157593642575,-35.37532639912632,112.77201697183466,-10.768198845164395,124.85696535961313,58.322214295986136,26.823566198870235,62.93233378819092,9.517286733952313,-5.704943403339689,-4.3736858737903725,-2.11180273368956,0.23787439361361684,-1.9857938824724195,-4.423983305104727,-0.28567236828534337,24.551625811853604,25.705261917928354,24.55500022144316,27.015360292361326,24.34257739976262,30.064686373098933,33.89976668688401,28.659012234318254,-32.34818510610936,-21.744564361431955,-35.239806880626254,-16.763480786532234,-28.32213763161489,-29.05242627126435,7.243077316142778,23.127807150892306,9.219533439244573,-14.9600603570173,25.775466731276495,-10.475418308051633,-36.197284029071284,-24.142064928251237,-17.533934232785935,-18.967954518980147,19.674401977986488,21.808726422670286,0.17933701826829784,1.9490681271696073,7.075936373955144,14.888065083418596,-0.19305149030212612,3.307133730046972,1.4641250238017902,5.728078982800778,10.717766126760798,46.2272996624556,3.1834692939238436,4.194171968798657,4.025290174820157,0.08333463544506288,3.070429753994542,-4.014457264023749,-7.34748579143198,-2.6969003718888223,-8.952967520742792,2.3705965405129024,5.264456573806088,0.0904233643446124,14.776263026381233,9.929559048487818,7.198009294214542,8.879604255044116,10.905525298748554,1.5693556864939069,8.247778147779284,26.222346856398406,10.441474691997657,-0.8377599878591566,-2.386265149251767,10.225080297531719,5.916886956184908,-1.271600369686829,-4.550189933327385,16.424809576748242,14.774179370984909,7.7453434535365435,-8.09517105552942,-8.949583211229829,4.226484564373918,5.762215354718921,-12.269862205185781,-14.67718893259023,3.701653557282526,-4.911579510121897,-15.254601335728909,-7.016896918256153,-9.117444286173736,19.968881973167452,10.527550098519612,16.59697999641157,8.330262902155425,7.617438959715081,11.796476421604746,13.220786694165565,6.963440513749587,12.247615490737788,8.114429341948199,15.980437736230199,15.588547581780459,10.13827175542189,21.127148616254505,23.80808914966025,16.02949759862557,17.64804179213169,21.688586878412554,6.871767845371278,6.812309890051536,14.109709873054182,10.204887892815197,6.897530623048502,17.985822299457926,26.963886858480844,22.4203795997794,36.8358316939593,24.73154974791898,0.09423081204853781,-4.39099466093225,63.707772308418306,-4.495893404880817,-4.574984839920901,19.642628516899922,9.581351602834314,9.584219864935745,9.614926744817923,-3.330056817740461,-3.4563746770520596,-3.4153795572646417,0.3491828538326241,-3.514240940791102,4.002801422635917,0.8658228798504548,-17.775826071282676,-13.994819803202466,-2.2653333709436807,-8.804225018341654,19.265330756423392,19.48510148134663,16.00739841793445,16.022316813726203,-8.090282186915665,-7.395972905534182,36.640209687411506,-7.910464341551728,-7.522309935727274,-4.7180727567517415,-6.93418452693442,-7.565422827723092,-2.087626641813198,-7.96444521244981,-6.353841493810327,-7.266851375924947,-2.932210085917904,-2.9454831606737764,-2.9144455741759816,2.485817850505793,-2.8674079462116575,0.3501022981720703,-2.8031862697094487,-2.850084498338246,-30.717023789496928,-23.769615790489283,-17.496302488505055,-4.893707461424887,25.486819301630955,22.446000034140578,22.746206042923408,15.604756027782805,15.54719057601678,17.474001951231784,16.317863447074487,15.55202705704268,15.474505092178383,0.13281120037289695,-35.734444447233585,-27.138401208953713,-18.45222693387495,-11.096848837337454,9.002385679797463,-17.106870638024372,5.072048850200742,-10.019978808456615,-16.817128330652555,-14.018909901177658,-34.51206698433588,38.42114225233277,-2.8895922194404946,3.574143417403751,-95.78280314079574,-108.81879741848182,-112.68741340516688,-108.1903989374478,-92.78390279979409,-69.90728952671564,-98.78027562029874,-72.17567971879069,-73.64242871385305,-73.79871348174241,-36.80872726520813,139.7237198807973,-93.79519689674676,-93.58671861219061,-109.57664334509202,-84.77032511188155,-67.2517155283891,-114.01528173317583,-113.94784007812257,-114.06865961542688,-81.6194683654636,-114.09425581807042,-113.97319959940825,-111.02304089480964,-113.55010075325437,-114.05657903988691,-114.09213785689745,-114.09458968440076,-7.726067119205054,-113.98898737124613,-113.96410474453432,-113.89445854841205,-91.0883585667933,-114.10860785070884,-111.76528297400651,-96.33701496703618,-114.04714702967263,-114.10171039690279,-114.07559527835939,-109.4209766411114,-114.11539716235212,-110.4835871574944,-113.85740310999078,-57.75736427343019,-113.96793209755627,-114.07709103212859,-94.2290546147939,-113.98723548015995,-49.28629258874435,-102.29681596794893,-88.50651170735529,-52.169871610845966,-35.420465620676765,93.9288085579187,263.1318123751547,231.92089556186525,238.01343566729204,63.799903420266965,181.3344816172623,239.45118826349443,244.86791214097914,143.82833638377573,250.0988984278201,219.23654869447964,-39.40301860975123,-40.57555212493541,-13.32309439382007,263.07594280891254,262.05451380407993,258.1480869549869,242.0517353098066,247.68035699945045,173.02613604486896,207.38604774412107,185.663657610838,187.66631962379847,171.81777208199384,169.61941838772262,169.2074613884884,160.42224117156942,239.1722436002721,256.5610481261688,199.64679162881413,-114.05990840698792,-108.76006825283696,-103.63495811236761,-112.99866481243347,-104.38948962936222,35.480266169809795,224.28512208669576,-38.69082342095694,-106.09578136450064,-114.11481952825952,-25.489315355116215,265.10100813456745,-74.35331383930641,-102.81599046236664,-94.02449147187926,259.0371382262448,216.7440100947665,255.40830889611,262.1376087128204,5.1759249826784,-114.06950411287949,21.35738986109654,-108.88304593640149,-114.06647036058465,-111.18772231012589,-113.96225642475642,-54.12860525459955,244.38526530881447,-51.370070609498484,-86.98847396174625,-113.86890591464831,-114.07425597315647,-112.63314060570156,-110.66371903700566,-92.75866962015145,-71.72666438184106,-24.077719179235412,-113.45229975843567,-68.68803139758592,-97.65165044834814,-101.06432941886291,-113.98581757457545,-110.39993596461991,-112.52902730599742,-110.062416731937,-88.84011113832841,-106.01043099238721,-110.01357737506301,-105.6230774725537,-125.44520315014441,-76.63953006154652,-52.10746972241233,-120.71836396128074,-127.15037488078882,-33.3444828953616,-33.26934607962811,-29.716054860688796,-33.3991757326216,-33.426575628263265,-33.40333579424318,-32.35777992942305,-33.47767120613713,5.781477186955231,1.039381012125895,0.938084723390883,4.25181762382365,1.0090566008790862],"label":"PC 2","axis":{"matches":true}},{"values":[-3.1727664679833545,-30.78197647238697,-16.75371478418629,-6.534282087383349,-13.158608319925374,-16.486291771558477,-7.3808673544187124,-30.315607465917655,-34.019620292531606,-22.147547180467548,-28.954619314798716,-19.780360142954844,13.291046130493607,-11.819348345973323,-28.77583824518479,-7.812544207147673,13.124617935952196,-27.238774440486424,9.40726884067616,-17.82288119300746,-40.01264865847209,-32.97793275741278,-35.42964194390157,-41.748806524621905,-36.934937288648655,-28.46316797882985,-33.500054778910425,-30.946827990683158,-36.68128511953275,-31.068375036183973,-36.72775665663201,-40.69354971426427,-25.063051370085244,-37.000900249050225,-36.02367284134269,-19.255641270811207,-13.820689940282712,1.0356835939152664,9.52798867972606,61.64288724511383,66.39749468885108,26.53916046699838,23.697480188746738,23.36042846542308,-2.0376531632019357,2.3801016795714105,2.3925671575181773,-37.36990114096922,-45.98543891182014,-19.447730073226477,7.552535104244814,-5.112001539171604,26.876641664048087,26.355072168968405,61.466744516789895,68.88262302644438,63.399952288293505,64.12328695408104,27.200332185543953,13.188897965794775,-1.4833401317088983,-21.778834429731642,-2.135070254083786,16.11726726810958,-6.60368018436765,75.79028309609625,65.21774801858115,30.520204055070543,18.39817795067014,21.671104308337355,29.988874954507693,21.61363715682956,29.022352125110764,30.36762573811254,38.68521138011151,9.292676505343938,-13.081489231554942,8.457447894379584,2.3495894075045745,15.322939637047831,23.583242642021855,-4.457903018053328,24.431153019611195,13.544676172254743,-6.7869336768699275,-12.528523568265825,-4.891934202481856,-13.335781860560694,-33.1531962352812,-15.615887405508621,-18.09835521717868,-23.969720197145893,8.06465538573942,26.883456563500495,-10.122640029571015,-10.193058188707717,-20.34734558841093,-24.63347467331169,5.058864012330972,-14.61562405103823,-18.441074767082323,-11.7933343303057,-15.0824825527311,-24.48276663919832,-26.315297412956344,-31.8115349781564,-28.420689345617784,-22.74628237125873,-31.734318576953527,-27.482389959697116,0.5289659530620042,-15.403530573340595,-24.510014180560347,-26.518826261586952,-17.255930861888956,-19.732126029536218,-8.646276452685827,-16.147651719468023,-8.133559764537614,-3.2327564914864655,-30.980946543796257,-41.5877049222474,-48.59439858153193,-52.2120932265932,-50.788391695087505,-45.07165791628294,-51.0782741306949,-27.5292656346376,-29.587624808082815,-26.765036171942743,-29.346621635487917,-28.45538907213098,-28.22855852254575,-26.764110369008904,-26.2893903750538,-29.216986451231858,-25.277600646789324,-29.143083312823833,-29.578430895278835,-29.2026710642082,-26.273325798312072,-32.29882074025656,-34.52952564041949,-34.496929638707726,-33.09098282478965,-29.323986624912447,-28.198529577139414,-31.393649478880217,-29.022310020087705,-29.09773591954006,-30.70411071748825,-31.936402796021568,-22.794716450396557,-29.16345605370339,-28.58734422606755,-12.983505562314175,-21.711010927099686,-29.65503594529176,-31.577234506840824,-31.910815166869224,-25.54125379435141,-24.655975370492463,-30.624310079978294,-27.46493738343876,-26.815443734850128,-23.91441813623715,-28.80045315997204,-13.385829009456673,-27.718867162265663,-27.829405418374044,-26.75596650890175,-29.904107845349838,-33.30836443545281,-29.41826652793799,-17.780232030373774,9.604959774642921,-1.5334196496772907,-21.04737885978734,-21.775393732481373,-19.189569799170233,-38.21327289520908,-22.48575027354262,-44.65715860014457,-47.36874066035486,-43.61422266931003,-27.556369256050395,-15.385300226148011,41.51896684249551,51.07950466306071,43.267159497186086,56.9840510776868,49.70836699057099,53.26220605762594,62.4159579398075,56.14107015424512,57.82119648679664,63.00646983182513,61.69889541793692,59.706759747874116,93.49003314401006,94.85626150850824,62.76407317681713,80.29227165261584,63.230302617967226,64.35283444345663,14.760480108570263,-8.0085855887321,-23.80985496997064,-13.025939954445446,-45.11371223027548,-38.510087662534325,-36.5488760519687,-9.402321787374444,7.603727842267916,23.584792603323834,-0.2246811883831787,-11.255223718595868,-32.878526327190485,-40.34334971669124,-38.498529005928376,-31.86533635066731,-35.15185496538005,-23.676454121843115,-25.957856619408016,-23.4735599594643,-26.999994345952683,-29.620127670304935,-24.575268542023803,23.078064941400992,19.693420523385612,-16.28138706884323,-22.279150074261562,-19.519566418641205,-17.306994737955698,-14.306477291667488,-11.181528677513258,-22.648000062793635,-18.532371393537204,40.242126316759915,22.1319134654065,12.445422662856863,4.104288820312175,13.983501715438933,48.58641534367101,-6.285383083513871,-2.4685943605858993,25.05719802092968,-8.186418028640862,14.6482673551899,38.36097404955173,41.743884819026576,45.50893461384094,46.96133369247308,45.49918084142428,62.99100158974554,72.43793102983737,61.3465043108743,-21.36606820916601,-31.367569090686654,-31.48554214703154,-17.991435746878967,-23.412491415430928,-24.82787718376474,-27.76379832803413,-25.15318489541967,-3.716431186706586,-20.387658251432985,-6.391613772901416,4.771247635028116,-7.089866868525265,7.717970753061322,27.62329969853507,-4.506522963499106,0.9388916514882776,30.978249533932892,23.554815810890087,18.789019339907963,35.04280128230718,31.24442199490679,15.464604334127566,-8.589059756205236,11.873773641929276,2.9308233072323566,64.13912870324937,74.79805097481064,45.68982443864935,57.182082896743836,43.681338461704854,32.830211118320946,50.405525401756584,59.406047018750264,59.53672334406775,62.679142827838795,18.85419491750949,0.6195573726209899,9.491887798338523,-5.558075463625299,-11.717372215069522,70.51338246809733,78.09365055630239,49.24593243207224,28.141389522783008,45.13237783181984,45.856699464398396,17.479481096978443,4.419351931702685,-5.875238323090011,-4.762903865075106,-27.586299324751312,-23.7020117475701,6.474884511646041,-5.307220423614036,-34.23206738771847,-28.0439191982256,-31.612021893349816,-24.56632829646237,-29.220185014014238,-20.450270855727204,-16.51252202909775,-10.388273199654586,-6.3318146812395355,-7.813303246763231,-4.559941897821738,-23.242896832712958,2.996079886917227,22.40053999435521,11.490233963030784,-0.3133225427328008,27.62674680165909,34.54387131942862,23.228992137093506,35.290872127757936,40.32312090826315,-0.9274676924317209,-1.3217142851065855,1.3853966366441952,-7.734700306058548,-17.79151038106789,-0.8122429792284926,-7.067429465013657,-16.92761735340463,18.68562486219495,1.3702871048567065,33.56815399384834,55.441928673346894,3.0215199191537274,0.4452061565820751,72.7332285491208,61.653150393266756,37.956556278734766,30.296531326980812,57.24602521942563,69.67353627146568,54.87919123602248,72.66736051226383,74.87150730732901,-6.4716979405632316,-1.4758343340537252,4.331542114502088,5.919987264122168,1.68852324378888,-0.6880396646660595,-4.892835579158813,0.777015136274866,6.242968519859681,2.2399669041529333,-0.11030008757511178,-2.327303101134371,-7.0479797901538985,-4.668031370613359,-5.534980357241425,-7.460482656320218,0.8989474037032122,-10.555732804388173,-10.942947366003397,-7.068072227188795,-3.6548067512818614,-8.360693559921376,-6.782284536926549,-9.337168336878346,-3.676287930811634,-8.635970857073527,-9.475490186476456,-9.553106091483402,-0.9963597661253681,-8.804391311289494,-10.09380546932263,-2.4770734443209452,-9.623917827656836,-8.370895742601,-6.505227470991282,4.711438921279461,-7.422258630244428,-3.080664045690243,-4.833505241250845,-7.834574836120411,-6.0128247639096,-8.192081593598878,-10.46366662073163,8.086937890523355,-9.949299657604469,-9.225409261595264,-8.678121611979776,-6.271087169718508,2.428223008795423,-9.817339660375996,-8.9797255450971,-6.928199743005653,-6.194450755422,-4.054025998037685,0.5798445772559513,-0.7810134440424779,-1.9173304120733237,-4.9923576605014395,-3.866338041794895,-1.357768337777062,6.116840344708705,4.642008129071127,-0.9609378815310061,16.563203831258054,-6.842681836112196,-3.3367817471659094,3.246048835193332,11.155678751669637,22.63753150449265,3.039297455366643,30.476736863726927,16.065059786782193,14.383956088970404,1.746919436128131,9.003431579415413,2.6508703898427446,17.754353201243852,7.42572110213224,2.0452498329244424,1.4075443281611741,4.7716745667021705,-0.6584026534773314,6.391693931955277,-4.78918668107072,-3.597713870707877,-6.70279953972942,-8.733504473384126,-8.781478769578975,-3.2642743420669795,2.7628661152716285,-4.296955721341495,-6.020720760248787,-7.952936648295916,-5.557741088728749,6.1019256607813315,-6.5063400057372345,-2.32536829948306,-7.7551425406389605,4.675954734672125,9.482909634922093,9.3007827335188,15.370200172400452,6.541624349785052,3.2234080760550756,2.189423118882117,0.3637805984021206,4.351086372375706,-0.43478254384343346,17.72208231218453,32.16732837034113,11.64390253974244,-3.4602190908472985,13.604475617272367,24.08651291589951,3.4211909931388442,-1.2816932026538843,10.490366164309325,16.748533449566036,-4.396360662693219,-5.27499261307328,-4.078097996078024,-6.483397766599247,-6.040949077784065,0.8497498810776302,18.52570351537127,11.184209765366749,9.617357384416556,37.1548767395797,36.18588002298599,28.461218286044343,6.824298872236669,27.354143141743812,0.030066965394297252,-3.552274984233022,-3.250678435283004,-4.459132692101948,7.394593584308432,1.4008748008239682,9.870854848538116,20.033306496911486,-13.71654703144912,-11.318114998753664,-7.222900433759033,-13.598570764393816,-18.234000725137484,-20.978098912825356,-26.794237605476674,-37.285269703395876,-35.98842980602289,-29.772520267467325],"label":"PC 3","axis":{"matches":true}}],"marker":{"color":[24.0,21.6,34.7,33.4,36.2,28.7,22.9,27.1,16.5,18.9,15.0,18.9,21.7,20.4,18.2,19.9,23.1,17.5,20.2,18.2,13.6,19.6,15.2,14.5,15.6,13.9,16.6,14.8,18.4,21.0,12.7,14.5,13.2,13.1,13.5,18.9,20.0,21.0,24.7,30.8,34.9,26.6,25.3,24.7,21.2,19.3,20.0,16.6,14.4,19.4,19.7,20.5,25.0,23.4,18.9,35.4,24.7,31.6,23.3,19.6,18.7,16.0,22.2,25.0,33.0,23.5,19.4,22.0,17.4,20.9,24.2,21.7,22.8,23.4,24.1,21.4,20.0,20.8,21.2,20.3,28.0,23.9,24.8,22.9,23.9,26.6,22.5,22.2,23.6,28.7,22.6,22.0,22.9,25.0,20.6,28.4,21.4,38.7,43.8,33.2,27.5,26.5,18.6,19.3,20.1,19.5,19.5,20.4,19.8,19.4,21.7,22.8,18.8,18.7,18.5,18.3,21.2,19.2,20.4,19.3,22.0,20.3,20.5,17.3,18.8,21.4,15.7,16.2,18.0,14.3,19.2,19.6,23.0,18.4,15.6,18.1,17.4,17.1,13.3,17.8,14.0,14.4,13.4,15.6,11.8,13.8,15.6,14.6,17.8,15.4,21.5,19.6,15.3,19.4,17.0,15.6,13.1,41.3,24.3,23.3,27.0,50.0,50.0,50.0,22.7,25.0,50.0,23.8,23.8,22.3,17.4,19.1,23.1,23.6,22.6,29.4,23.2,24.6,29.9,37.2,39.8,36.2,37.9,32.5,26.4,29.6,50.0,32.0,29.8,34.9,37.0,30.5,36.4,31.1,29.1,50.0,33.3,30.3,34.6,34.9,32.9,24.1,42.3,48.5,50.0,22.6,24.4,22.5,24.4,20.0,21.7,19.3,22.4,28.1,23.7,25.0,23.3,28.7,21.5,23.0,26.7,21.7,27.5,30.1,44.8,50.0,37.6,31.6,46.7,31.5,24.3,31.7,41.7,48.3,29.0,24.0,25.1,31.5,23.7,23.3,22.0,20.1,22.2,23.7,17.6,18.5,24.3,20.5,24.5,26.2,24.4,24.8,29.6,42.8,21.9,20.9,44.0,50.0,36.0,30.1,33.8,43.1,48.8,31.0,36.5,22.8,30.7,50.0,43.5,20.7,21.1,25.2,24.4,35.2,32.4,32.0,33.2,33.1,29.1,35.1,45.4,35.4,46.0,50.0,32.2,22.0,20.1,23.2,22.3,24.8,28.5,37.3,27.9,23.9,21.7,28.6,27.1,20.3,22.5,29.0,24.8,22.0,26.4,33.1,36.1,28.4,33.4,28.2,22.8,20.3,16.1,22.1,19.4,21.6,23.8,16.2,17.8,19.8,23.1,21.0,23.8,23.1,20.4,18.5,25.0,24.6,23.0,22.2,19.3,22.6,19.8,17.1,19.4,22.2,20.7,21.1,19.5,18.5,20.6,19.0,18.7,32.7,16.5,23.9,31.2,17.5,17.2,23.1,24.5,26.6,22.9,24.1,18.6,30.1,18.2,20.6,17.8,21.7,22.7,22.6,25.0,19.9,20.8,16.8,21.9,27.5,21.9,23.1,50.0,50.0,50.0,50.0,50.0,13.8,13.8,15.0,13.9,13.3,13.1,10.2,10.4,10.9,11.3,12.3,8.8,7.2,10.5,7.4,10.2,11.5,15.1,23.2,9.7,13.8,12.7,13.1,12.5,8.5,5.0,6.3,5.6,7.2,12.1,8.3,8.5,5.0,11.9,27.9,17.2,27.5,15.0,17.2,17.9,16.3,7.0,7.2,7.5,10.4,8.8,8.4,16.7,14.2,20.8,13.4,11.7,8.3,10.2,10.9,11.0,9.5,14.5,14.1,16.1,14.3,11.7,13.4,9.6,8.7,8.4,12.8,10.5,17.1,18.4,15.4,10.8,11.8,14.9,12.6,14.1,13.0,13.4,15.2,16.1,17.8,14.9,14.1,12.7,13.5,14.9,20.0,16.4,17.7,19.5,20.2,21.4,19.9,19.0,19.1,19.1,20.1,19.9,19.6,23.2,29.8,13.8,13.3,16.7,12.0,14.6,21.4,23.0,23.7,25.0,21.8,20.6,21.2,19.1,20.6,15.2,7.0,8.1,13.6,20.1,21.8,24.5,23.1,19.7,18.3,21.2,17.5,16.8,22.4,20.6,23.9,22.0,11.9],"coloraxis":"coloraxis"}}],
        {"coloraxis":{"colorscale":[[0.0,"#000004"],[0.00392156862745098,"#010005"],[0.00784313725490196,"#010106"],[0.011764705882352941,"#010108"],[0.01568627450980392,"#020109"],[0.0196078431372549,"#02020B"],[0.023529411764705882,"#02020D"],[0.027450980392156862,"#03030F"],[0.03137254901960784,"#030312"],[0.03529411764705882,"#040414"],[0.0392156862745098,"#050416"],[0.043137254901960784,"#060518"],[0.047058823529411764,"#06051A"],[0.050980392156862744,"#07061C"],[0.054901960784313725,"#08071E"],[0.058823529411764705,"#090720"],[0.06274509803921569,"#0A0822"],[0.06666666666666667,"#0B0924"],[0.07058823529411765,"#0C0926"],[0.07450980392156863,"#0D0A29"],[0.0784313725490196,"#0E0B2B"],[0.08235294117647059,"#100B2D"],[0.08627450980392157,"#110C2F"],[0.09019607843137255,"#120D31"],[0.09411764705882353,"#130D34"],[0.09803921568627451,"#140E36"],[0.10196078431372549,"#150E38"],[0.10588235294117647,"#160F3B"],[0.10980392156862745,"#180F3D"],[0.11372549019607843,"#19103F"],[0.11764705882352941,"#1A1042"],[0.12156862745098039,"#1C1044"],[0.12549019607843137,"#1D1147"],[0.12941176470588237,"#1E1149"],[0.13333333333333333,"#20114B"],[0.13725490196078433,"#21114E"],[0.1411764705882353,"#221150"],[0.1450980392156863,"#241253"],[0.14901960784313725,"#251255"],[0.15294117647058825,"#271258"],[0.1568627450980392,"#29115A"],[0.1607843137254902,"#2A115C"],[0.16470588235294117,"#2C115F"],[0.16862745098039217,"#2D1161"],[0.17254901960784313,"#2F1163"],[0.17647058823529413,"#311165"],[0.1803921568627451,"#331067"],[0.1843137254901961,"#341069"],[0.18823529411764706,"#36106B"],[0.19215686274509805,"#38106C"],[0.19607843137254902,"#390F6E"],[0.2,"#3B0F70"],[0.20392156862745098,"#3D0F71"],[0.20784313725490197,"#3F0F72"],[0.21176470588235294,"#400F74"],[0.21568627450980393,"#420F75"],[0.2196078431372549,"#440F76"],[0.2235294117647059,"#451077"],[0.22745098039215686,"#471078"],[0.23137254901960785,"#491078"],[0.23529411764705882,"#4A1079"],[0.23921568627450981,"#4C117A"],[0.24313725490196078,"#4E117B"],[0.24705882352941178,"#4F127B"],[0.25098039215686274,"#51127C"],[0.2549019607843137,"#52137C"],[0.25882352941176473,"#54137D"],[0.2627450980392157,"#56147D"],[0.26666666666666666,"#57157E"],[0.27058823529411763,"#59157E"],[0.27450980392156865,"#5A167E"],[0.2784313725490196,"#5C167F"],[0.2823529411764706,"#5D177F"],[0.28627450980392155,"#5F187F"],[0.2901960784313726,"#601880"],[0.29411764705882354,"#621980"],[0.2980392156862745,"#641A80"],[0.30196078431372547,"#651A80"],[0.3058823529411765,"#671B80"],[0.30980392156862746,"#681C81"],[0.3137254901960784,"#6A1C81"],[0.3176470588235294,"#6B1D81"],[0.3215686274509804,"#6D1D81"],[0.3254901960784314,"#6E1E81"],[0.32941176470588235,"#701F81"],[0.3333333333333333,"#721F81"],[0.33725490196078434,"#732081"],[0.3411764705882353,"#752181"],[0.34509803921568627,"#762181"],[0.34901960784313724,"#782281"],[0.35294117647058826,"#792282"],[0.3568627450980392,"#7B2382"],[0.3607843137254902,"#7C2382"],[0.36470588235294116,"#7E2482"],[0.3686274509803922,"#802582"],[0.37254901960784315,"#812581"],[0.3764705882352941,"#832681"],[0.3803921568627451,"#842681"],[0.3843137254901961,"#862781"],[0.38823529411764707,"#882781"],[0.39215686274509803,"#892881"],[0.396078431372549,"#8B2981"],[0.4,"#8C2981"],[0.403921568627451,"#8E2A81"],[0.40784313725490196,"#902A81"],[0.4117647058823529,"#912B81"],[0.41568627450980394,"#932B80"],[0.4196078431372549,"#942C80"],[0.4235294117647059,"#962C80"],[0.42745098039215684,"#982D80"],[0.43137254901960786,"#992D80"],[0.43529411764705883,"#9B2E7F"],[0.4392156862745098,"#9C2E7F"],[0.44313725490196076,"#9E2F7F"],[0.4470588235294118,"#A02F7F"],[0.45098039215686275,"#A1307E"],[0.4549019607843137,"#A3307E"],[0.4588235294117647,"#A5317E"],[0.4627450980392157,"#A6317D"],[0.4666666666666667,"#A8327D"],[0.47058823529411764,"#AA337D"],[0.4745098039215686,"#AB337C"],[0.47843137254901963,"#AD347C"],[0.4823529411764706,"#AE347B"],[0.48627450980392156,"#B0357B"],[0.49019607843137253,"#B2357B"],[0.49411764705882355,"#B3367A"],[0.4980392156862745,"#B5367A"],[0.5019607843137255,"#B73779"],[0.5058823529411764,"#B83779"],[0.5098039215686274,"#BA3878"],[0.5137254901960784,"#BC3978"],[0.5176470588235295,"#BD3977"],[0.5215686274509804,"#BF3A77"],[0.5254901960784314,"#C03A76"],[0.5294117647058824,"#C23B75"],[0.5333333333333333,"#C43C75"],[0.5372549019607843,"#C53C74"],[0.5411764705882353,"#C73D73"],[0.5450980392156862,"#C83E73"],[0.5490196078431373,"#CA3E72"],[0.5529411764705883,"#CC3F71"],[0.5568627450980392,"#CD4071"],[0.5607843137254902,"#CF4070"],[0.5647058823529412,"#D0416F"],[0.5686274509803921,"#D2426F"],[0.5725490196078431,"#D3436E"],[0.5764705882352941,"#D5446D"],[0.5803921568627451,"#D6456C"],[0.5843137254901961,"#D8456C"],[0.5882352941176471,"#D9466B"],[0.592156862745098,"#DB476A"],[0.596078431372549,"#DC4869"],[0.6,"#DE4968"],[0.6039215686274509,"#DF4A68"],[0.6078431372549019,"#E04C67"],[0.611764705882353,"#E24D66"],[0.615686274509804,"#E34E65"],[0.6196078431372549,"#E44F64"],[0.6235294117647059,"#E55064"],[0.6274509803921569,"#E75263"],[0.6313725490196078,"#E85362"],[0.6352941176470588,"#E95462"],[0.6392156862745098,"#EA5661"],[0.6431372549019608,"#EB5760"],[0.6470588235294118,"#EC5860"],[0.6509803921568628,"#ED5A5F"],[0.6549019607843137,"#EE5B5E"],[0.6588235294117647,"#EF5D5E"],[0.6627450980392157,"#F05F5E"],[0.6666666666666666,"#F1605D"],[0.6705882352941176,"#F2625D"],[0.6745098039215687,"#F2645C"],[0.6784313725490196,"#F3655C"],[0.6823529411764706,"#F4675C"],[0.6862745098039216,"#F4695C"],[0.6901960784313725,"#F56B5C"],[0.6941176470588235,"#F66C5C"],[0.6980392156862745,"#F66E5C"],[0.7019607843137254,"#F7705C"],[0.7058823529411765,"#F7725C"],[0.7098039215686275,"#F8745C"],[0.7137254901960784,"#F8765C"],[0.7176470588235294,"#F9785D"],[0.7215686274509804,"#F9795D"],[0.7254901960784313,"#F97B5D"],[0.7294117647058823,"#FA7D5E"],[0.7333333333333333,"#FA7F5E"],[0.7372549019607844,"#FA815F"],[0.7411764705882353,"#FB835F"],[0.7450980392156863,"#FB8560"],[0.7490196078431373,"#FB8761"],[0.7529411764705882,"#FC8961"],[0.7568627450980392,"#FC8A62"],[0.7607843137254902,"#FC8C63"],[0.7647058823529411,"#FC8E64"],[0.7686274509803922,"#FC9065"],[0.7725490196078432,"#FD9266"],[0.7764705882352941,"#FD9467"],[0.7803921568627451,"#FD9668"],[0.7843137254901961,"#FD9869"],[0.788235294117647,"#FD9A6A"],[0.792156862745098,"#FD9B6B"],[0.796078431372549,"#FE9D6C"],[0.8,"#FE9F6D"],[0.803921568627451,"#FEA16E"],[0.807843137254902,"#FEA36F"],[0.8117647058823529,"#FEA571"],[0.8156862745098039,"#FEA772"],[0.8196078431372549,"#FEA973"],[0.8235294117647058,"#FEAA74"],[0.8274509803921568,"#FEAC76"],[0.8313725490196079,"#FEAE77"],[0.8352941176470589,"#FEB078"],[0.8392156862745098,"#FEB27A"],[0.8431372549019608,"#FEB47B"],[0.8470588235294118,"#FEB67C"],[0.8509803921568627,"#FEB77E"],[0.8549019607843137,"#FEB97F"],[0.8588235294117647,"#FEBB81"],[0.8627450980392157,"#FEBD82"],[0.8666666666666667,"#FEBF84"],[0.8705882352941177,"#FEC185"],[0.8745098039215686,"#FEC287"],[0.8784313725490196,"#FEC488"],[0.8823529411764706,"#FEC68A"],[0.8862745098039215,"#FEC88C"],[0.8901960784313725,"#FECA8D"],[0.8941176470588236,"#FECC8F"],[0.8980392156862745,"#FECD90"],[0.9019607843137255,"#FECF92"],[0.9058823529411765,"#FED194"],[0.9098039215686274,"#FED395"],[0.9137254901960784,"#FED597"],[0.9176470588235294,"#FED799"],[0.9215686274509803,"#FED89A"],[0.9254901960784314,"#FDDA9C"],[0.9294117647058824,"#FDDC9E"],[0.9333333333333333,"#FDDEA0"],[0.9372549019607843,"#FDE0A1"],[0.9411764705882353,"#FDE2A3"],[0.9450980392156862,"#FDE3A5"],[0.9490196078431372,"#FDE5A7"],[0.9529411764705882,"#FDE7A9"],[0.9568627450980393,"#FDE9AA"],[0.9607843137254902,"#FDEBAC"],[0.9647058823529412,"#FCECAE"],[0.9686274509803922,"#FCEEB0"],[0.9725490196078431,"#FCF0B2"],[0.9764705882352941,"#FCF2B4"],[0.9803921568627451,"#FCF4B6"],[0.984313725490196,"#FCF6B8"],[0.9882352941176471,"#FCF7B9"],[0.9921568627450981,"#FCF9BB"],[0.996078431372549,"#FCFBBD"],[1.0,"#FCFDBF"]],"showscale":true},"template":{"layout":{"coloraxis":{"colorbar":{"ticks":"","outlinewidth":0}},"xaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"hovermode":"closest","paper_bgcolor":"white","geo":{"showlakes":true,"showland":true,"landcolor":"#E5ECF6","bgcolor":"white","subunitcolor":"white","lakecolor":"white"},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"yaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"shapedefaults":{"line":{"color":"#2a3f5f"}},"hoverlabel":{"align":"left"},"mapbox":{"style":"light"},"polar":{"angularaxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"autotypenumbers":"strict","font":{"color":"#2a3f5f"},"ternary":{"baxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"aaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"annotationdefaults":{"arrowhead":0,"arrowwidth":1,"arrowcolor":"#2a3f5f"},"plot_bgcolor":"#E5ECF6","title":{"x":0.05},"scene":{"xaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"zaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"yaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"}},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"]},"data":{"barpolar":[{"type":"barpolar","marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"carpet":[{"aaxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"},"type":"carpet","baxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"parcoords":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"parcoords"}],"scatter":[{"type":"scatter","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2dcontour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2dcontour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"mesh3d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"mesh3d"}],"surface":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"surface","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram":[{"type":"histogram","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"pie":[{"type":"pie","automargin":true}],"choropleth":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"choropleth"}],"heatmapgl":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmapgl","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"bar":[{"type":"bar","error_y":{"color":"#2a3f5f"},"error_x":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"heatmap":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmap","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contourcarpet"}],"table":[{"type":"table","header":{"line":{"color":"white"},"fill":{"color":"#C8D4E3"}},"cells":{"line":{"color":"white"},"fill":{"color":"#EBF0F8"}}}],"scatter3d":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"scatter3d","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2d","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}]}},"legend":{"tracegroupgap":0},"margin":{"l":50,"b":50,"r":50,"t":60},"title":"Total explained variance: 1.0","dragmode":"select"},
        {"editable":false,"responsive":true,"staticPlot":false,"scrollZoom":true},
    )
}

        });
    </script>
</div>


<h2>2D PCA Scatter Plot</h2>
<p>In the previous examples, you saw how to visualize high-dimensional PCs. In this example, we show you how to simply visualize the first two principal components of a PCA, by reducing a dataset of 4 dimensions to 2D.</p>
<pre><code class="language-julia">using PlotlyJS, CSV, DataFrames, MLJ

df &#61; dataset&#40;DataFrame, &quot;iris&quot;&#41;
features &#61; &#91;:sepal_width, :sepal_length, :petal_width, :petal_length&#93;

# load and fit PCA
PCA &#61; @load PCA pkg&#61;&quot;MultivariateStats&quot;
mach &#61; machine&#40;PCA&#40;maxoutdim&#61;2&#41;, df&#91;&#33;, features&#93;&#41;
fit&#33;&#40;mach&#41;

components &#61; MLJ.transform&#40;mach, df&#91;&#33;, features&#93;&#41;
components.species &#61; df.species

plot&#40;components, x&#61;:x1, y&#61;:x2, color&#61;:species, mode&#61;&quot;markers&quot;&#41;</code></pre>
<div>
    
    
    <div
        id=322a1cac-3ebe-45e6-9daf-bfd98bb95ae5
        class="plotly-graph-div"
        style="height:100%; width:100%;">
    </div>
    <script type="text/javascript">
        require(["plotly"], function(Plotly) {
        window.PLOTLYENV = window.PLOTLYENV || {}
        
        if (document.getElementById('322a1cac-3ebe-45e6-9daf-bfd98bb95ae5')) {
    Plotly.newPlot(
        '322a1cac-3ebe-45e6-9daf-bfd98bb95ae5',
        [{"showlegend":true,"mode":"markers","x":[2.684207125103951,2.7153906156341336,2.8898195396179194,2.7464371973087376,2.7285929818313175,2.2798973610095996,2.820890682180633,2.626481993323822,2.887958565335637,2.6738446867191237,2.506526789338906,2.613142718271059,2.7874339759971005,3.2252004462749833,2.643543216941149,2.3838693237993778,2.6225262031258114,2.6483227324791296,2.199077961430765,2.587346188917741,2.3105317013131357,2.543234907303698,3.2158576949001083,2.303128537663885,2.3561710866839007,2.507917226837883,2.4690559975451256,2.562390946836753,2.6398212683765845,2.6328479080307607,2.5884620513033947,2.4100773371215984,2.647636673396903,2.597159477075921,2.6738446867191237,2.866999846932537,2.625228464680424,2.6738446867191237,2.9818426648539114,2.590323025585677,2.7701389107463275,2.852211081566395,2.998296442832354,2.405514101284704,2.2088329541767084,2.7156651907474574,2.5375733710135098,2.8403212968270117,2.5426857570770514,2.7039123148636532],"y":[-0.32660731476438787,0.16955684755602662,0.13734560960502787,0.31112431575199173,-0.3339245635684549,-0.7477827132251336,0.08210451102468064,-0.17040534896028986,0.5707980263315917,0.10669170375273883,-0.6519350136725718,-0.021520631960258253,0.22774018887110659,0.5032799094854258,-1.1861948994134486,-1.3447543445598624,-0.818089674596595,-0.31913666775088445,-0.8792440880917363,-0.5204736388059683,-0.3978678215888915,-0.4400317546598153,-0.1416155716255839,-0.10552267842998181,0.031209589068337755,0.13905633991317465,-0.13788731459041761,-0.37468456275010587,-0.3192900659603214,0.19007583063362396,0.197393079437691,-0.4180800082476154,-0.8199826325595077,-1.1000219280072687,0.10669170375273883,-0.07719309572358644,-0.6068000084215857,0.10669170375273883,0.4802500488560765,-0.23605933728887266,-0.271059419765167,0.9328653674695457,0.33430757459077676,-0.19591725769606064,-0.44269603042100353,0.24268148289811342,-0.5103675454766063,0.2205763382764766,-0.5862810253439883,-0.11501085217050533],"type":"scatter","name":"setosa","legendgroup":"setosa","marker":{"color":"#636efa"}},{"showlegend":true,"mode":"markers","x":[-1.2847945878450686,-0.9324107529829146,-1.4640613227790724,-0.18096720634769548,-1.0871344872069977,-0.6404367495231423,-1.0952237099384754,0.7514671406482301,-1.043297780706278,0.01019007072785642,0.5110861958950939,-0.5110980606834744,-0.26233575615317706,-0.9840445451694279,0.1748640019656992,-0.9275729420326969,-0.6595927890561973,-0.2345405862598324,-0.9423617073988387,-0.04324640032870151,-1.1162407237538126,-0.35678656783045815,-1.2964688502855308,-0.9205026489090061,-0.7140082136428301,-0.8996408632837731,-1.3310414188547166,-1.5573962720706993,-0.8124555489979989,0.30733475566340734,0.07034288894927478,0.19188449210314884,-0.13499495045137022,-1.3787369827755795,-0.5872748535799077,-0.8072054966767134,-1.2204289662446766,-0.8128677903690666,-0.24519516169034286,-0.16451342836925262,-0.463030988871421,-0.8901604456511532,-0.22887904996964448,0.7070812839208638,-0.3555330391870603,-0.3311269473327197,-0.3752382289467627,-0.6416902781665401,0.9084633331234983,-0.2978079074069309],"y":[-0.685439186132919,-0.3191980898336484,-0.5041898329724522,0.825603943576114,-0.07539038928876649,0.4173234829700255,-0.28389121093848035,1.0011075129743945,-0.228956908777006,0.7205748667019016,1.2624919538621415,0.10228410504597052,0.547893298025338,0.12436042022227806,0.25181557108017094,-0.46823620504311625,0.3519762910603161,0.3319218293621206,0.5418222581500156,0.5814894466123592,0.08421401387837311,0.06682382794136703,0.3275615197949451,0.18239036332792105,-0.15037915314843633,-0.32961097958188296,-0.24466952060228822,-0.2673925848127641,0.16233157487863356,0.36508661276616117,0.7025379317307265,0.6774905443743579,0.3117096427033968,0.4212051382146284,0.4832842677174817,-0.1950539637711119,-0.40803533700101685,0.3706789983189112,0.26672803566184783,0.6796614693108143,0.6695265465361224,0.033812442746762775,0.4022576201789119,1.0084247617784616,0.5032184874026624,0.21118014066262641,0.29162202480877975,-0.019071176491270186,0.7515687251694863,0.3470165215985641],"type":"scatter","name":"versicolor","legendgroup":"versicolor","marker":{"color":"#EF553B"}},{"showlegend":true,"mode":"markers","x":[-2.5317269804395552,-1.4140722251737543,-2.6164846082840407,-1.9708149459064788,-2.3497579839509393,-3.3968799206781344,-0.519383245084933,-2.932005096991298,-2.3196727938740502,-2.9181342336442486,-1.6619349470194837,-1.80234045266073,-2.1653788629533945,-1.3445942175098213,-1.5852672993086407,-1.904743578213909,-1.9492487818644948,-3.488765379656383,-3.7946868612099673,-1.2983298245678125,-2.4281672590208454,-1.1980973722749595,-3.499265484298954,-1.3876682501815527,-2.275853649305691,-2.614193830698331,-1.2576251829251333,-1.2906696477375985,-2.12285398050831,-2.387564402369025,-2.8409609252853807,-3.232342898295872,-2.1587383731331315,-1.4431026043759716,-1.7796401068985666,-3.076521621020659,-2.144986856709301,-1.9048629251371285,-1.1688534694704003,-2.107653731173266,-2.3143033946295453,-1.9224508848357498,-1.4140722251737543,-2.563322712340806,-2.4193912198049774,-1.9440170488777344,-1.5256636313138694,-1.7640459355269797,-1.9016290752882297,-1.3896661333194136],"y":[0.011842236640299902,0.5749250559123048,-0.34193528698729403,0.18112569470491358,0.04188254965484196,-0.5471680462301518,1.1913516890506526,-0.3523770061808593,0.24554817060691098,-0.7803806293720319,-0.24203840103752206,0.216154606626537,-0.21528028337300656,0.7764154251768254,0.5393070538471724,-0.11881899098269824,-0.040730259427767715,-1.1715445442635644,-0.2532655709725332,0.7610139365215085,-0.37678197125415197,0.6055789617645944,-0.4567734669640737,0.20403098657015567,-0.33338652575664224,-0.5583669502788221,0.17913699742322348,0.11642525182937262,0.21085488454949028,-0.46251925072625993,-0.37274259104902013,-1.3705240359763335,0.21832553156299372,0.14380128908272644,0.5014647947060152,-0.6857644422460552,-0.13890660887731482,-0.04804750823183475,0.16450249981509,-0.37148224917710493,-0.18260885079369804,-0.4092711761786943,0.5749250559123048,-0.2759745022398379,-0.30350393770262857,-0.18741522204601285,0.375020848191824,-0.07851918642935689,-0.11587674824796598,0.2828867091722688],"type":"scatter","name":"virginica","legendgroup":"virginica","marker":{"color":"#00cc96"}}],
        {"xaxis":{"title":{"text":"x1"}},"template":{"layout":{"coloraxis":{"colorbar":{"ticks":"","outlinewidth":0}},"xaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"hovermode":"closest","paper_bgcolor":"white","geo":{"showlakes":true,"showland":true,"landcolor":"#E5ECF6","bgcolor":"white","subunitcolor":"white","lakecolor":"white"},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"yaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"shapedefaults":{"line":{"color":"#2a3f5f"}},"hoverlabel":{"align":"left"},"mapbox":{"style":"light"},"polar":{"angularaxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"autotypenumbers":"strict","font":{"color":"#2a3f5f"},"ternary":{"baxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"aaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"annotationdefaults":{"arrowhead":0,"arrowwidth":1,"arrowcolor":"#2a3f5f"},"plot_bgcolor":"#E5ECF6","title":{"x":0.05},"scene":{"xaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"zaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"yaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"}},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"]},"data":{"barpolar":[{"type":"barpolar","marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"carpet":[{"aaxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"},"type":"carpet","baxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"parcoords":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"parcoords"}],"scatter":[{"type":"scatter","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2dcontour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2dcontour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"mesh3d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"mesh3d"}],"surface":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"surface","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram":[{"type":"histogram","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"pie":[{"type":"pie","automargin":true}],"choropleth":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"choropleth"}],"heatmapgl":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmapgl","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"bar":[{"type":"bar","error_y":{"color":"#2a3f5f"},"error_x":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"heatmap":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmap","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contourcarpet"}],"table":[{"type":"table","header":{"line":{"color":"white"},"fill":{"color":"#C8D4E3"}},"cells":{"line":{"color":"white"},"fill":{"color":"#EBF0F8"}}}],"scatter3d":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"scatter3d","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2d","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}]}},"legend":{"tracegroupgap":0,"title":{"text":"species"}},"margin":{"l":50,"b":50,"r":50,"t":60},"yaxis":{"title":{"text":"x2"}}},
        {"editable":false,"responsive":true,"staticPlot":false,"scrollZoom":true},
    )
}

        });
    </script>
</div>


<h2>Visualize PCA with <code>scatter3d</code></h2>
<p>With the <code>scatter_3d</code> trace type, you can visualize an additional dimension, which let you capture even more variance.</p>
<pre><code class="language-julia">using PlotlyJS, CSV, DataFrames, MLJ

df &#61; dataset&#40;DataFrame, &quot;iris&quot;&#41;
features &#61; &#91;:sepal_width, :sepal_length, :petal_width, :petal_length&#93;

# load and fit PCA
PCA &#61; @load PCA pkg&#61;&quot;MultivariateStats&quot;
mach &#61; machine&#40;PCA&#40;maxoutdim&#61;3&#41;, df&#91;&#33;, features&#93;&#41;
fit&#33;&#40;mach&#41;

components &#61; MLJ.transform&#40;mach, df&#91;&#33;, features&#93;&#41;
components.species &#61; df.species
total_var &#61; report&#40;mach&#41;.tprincipalvar / report&#40;mach&#41;.tvar

plot&#40;
    components, x&#61;:x1, y&#61;:x2, z&#61;:x3, color&#61;:species,
    kind&#61;&quot;scatter3d&quot;, mode&#61;&quot;markers&quot;,
    labels&#61;attr&#40;;&#91;Symbol&#40;&quot;x&quot;, i&#41; &#61;&gt; &quot;PC &#36;i&quot; for i in 1:3&#93;...&#41;,
    Layout&#40;
        title&#61;&quot;Total explained variance: &#36;&#40;round&#40;total_var, digits&#61;2&#41;&#41;&quot;
    &#41;
&#41;</code></pre>
<div>
    
    
    <div
        id=46cb8c66-3023-43bf-a518-b4b4732dad7a
        class="plotly-graph-div"
        style="height:100%; width:100%;">
    </div>
    <script type="text/javascript">
        require(["plotly"], function(Plotly) {
        window.PLOTLYENV = window.PLOTLYENV || {}
        
        if (document.getElementById('46cb8c66-3023-43bf-a518-b4b4732dad7a')) {
    Plotly.newPlot(
        '46cb8c66-3023-43bf-a518-b4b4732dad7a',
        [{"showlegend":true,"mode":"markers","x":[2.684207125103951,2.7153906156341336,2.8898195396179194,2.7464371973087376,2.7285929818313175,2.2798973610095996,2.820890682180633,2.626481993323822,2.887958565335637,2.6738446867191237,2.506526789338906,2.613142718271059,2.7874339759971005,3.2252004462749833,2.643543216941149,2.3838693237993778,2.6225262031258114,2.6483227324791296,2.199077961430765,2.587346188917741,2.3105317013131357,2.543234907303698,3.2158576949001083,2.303128537663885,2.3561710866839007,2.507917226837883,2.4690559975451256,2.562390946836753,2.6398212683765845,2.6328479080307607,2.5884620513033947,2.4100773371215984,2.647636673396903,2.597159477075921,2.6738446867191237,2.866999846932537,2.625228464680424,2.6738446867191237,2.9818426648539114,2.590323025585677,2.7701389107463275,2.852211081566395,2.998296442832354,2.405514101284704,2.2088329541767084,2.7156651907474574,2.5375733710135098,2.8403212968270117,2.5426857570770514,2.7039123148636532],"y":[-0.32660731476438787,0.16955684755602662,0.13734560960502787,0.31112431575199173,-0.3339245635684549,-0.7477827132251336,0.08210451102468064,-0.17040534896028986,0.5707980263315917,0.10669170375273883,-0.6519350136725718,-0.021520631960258253,0.22774018887110659,0.5032799094854258,-1.1861948994134486,-1.3447543445598624,-0.818089674596595,-0.31913666775088445,-0.8792440880917363,-0.5204736388059683,-0.3978678215888915,-0.4400317546598153,-0.1416155716255839,-0.10552267842998181,0.031209589068337755,0.13905633991317465,-0.13788731459041761,-0.37468456275010587,-0.3192900659603214,0.19007583063362396,0.197393079437691,-0.4180800082476154,-0.8199826325595077,-1.1000219280072687,0.10669170375273883,-0.07719309572358644,-0.6068000084215857,0.10669170375273883,0.4802500488560765,-0.23605933728887266,-0.271059419765167,0.9328653674695457,0.33430757459077676,-0.19591725769606064,-0.44269603042100353,0.24268148289811342,-0.5103675454766063,0.2205763382764766,-0.5862810253439883,-0.11501085217050533],"type":"scatter3d","name":"setosa","z":[-0.021511837001962877,-0.20352142500549017,0.02470924099895735,0.03767197528530123,0.0962296997746086,0.17432561901640167,0.264251085190696,-0.015801510264315498,0.02733540611450794,-0.19153329973564479,-0.069274995813932,0.10765035324990392,-0.20032778809538895,0.06841362917233097,-0.14450570400963642,0.2837306639397751,0.14531598882161745,0.03339425407069799,-0.11452146479835405,0.219572088000824,-0.2336956070979701,0.21483637027967495,0.2996189815108712,0.045680041274487625,0.12940757589599206,-0.24711633789085946,0.10126307942970227,-0.07235915743602879,-0.13925337377853494,0.046466463645045517,-0.07127507313152599,-0.13838824005004052,0.2305856042541703,0.1635819126236605,-0.19153329973564479,-0.15684235049802348,-0.26116315648170574,-0.19153329973564479,0.07972480735962195,-0.07390123824707691,0.08424157450476338,-0.34096149110714885,0.19900842494724202,0.27071707036883397,0.303487809268269,-0.09051560595006732,0.17191840447685916,0.09006137653041524,-0.01117526783117014,-0.08269572660682165],"legendgroup":"setosa","marker":{"color":"#636efa"}},{"showlegend":true,"mode":"markers","x":[-1.2847945878450686,-0.9324107529829146,-1.4640613227790724,-0.18096720634769548,-1.0871344872069977,-0.6404367495231423,-1.0952237099384754,0.7514671406482301,-1.043297780706278,0.01019007072785642,0.5110861958950939,-0.5110980606834744,-0.26233575615317706,-0.9840445451694279,0.1748640019656992,-0.9275729420326969,-0.6595927890561973,-0.2345405862598324,-0.9423617073988387,-0.04324640032870151,-1.1162407237538126,-0.35678656783045815,-1.2964688502855308,-0.9205026489090061,-0.7140082136428301,-0.8996408632837731,-1.3310414188547166,-1.5573962720706993,-0.8124555489979989,0.30733475566340734,0.07034288894927478,0.19188449210314884,-0.13499495045137022,-1.3787369827755795,-0.5872748535799077,-0.8072054966767134,-1.2204289662446766,-0.8128677903690666,-0.24519516169034286,-0.16451342836925262,-0.463030988871421,-0.8901604456511532,-0.22887904996964448,0.7070812839208638,-0.3555330391870603,-0.3311269473327197,-0.3752382289467627,-0.6416902781665401,0.9084633331234983,-0.2978079074069309],"y":[-0.685439186132919,-0.3191980898336484,-0.5041898329724522,0.825603943576114,-0.07539038928876649,0.4173234829700255,-0.28389121093848035,1.0011075129743945,-0.228956908777006,0.7205748667019016,1.2624919538621415,0.10228410504597052,0.547893298025338,0.12436042022227806,0.25181557108017094,-0.46823620504311625,0.3519762910603161,0.3319218293621206,0.5418222581500156,0.5814894466123592,0.08421401387837311,0.06682382794136703,0.3275615197949451,0.18239036332792105,-0.15037915314843633,-0.32961097958188296,-0.24466952060228822,-0.2673925848127641,0.16233157487863356,0.36508661276616117,0.7025379317307265,0.6774905443743579,0.3117096427033968,0.4212051382146284,0.4832842677174817,-0.1950539637711119,-0.40803533700101685,0.3706789983189112,0.26672803566184783,0.6796614693108143,0.6695265465361224,0.033812442746762775,0.4022576201789119,1.0084247617784616,0.5032184874026624,0.21118014066262641,0.29162202480877975,-0.019071176491270186,0.7515687251694863,0.3470165215985641],"type":"scatter3d","name":"versicolor","z":[-0.40612955307696436,-0.017129909205126047,-0.33826072771796,-0.17708285639336344,-0.3065444648144317,0.04118876935364355,0.1700225337414987,0.015672194238161383,-0.41481456614870466,0.28343724625412636,-0.26648995382244794,0.13232789047497384,-0.6919415783189639,-0.062157427613539686,0.09365863819195112,-0.31322940056857773,0.3283842970693473,-0.2702806708356944,-0.4973485411777028,-0.2329635564825224,0.45984422657275276,-0.22747218032088293,-0.34751321258425005,-0.23161141855267145,-0.32037233282926997,-0.3147714813796259,-0.5212449247379853,-0.1646384908522291,0.036343576344490494,-0.3153371969389193,-0.24175804484226707,-0.303916543463624,-0.17497330378776485,0.015480495121707804,0.44458375303487013,0.3894587113862014,-0.23656608684982874,-0.6128710500606722,0.1895624847292414,-0.05779923880574329,-0.02405389088980984,-0.009768026368425723,-0.22736270503287886,-0.10206934253841014,0.017889465896507577,0.08380907322251469,0.0790733555013655,-0.2041728768637466,-0.007736584506978684,0.01217913915885933],"legendgroup":"versicolor","marker":{"color":"#EF553B"}},{"showlegend":true,"mode":"markers","x":[-2.5317269804395552,-1.4140722251737543,-2.6164846082840407,-1.9708149459064788,-2.3497579839509393,-3.3968799206781344,-0.519383245084933,-2.932005096991298,-2.3196727938740502,-2.9181342336442486,-1.6619349470194837,-1.80234045266073,-2.1653788629533945,-1.3445942175098213,-1.5852672993086407,-1.904743578213909,-1.9492487818644948,-3.488765379656383,-3.7946868612099673,-1.2983298245678125,-2.4281672590208454,-1.1980973722749595,-3.499265484298954,-1.3876682501815527,-2.275853649305691,-2.614193830698331,-1.2576251829251333,-1.2906696477375985,-2.12285398050831,-2.387564402369025,-2.8409609252853807,-3.232342898295872,-2.1587383731331315,-1.4431026043759716,-1.7796401068985666,-3.076521621020659,-2.144986856709301,-1.9048629251371285,-1.1688534694704003,-2.107653731173266,-2.3143033946295453,-1.9224508848357498,-1.4140722251737543,-2.563322712340806,-2.4193912198049774,-1.9440170488777344,-1.5256636313138694,-1.7640459355269797,-1.9016290752882297,-1.3896661333194136],"y":[0.011842236640299902,0.5749250559123048,-0.34193528698729403,0.18112569470491358,0.04188254965484196,-0.5471680462301518,1.1913516890506526,-0.3523770061808593,0.24554817060691098,-0.7803806293720319,-0.24203840103752206,0.216154606626537,-0.21528028337300656,0.7764154251768254,0.5393070538471724,-0.11881899098269824,-0.040730259427767715,-1.1715445442635644,-0.2532655709725332,0.7610139365215085,-0.37678197125415197,0.6055789617645944,-0.4567734669640737,0.20403098657015567,-0.33338652575664224,-0.5583669502788221,0.17913699742322348,0.11642525182937262,0.21085488454949028,-0.46251925072625993,-0.37274259104902013,-1.3705240359763335,0.21832553156299372,0.14380128908272644,0.5014647947060152,-0.6857644422460552,-0.13890660887731482,-0.04804750823183475,0.16450249981509,-0.37148224917710493,-0.18260885079369804,-0.4092711761786943,0.5749250559123048,-0.2759745022398379,-0.30350393770262857,-0.18741522204601285,0.375020848191824,-0.07851918642935689,-0.11587674824796598,0.2828867091722688],"type":"scatter3d","name":"virginica","z":[0.7584586515284948,0.29639822430521356,-0.11214137055436743,0.10653914864984473,0.2841106808661669,-0.3518731576273032,0.5466855311249499,-0.4236912783368991,-0.3499221833590499,0.4217389336137662,0.24281526346759294,-0.037695328493964404,0.03314818319913319,0.2828680182243197,0.6305704884623275,0.4801380797657289,0.042729093929435406,0.12932008336177175,-0.5169707159938954,-0.3448870474686992,0.21864907004670503,0.5126407650398155,-0.5769101867216502,-0.06351132177864743,0.28467815266071667,-0.2084233466187957,0.04697780744922773,0.23161356056830587,0.15351588509125524,-0.4520239614491295,-0.5010315391382025,-0.11844877739516144,0.20842197616391614,-0.1540829711054281,-0.17581118605670523,-0.3364227412082239,0.7341847390548598,0.16047063070600692,0.2824608810023712,0.027437856461485284,0.32286040074238315,0.1154928159607186,0.29639822430521356,0.29125361312685905,0.50430251695136,0.179302870681128,-0.12063644074491074,0.13078405342866892,0.7228735608675682,0.3623178316312208],"legendgroup":"virginica","marker":{"color":"#00cc96"}}],
        {"xaxis":{"title":{"text":"PC 1"}},"template":{"layout":{"coloraxis":{"colorbar":{"ticks":"","outlinewidth":0}},"xaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"hovermode":"closest","paper_bgcolor":"white","geo":{"showlakes":true,"showland":true,"landcolor":"#E5ECF6","bgcolor":"white","subunitcolor":"white","lakecolor":"white"},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"yaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"shapedefaults":{"line":{"color":"#2a3f5f"}},"hoverlabel":{"align":"left"},"mapbox":{"style":"light"},"polar":{"angularaxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"autotypenumbers":"strict","font":{"color":"#2a3f5f"},"ternary":{"baxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"aaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"annotationdefaults":{"arrowhead":0,"arrowwidth":1,"arrowcolor":"#2a3f5f"},"plot_bgcolor":"#E5ECF6","title":{"x":0.05},"scene":{"xaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"zaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"yaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"}},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"]},"data":{"barpolar":[{"type":"barpolar","marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"carpet":[{"aaxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"},"type":"carpet","baxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"parcoords":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"parcoords"}],"scatter":[{"type":"scatter","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2dcontour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2dcontour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"mesh3d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"mesh3d"}],"surface":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"surface","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram":[{"type":"histogram","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"pie":[{"type":"pie","automargin":true}],"choropleth":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"choropleth"}],"heatmapgl":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmapgl","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"bar":[{"type":"bar","error_y":{"color":"#2a3f5f"},"error_x":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"heatmap":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmap","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contourcarpet"}],"table":[{"type":"table","header":{"line":{"color":"white"},"fill":{"color":"#C8D4E3"}},"cells":{"line":{"color":"white"},"fill":{"color":"#EBF0F8"}}}],"scatter3d":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"scatter3d","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2d","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}]}},"legend":{"tracegroupgap":0,"title":{"text":"species"}},"margin":{"l":50,"b":50,"r":50,"t":60},"title":"Total explained variance: 0.99","yaxis":{"title":{"text":"PC 2"}}},
        {"editable":false,"responsive":true,"staticPlot":false,"scrollZoom":true},
    )
}

        });
    </script>
</div>


<h2>Plotting explained variance</h2>
<p>Often, you might be interested in seeing how much variance PCA is able to explain as you increase the number of components, in order to decide how many dimensions to ultimately keep or analyze. This example shows you how to quickly plot the cumulative sum of explained variance for a high-dimensional dataset like <a href="https://www.openml.org/d/313">spectrometer</a>.</p>
<p>With a higher explained variance, you are able to capture more variability in your dataset, which could potentially lead to better performance when training your model. For a more mathematical explanation, see this <a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">Q&amp;A thread</a>.</p>
<pre><code class="language-julia">using PlotlyJS, DataFrames, MLJ

spectrometer &#61; OpenML.load&#40;313, verbosity&#61;0&#41;
skip &#61; &#91;Symbol&#40;&quot;LRS-name&quot;&#41;, Symbol&#40;&quot;LRS-class&quot;&#41;, Symbol&#40;&quot;ID-type&quot;&#41;&#93;
df_all &#61; DataFrame&#40;spectrometer&#41;
features &#61; &#91;x for x in Symbol.&#40;names&#40;df_all&#41;&#41; if &#33;&#40;x in skip&#41;&#93;
df &#61; Float64.&#40;df_all&#91;&#33;, features&#93;&#41;

PCA &#61; @load PCA pkg&#61;&quot;MultivariateStats&quot;
mach &#61; machine&#40;PCA&#40;pratio&#61;0.995&#41;, df&#41;
fit&#33;&#40;mach&#41;

explained_variance &#61; report&#40;mach&#41;.principalvars
explained_variance ./&#61; sum&#40;explained_variance&#41;
cum_ev &#61; cumsum&#40;explained_variance&#41;

plot&#40;
    cum_ev, stackgroup&#61;1,
    Layout&#40;
        xaxis_title&#61;&quot;Number of components&quot;,
        yaxis_title&#61;&quot;Cumulative explained variance&quot;
    &#41;
&#41;
</code></pre>
<div>
    
    
    <div
        id=bbbcfb89-aab1-4b09-ad6c-39e6e20fa4e6
        class="plotly-graph-div"
        style="height:100%; width:100%;">
    </div>
    <script type="text/javascript">
        require(["plotly"], function(Plotly) {
        window.PLOTLYENV = window.PLOTLYENV || {}
        
        if (document.getElementById('bbbcfb89-aab1-4b09-ad6c-39e6e20fa4e6')) {
    Plotly.newPlot(
        'bbbcfb89-aab1-4b09-ad6c-39e6e20fa4e6',
        [{"y":[0.5118012977845986,0.9097313347664696,0.9481589552761038,0.9728953841475865,0.9833357358328654,0.9874257004944123,0.9903319698570197,0.9924328473443756,0.9935417318709824,0.9945419180657529,0.995290613375455,0.9958891540609595,0.9963740818938824,0.9968055254564021,0.997203086068203,0.9975415907636176,0.9978536172034487,0.9981503383971485,0.9984251185660292,0.9986897253441103,0.9989233449929797,0.9991560110295317,0.9993766609351493,0.9995886832737547,0.9997972733910028,1.0],"type":"scatter","stackgroup":1,"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}],
        {"xaxis":{"title":{"text":"Number of components"}},"template":{"layout":{"coloraxis":{"colorbar":{"ticks":"","outlinewidth":0}},"xaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"hovermode":"closest","paper_bgcolor":"white","geo":{"showlakes":true,"showland":true,"landcolor":"#E5ECF6","bgcolor":"white","subunitcolor":"white","lakecolor":"white"},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"yaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"shapedefaults":{"line":{"color":"#2a3f5f"}},"hoverlabel":{"align":"left"},"mapbox":{"style":"light"},"polar":{"angularaxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"autotypenumbers":"strict","font":{"color":"#2a3f5f"},"ternary":{"baxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"aaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"annotationdefaults":{"arrowhead":0,"arrowwidth":1,"arrowcolor":"#2a3f5f"},"plot_bgcolor":"#E5ECF6","title":{"x":0.05},"scene":{"xaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"zaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"yaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"}},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"]},"data":{"barpolar":[{"type":"barpolar","marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"carpet":[{"aaxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"},"type":"carpet","baxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"parcoords":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"parcoords"}],"scatter":[{"type":"scatter","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2dcontour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2dcontour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"mesh3d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"mesh3d"}],"surface":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"surface","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram":[{"type":"histogram","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"pie":[{"type":"pie","automargin":true}],"choropleth":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"choropleth"}],"heatmapgl":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmapgl","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"bar":[{"type":"bar","error_y":{"color":"#2a3f5f"},"error_x":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"heatmap":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmap","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contourcarpet"}],"table":[{"type":"table","header":{"line":{"color":"white"},"fill":{"color":"#C8D4E3"}},"cells":{"line":{"color":"white"},"fill":{"color":"#EBF0F8"}}}],"scatter3d":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"scatter3d","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2d","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}]}},"margin":{"l":50,"b":50,"r":50,"t":60},"yaxis":{"title":{"text":"Cumulative explained variance"}}},
        {"editable":false,"responsive":true,"staticPlot":false,"scrollZoom":true},
    )
}

        });
    </script>
</div>


<h2>Visualize Loadings</h2>
<p>It is also possible to visualize loadings using <code>shapes</code>, and use <code>annotations</code> to indicate which feature a certain loading original belong to. Here, we define loadings as:</p>
:&#36;
<p>loadings &#61; eigenvectors \cdot \sqrt&#123;eigenvalues&#125; &#36;</p>
<p>For more details about the linear algebra behind eigenvectors and loadings, see this <a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">Q&amp;A thread</a>.</p>
<pre><code class="language-julia">using PlotlyJS, CSV, DataFrames, MLJ

df &#61; dataset&#40;DataFrame, &quot;iris&quot;&#41;
features &#61; &#91;:sepal_width, :sepal_length, :petal_width, :petal_length&#93;

# load and fit PCA
PCA &#61; @load PCA pkg&#61;&quot;MultivariateStats&quot;
mach &#61; machine&#40;PCA&#40;maxoutdim&#61;2&#41;, df&#91;&#33;, features&#93;&#41;
fit&#33;&#40;mach&#41;

components &#61; MLJ.transform&#40;mach, df&#91;&#33;, features&#93;&#41;
components.species &#61; df.species
projection &#61; fitted_params&#40;mach&#41;.projection
loadings &#61; projection&#39; .* report&#40;mach&#41;.principalvars

plot&#40;
    components, x&#61;:x1, y&#61;:x2, color&#61;:species, mode&#61;&quot;markers&quot;,
    Layout&#40;
        shapes&#61;&#91;
            line&#40;x0&#61;0, y0&#61;0, x1&#61;loadings&#91;1, i&#93;, y1&#61;loadings&#91;2, i&#93;&#41;
            for i in 1:length&#40;features&#41;
        &#93;,
        annotations&#61;&#91;
            attr&#40;
                x&#61;loadings&#91;1, i&#93;, y&#61;loadings&#91;2, i&#93;, text&#61;features&#91;i&#93;,
                xanchor&#61;&quot;center&quot;, yanchor&#61;&quot;bottom&quot;
            &#41;
            for i in 1:length&#40;features&#41;
        &#93;
    &#41;
&#41;</code></pre>
<div>
    
    
    <div
        id=9ed3993b-7d79-494d-ad5c-a58038792c5d
        class="plotly-graph-div"
        style="height:100%; width:100%;">
    </div>
    <script type="text/javascript">
        require(["plotly"], function(Plotly) {
        window.PLOTLYENV = window.PLOTLYENV || {}
        
        if (document.getElementById('9ed3993b-7d79-494d-ad5c-a58038792c5d')) {
    Plotly.newPlot(
        '9ed3993b-7d79-494d-ad5c-a58038792c5d',
        [{"showlegend":true,"mode":"markers","x":[2.684207125103951,2.7153906156341336,2.8898195396179194,2.7464371973087376,2.7285929818313175,2.2798973610095996,2.820890682180633,2.626481993323822,2.887958565335637,2.6738446867191237,2.506526789338906,2.613142718271059,2.7874339759971005,3.2252004462749833,2.643543216941149,2.3838693237993778,2.6225262031258114,2.6483227324791296,2.199077961430765,2.587346188917741,2.3105317013131357,2.543234907303698,3.2158576949001083,2.303128537663885,2.3561710866839007,2.507917226837883,2.4690559975451256,2.562390946836753,2.6398212683765845,2.6328479080307607,2.5884620513033947,2.4100773371215984,2.647636673396903,2.597159477075921,2.6738446867191237,2.866999846932537,2.625228464680424,2.6738446867191237,2.9818426648539114,2.590323025585677,2.7701389107463275,2.852211081566395,2.998296442832354,2.405514101284704,2.2088329541767084,2.7156651907474574,2.5375733710135098,2.8403212968270117,2.5426857570770514,2.7039123148636532],"y":[-0.32660731476438787,0.16955684755602662,0.13734560960502787,0.31112431575199173,-0.3339245635684549,-0.7477827132251336,0.08210451102468064,-0.17040534896028986,0.5707980263315917,0.10669170375273883,-0.6519350136725718,-0.021520631960258253,0.22774018887110659,0.5032799094854258,-1.1861948994134486,-1.3447543445598624,-0.818089674596595,-0.31913666775088445,-0.8792440880917363,-0.5204736388059683,-0.3978678215888915,-0.4400317546598153,-0.1416155716255839,-0.10552267842998181,0.031209589068337755,0.13905633991317465,-0.13788731459041761,-0.37468456275010587,-0.3192900659603214,0.19007583063362396,0.197393079437691,-0.4180800082476154,-0.8199826325595077,-1.1000219280072687,0.10669170375273883,-0.07719309572358644,-0.6068000084215857,0.10669170375273883,0.4802500488560765,-0.23605933728887266,-0.271059419765167,0.9328653674695457,0.33430757459077676,-0.19591725769606064,-0.44269603042100353,0.24268148289811342,-0.5103675454766063,0.2205763382764766,-0.5862810253439883,-0.11501085217050533],"type":"scatter","name":"setosa","legendgroup":"setosa","marker":{"color":"#636efa"}},{"showlegend":true,"mode":"markers","x":[-1.2847945878450686,-0.9324107529829146,-1.4640613227790724,-0.18096720634769548,-1.0871344872069977,-0.6404367495231423,-1.0952237099384754,0.7514671406482301,-1.043297780706278,0.01019007072785642,0.5110861958950939,-0.5110980606834744,-0.26233575615317706,-0.9840445451694279,0.1748640019656992,-0.9275729420326969,-0.6595927890561973,-0.2345405862598324,-0.9423617073988387,-0.04324640032870151,-1.1162407237538126,-0.35678656783045815,-1.2964688502855308,-0.9205026489090061,-0.7140082136428301,-0.8996408632837731,-1.3310414188547166,-1.5573962720706993,-0.8124555489979989,0.30733475566340734,0.07034288894927478,0.19188449210314884,-0.13499495045137022,-1.3787369827755795,-0.5872748535799077,-0.8072054966767134,-1.2204289662446766,-0.8128677903690666,-0.24519516169034286,-0.16451342836925262,-0.463030988871421,-0.8901604456511532,-0.22887904996964448,0.7070812839208638,-0.3555330391870603,-0.3311269473327197,-0.3752382289467627,-0.6416902781665401,0.9084633331234983,-0.2978079074069309],"y":[-0.685439186132919,-0.3191980898336484,-0.5041898329724522,0.825603943576114,-0.07539038928876649,0.4173234829700255,-0.28389121093848035,1.0011075129743945,-0.228956908777006,0.7205748667019016,1.2624919538621415,0.10228410504597052,0.547893298025338,0.12436042022227806,0.25181557108017094,-0.46823620504311625,0.3519762910603161,0.3319218293621206,0.5418222581500156,0.5814894466123592,0.08421401387837311,0.06682382794136703,0.3275615197949451,0.18239036332792105,-0.15037915314843633,-0.32961097958188296,-0.24466952060228822,-0.2673925848127641,0.16233157487863356,0.36508661276616117,0.7025379317307265,0.6774905443743579,0.3117096427033968,0.4212051382146284,0.4832842677174817,-0.1950539637711119,-0.40803533700101685,0.3706789983189112,0.26672803566184783,0.6796614693108143,0.6695265465361224,0.033812442746762775,0.4022576201789119,1.0084247617784616,0.5032184874026624,0.21118014066262641,0.29162202480877975,-0.019071176491270186,0.7515687251694863,0.3470165215985641],"type":"scatter","name":"versicolor","legendgroup":"versicolor","marker":{"color":"#EF553B"}},{"showlegend":true,"mode":"markers","x":[-2.5317269804395552,-1.4140722251737543,-2.6164846082840407,-1.9708149459064788,-2.3497579839509393,-3.3968799206781344,-0.519383245084933,-2.932005096991298,-2.3196727938740502,-2.9181342336442486,-1.6619349470194837,-1.80234045266073,-2.1653788629533945,-1.3445942175098213,-1.5852672993086407,-1.904743578213909,-1.9492487818644948,-3.488765379656383,-3.7946868612099673,-1.2983298245678125,-2.4281672590208454,-1.1980973722749595,-3.499265484298954,-1.3876682501815527,-2.275853649305691,-2.614193830698331,-1.2576251829251333,-1.2906696477375985,-2.12285398050831,-2.387564402369025,-2.8409609252853807,-3.232342898295872,-2.1587383731331315,-1.4431026043759716,-1.7796401068985666,-3.076521621020659,-2.144986856709301,-1.9048629251371285,-1.1688534694704003,-2.107653731173266,-2.3143033946295453,-1.9224508848357498,-1.4140722251737543,-2.563322712340806,-2.4193912198049774,-1.9440170488777344,-1.5256636313138694,-1.7640459355269797,-1.9016290752882297,-1.3896661333194136],"y":[0.011842236640299902,0.5749250559123048,-0.34193528698729403,0.18112569470491358,0.04188254965484196,-0.5471680462301518,1.1913516890506526,-0.3523770061808593,0.24554817060691098,-0.7803806293720319,-0.24203840103752206,0.216154606626537,-0.21528028337300656,0.7764154251768254,0.5393070538471724,-0.11881899098269824,-0.040730259427767715,-1.1715445442635644,-0.2532655709725332,0.7610139365215085,-0.37678197125415197,0.6055789617645944,-0.4567734669640737,0.20403098657015567,-0.33338652575664224,-0.5583669502788221,0.17913699742322348,0.11642525182937262,0.21085488454949028,-0.46251925072625993,-0.37274259104902013,-1.3705240359763335,0.21832553156299372,0.14380128908272644,0.5014647947060152,-0.6857644422460552,-0.13890660887731482,-0.04804750823183475,0.16450249981509,-0.37148224917710493,-0.18260885079369804,-0.4092711761786943,0.5749250559123048,-0.2759745022398379,-0.30350393770262857,-0.18741522204601285,0.375020848191824,-0.07851918642935689,-0.11587674824796598,0.2828867091722688],"type":"scatter","name":"virginica","legendgroup":"virginica","marker":{"color":"#00cc96"}}],
        {"shapes":[{"x0":0,"type":"line","y0":0,"y1":-0.17676813109091424,"x1":0.34757295998106463},{"x0":0,"type":"line","y0":0,"y1":-0.15904256624307134,"x1":-1.527658810404865},{"x0":0,"type":"line","y0":0,"y1":0.018097162149194962,"x1":-1.5160584490775162},{"x0":0,"type":"line","y0":0,"y1":0.042578523582251324,"x1":-3.6188807514372066}],"xaxis":{"title":{"text":"x1"}},"template":{"layout":{"coloraxis":{"colorbar":{"ticks":"","outlinewidth":0}},"xaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"hovermode":"closest","paper_bgcolor":"white","geo":{"showlakes":true,"showland":true,"landcolor":"#E5ECF6","bgcolor":"white","subunitcolor":"white","lakecolor":"white"},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"yaxis":{"gridcolor":"white","zerolinewidth":2,"title":{"standoff":15},"ticks":"","zerolinecolor":"white","automargin":true,"linecolor":"white"},"shapedefaults":{"line":{"color":"#2a3f5f"}},"hoverlabel":{"align":"left"},"mapbox":{"style":"light"},"polar":{"angularaxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"autotypenumbers":"strict","font":{"color":"#2a3f5f"},"ternary":{"baxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","ticks":"","linecolor":"white"},"aaxis":{"gridcolor":"white","ticks":"","linecolor":"white"}},"annotationdefaults":{"arrowhead":0,"arrowwidth":1,"arrowcolor":"#2a3f5f"},"plot_bgcolor":"#E5ECF6","title":{"x":0.05},"scene":{"xaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"zaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"},"yaxis":{"gridcolor":"white","gridwidth":2,"backgroundcolor":"#E5ECF6","ticks":"","showbackground":true,"zerolinecolor":"white","linecolor":"white"}},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"]},"data":{"barpolar":[{"type":"barpolar","marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"carpet":[{"aaxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"},"type":"carpet","baxis":{"gridcolor":"white","endlinecolor":"#2a3f5f","minorgridcolor":"white","startlinecolor":"#2a3f5f","linecolor":"white"}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"parcoords":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"parcoords"}],"scatter":[{"type":"scatter","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2dcontour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2dcontour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contour":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contour","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"mesh3d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"mesh3d"}],"surface":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"surface","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram":[{"type":"histogram","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"pie":[{"type":"pie","automargin":true}],"choropleth":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"choropleth"}],"heatmapgl":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmapgl","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"bar":[{"type":"bar","error_y":{"color":"#2a3f5f"},"error_x":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5}}}],"heatmap":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"heatmap","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"contourcarpet"}],"table":[{"type":"table","header":{"line":{"color":"white"},"fill":{"color":"#C8D4E3"}},"cells":{"line":{"color":"white"},"fill":{"color":"#EBF0F8"}}}],"scatter3d":[{"line":{"colorbar":{"ticks":"","outlinewidth":0}},"type":"scatter3d","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"histogram2d":[{"colorbar":{"ticks":"","outlinewidth":0},"type":"histogram2d","colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"ticks":"","outlinewidth":0}}}]}},"annotations":[{"yanchor":"bottom","xanchor":"center","y":-0.17676813109091424,"text":"sepal_width","x":0.34757295998106463},{"yanchor":"bottom","xanchor":"center","y":-0.15904256624307134,"text":"sepal_length","x":-1.527658810404865},{"yanchor":"bottom","xanchor":"center","y":0.018097162149194962,"text":"petal_width","x":-1.5160584490775162},{"yanchor":"bottom","xanchor":"center","y":0.042578523582251324,"text":"petal_length","x":-3.6188807514372066}],"margin":{"l":50,"b":50,"r":50,"t":60},"legend":{"tracegroupgap":0,"title":{"text":"species"}},"yaxis":{"title":{"text":"x2"}}},
        {"editable":false,"responsive":true,"staticPlot":false,"scrollZoom":true},
    )
}

        });
    </script>
</div>


<h2>References</h2>
<p>The following resources offer an in-depth overview of PCA and explained variance:</p>
<ul>
<li><p>https://en.wikipedia.org/wiki/Explained_variation</p>
</li>
<li><p>https://scikit-learn.org/stable/modules/decomposition.html#pca</p>
</li>
<li><p>https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579</p>
</li>
<li><p>https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another</p>
</li>
<li><p>https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained</p>
</li>
</ul>
</div>





        </section>

        

        <section class="tutorial-content">
          <h3>Share you Plotly chart with a link for free</h3>

<p>To save your chart online for free, please  to retrieve your free API key.</p>

<p>To save private charts (not discoverable or viewable by anyone but you and trusted collaborators), there is a $14/month hosting option (billed annually). Revenue from private chart hosting on Chart Studio also supports the open-source development team maintaining the Plotly Python library.</p>

<p>Please click "Upgrade" in the Chart Creator <a href="https://chart-studio.plotly.com/create/">if you wish to support our work!</a></p>




        </section>
        
        <!--End Plotly Basics Section-->
      </section>
    </div>
  </main>


  <script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>



  <footer class="--footer-main">
  <section class="--footer-top">
    <div class="--wrap">
      <ul class="--footer-body">
        <li class="--footer-column">
          <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
            &#x9;&#x9;&#x9;&#x9;
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
            &#x9;&#x9;&#x9;&#x9;
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
            &#x9;&#x9;&#x9;&#x9;
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
            &#x9;&#x9;&#x9;&#x9;
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
          <ul>
            &#x9;&#x9;&#x9;&#x9;
            <li>
              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly â from Dash Club to product
                updates, webinars, and more!</p>
              <a href="https://go.plot.ly/subscription" class="subscribe-button" target="_blank">
                Subscribe
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </section>
  <section class="--footer-meta">
    <div class="--wrap">
      <div class="left">
        <article class="--copyright">Copyright &copy; 2021 Plotly. All rights reserved.</article>
      </div>
      <div class="right">
        <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
        </article>
        <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
        </article>
      </div>
    </div>
  </section>
</footer>



<div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder="" />
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  window.plotly_doc_language = "julia";

</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'julia_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }

</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

<!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
<!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
<script src="/all_static/javascripts/improve.js?version=2021-10-28-04-07"></script>
<!-- code highlighting -->

<!--<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
<script src="/all_static/javascripts/highlight.line-numbers.js"></script>-->
<script src="/all_static/javascripts/highlight/highlight.min.js"></script>
<script src="/all_static/javascripts/highlight/julia.min.js"></script>
<script src="/all_static/javascripts/highlight.line-numbers.js"></script>







</body>

</html>