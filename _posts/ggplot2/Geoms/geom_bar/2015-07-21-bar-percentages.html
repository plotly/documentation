---
name: using <code>geom_bar</code> to show percentages
plot_url: https://plot.ly/~riddhiman/188/show-precentages-in-bar-chart/
arrangement: horizontal
language: ggplot2
suite: bar
description: Inspired by <a href="http://stackoverflow.com/questions/3695497/ggplot-showing-instead-of-counts-in-charts-of-categorical-variables">Stack Overflow</a>.
order: 14
sitemap: false
---
library(plotly)
set.seed(123)

df <- diamonds[sample(1:nrow(diamonds), size = 1000),]

p <- ggplot(df, aes(x = color)) + 
  geom_bar(aes(y = ..count../sum(..count..), fill = cut)) + 
  scale_fill_brewer(palette = "Set3") + 
  ylab("Percent") + 
  ggtitle("Show precentages in bar chart")
  
p
ggplotly()
