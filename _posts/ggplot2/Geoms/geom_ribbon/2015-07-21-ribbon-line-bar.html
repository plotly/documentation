---
name: using <code>geom_line</code> with <code>geom_ribbon</code>
plot_url: https://plot.ly/~MattSundquist/17629/y-vs-x/
arrangement: horizontal
language: ggplot2
suite: ribbon
description: Write feedback@plot.ly with questions or  <a href="https://github.com/ropensci/plotly/issues">submit an issue</a>. See the <a href="http://ropensci.github.io/plotly-test-table/tables/0e3d5ca144d27d8416318824c1b6ec1421a51045/index.html">ggplot2 â†’ plotly test tables</a> for ggplot2 conversion coverage. Inspired by <a href="http://stackoverflow.com/questions/28714492/legend-with-geom-line-and-geom-ribbon">Stack Overflow</a>.
order: 1
sitemap: false
---
library(plotly)

set.seed(1)
y <- sin(seq(1, 2*pi, length.out = 100))
x <- 1:100
plotdata <- data.frame(x=x, y=y, lower = (y+runif(100, -1, -0.5)), upper = (y+runif(100, 0.5, 1)))

ggplot(plotdata) + geom_line(aes(y=y, x=x, colour = "sin"))+
    geom_ribbon(aes(ymin=lower, ymax=upper, x=x, fill = "band"), alpha = 0.3)+
    scale_colour_manual("",values="blue")+
    scale_fill_manual("",values="grey12")

ggplotly()
