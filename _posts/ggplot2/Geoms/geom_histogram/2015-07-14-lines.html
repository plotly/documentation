---
name: adding lines to histograms in R
plot_url: https://plot.ly/~MattSundquist/18431/count-vs-rating/
arrangement: horizontal
language: ggplot2
suite: histogram
description: Inspired by <a href="http://stackoverflow.com/questions/14943094/how-to-remove-line-from-fill-scale-legend-using-geom-vline-and-geom-histogram-r">Stack Overflow</a>.
order: 2
sitemap: false
---
library(plotly)

df1 <- data.frame(cond = factor( rep(c("A","B"), each=200) ),
                  rating = c(rnorm(200),rnorm(200, mean=.8)))

df2 <- data.frame(x=c(.5,1),cond=factor(c("A","B")))

ggplot(data=df1, aes(x=rating, fill=cond)) +
    geom_vline(data=df2,aes(xintercept=x,linetype=factor(cond)),
               show_guide=TRUE) +
    geom_histogram(binwidth=.5, position="dodge") +
    geom_vline(xintercep=df2$x,linetype=c(1,1))

ggplotly()
