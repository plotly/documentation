---
permalink: python/3d-plots-tutorial/
description: A tutorial on how to make beautiful 3d plots with plotly and Python or IPython.
name: 3D Plots
layout: user-guide
thumbnail: /images/static-image.png
language: python
page_type: u-guide
has_thumbnail: false
---
  <script>
    window.location = "https://plot.ly/python/#3d-charts";
  </script>

   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h2 id="Section-8:-3D-Plots">
       Section 8: 3D Plots
       <a class="anchor-link" href="#Section-8:-3D-Plots">
        ¶
       </a>
      </h2>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Welcome to Plotly's Python API User Guide.
      </p>
      <blockquote>
       <p>
        Links to the other sections are on the User Guide's
        <a href="/python/user-guide#Table-of-Contents:">
         homepage
        </a>
        <br/>
        The Github repository is available
        <a href="https://github.com/plotly/python-user-guide" target="_blank">
         here
        </a>
       </p>
      </blockquote>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Section 8 is divided as follows:
      </p>
      <ul>
       <li>
        <p>
         <a href="#8.1-A-simple-surface-plot">
          8.1 A simple surface plot
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="#8.2-A-helix-curve-in-3D">
          8.2 A helix curve in 3D
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="#8.3-Lorenz-Attrator-streaming-plot">
          8.3 Lorenz Attractor streaming plot
         </a>
        </p>
       </li>
      </ul>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Quickstart (a 3d scatter plot of 3 points):
      </p>
      <pre><code>&gt;&gt;&gt; import plotly.plotly as py
&gt;&gt;&gt; from plotly.graph_objs import *
&gt;&gt;&gt; # auto sign-in with credentials or use py.sign_in()
&gt;&gt;&gt; trace1 = Scatter3d(
        x=[1,2,3],
        y=[3,4,5],
        z=[1,3,4]
    )
&gt;&gt;&gt; data = Data([trace1])
&gt;&gt;&gt; py.plot(data)
</code></pre>
      <hr/>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Check which version is installed on your machine and please upgrade if needed.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[1]">
      <a class="prompt input_prompt" href="#in-[1]">
       In [1]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># (*) Import plotly package</span>
<span class="kn">import</span> <span class="nn">plotly</span>

<span class="c"># Check plolty version (if not latest, please upgrade)</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">__version__</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[1]">
        <a class="prompt output_prompt" href="#out[1]">
         Out[1]:
        </a>
       </div>
       <div class="output_text output_subarea output_pyout">
        <pre>
'1.6.6'
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       See the User Guide's
       <a href="/python/user-guide#Installation-guidelines" target="_blank">
        homepage
       </a>
       for more info on installation and upgrading.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <hr/>
      <p>
       In this section, we introduce Plotly's 3D plot engine. 3D plots are a new feature to Plotly and this section (in its currently form) only scratches the surface on its possibilities.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       We first import a few modules and sign in to Plotly using our credential file:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[2]">
      <a class="prompt input_prompt" href="#in-[2]">
       In [2]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># (*) To communicate with Plotly's server, sign in with credentials file</span>
<span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>

<span class="c"># (*) Useful Python/Plotly tools</span>
<span class="kn">import</span> <span class="nn">plotly.tools</span> <span class="kn">as</span> <span class="nn">tls</span>

<span class="c"># (*) Graph objects to piece together plots</span>
<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>  <span class="c"># (*) numpy for math functions and arrays</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       If you are not familiar with credentials files, refer to the User Guide's
       <a href="/python/user-guide#Step-6" target="_blank">
        homepage
       </a>
       .
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h3 id="8.1-A-simple-surface-plot">
       8.1 A simple surface plot
       <a class="anchor-link" href="#8.1-A-simple-surface-plot">
        ¶
       </a>
      </h3>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Let's try to make a Plotly version of this
       <a href="http://www.robertocolistete.net/MatPlotLib/surfacefxy.png" target="_blank">
        plot
       </a>
       taken from Roberto Colistete's
       <a href="http://www.robertocolistete.net" target="_blank">
        web page
       </a>
       .
       <br/>
       Big thanks for the inspiration!
      </p>
      <p>
       The function to be plotted is:
      </p>
      <p>
       $$ f(x,y) = A \cos(\pi x y) e^{-(x^2+y^2)/2} $$
      </p>
      <p>
       where $A$ is some number corresponding to the amplitude of the surface. So,
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[3]">
      <a class="prompt input_prompt" href="#in-[3]">
       In [3]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># (*) Import the math functions needed in this cell</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">exp</span>

<span class="c"># Define the function to be plotted</span>
<span class="k">def</span> <span class="nf">fxy</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">A</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c"># choose a maximum amplitude </span>
    <span class="k">return</span> <span class="n">A</span><span class="o">*</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[4]">
      <a class="prompt input_prompt" href="#in-[4]">
       In [4]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Choose length of square domain, make row and column vectors</span>
<span class="n">L</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="n">L</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> <span class="n">L</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>  <span class="c"># use a mesh spacing of 0.1</span>
<span class="n">yt</span> <span class="o">=</span> <span class="n">y</span><span class="p">[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>  <span class="c"># (!) make column vector</span>

<span class="c"># Get surface coordinates!</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">fxy</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">yt</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       We will generate the surface using (you guessed it) the Surface graph object. As always, a good way to start using a new Plotly graph object is to call help:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[5]">
      <a class="prompt input_prompt" href="#in-[5]">
       In [5]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">help</span><span class="p">(</span><span class="n">Surface</span><span class="p">)</span>  <span class="c"># call help()!</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Help on class Surface in module plotly.graph_objs.graph_objs:

class Surface(PlotlyTrace)
 |  A dictionary-like object for representing a 3D surface trace in plotly.
 |
 |  Quick method reference:
 |
 |      Surface.update(changes)
 |      Surface.strip_style()
 |      Surface.get_data()
 |      Surface.to_graph_objs()
 |      Surface.validate()
 |      Surface.to_string()
 |      Surface.force_clean()
 |
 |  Valid keys:
 |
 |      z [required=True] (value=list of lists or 2d numpy array of numbers)
 |      (streamable):
 |          Sets the surface coordinates. Say the dimensions of the list of
 |          lists or 2d numpy array linked to 'z' has n rows and m columns then
 |          the resulting contour will have n coordinates along the y-axis and m
 |          coordinates along the x-axis. Therefore, the i-th row/ j-th column
 |          cell in the list of lists or 2d numpy array linked to 'z' is mapped
 |          to the i-th partition of the y-axis and the j-th partition of the
 |          x-axis
 |
 |      x [required=False] (value=list or 1d numpy array of numbers, strings,
 |      datetimes or list of lists or 2d numpy array of numbers) (streamable):
 |          Sets the horizontal coordinates referring to the columns of the list
 |          of lists or 2d numpy array linked to 'z'. If the 'z' is a list or 1d
 |          numpy array of strings, then the x-labels are spaced evenly. If the
 |          dimensions of the list of lists or 2d numpy array linked to 'z' are
 |          (n x m), the length of the 'x' array should equal m.
 |
 |      y [required=False] (value=list or 1d numpy array of numbers, strings,
 |      datetimes or list of lists or 2d numpy array of numbers) (streamable):
 |          Sets the vertical coordinates referring to the rows of the list of
 |          lists or 2d numpy array linked to 'z'. If strings, the y-labels are
 |          spaced evenly. If the dimensions of the list of lists or 2d numpy
 |          array linked to 'z' are (n x m), the length of the 'y' array should
 |          equal n.
 |
 |      name [required=False] (value=a string):
 |          The label associated with this trace. This name will appear in the
 |          column header in the online spreadsheet.
 |
 |      colorscale [required=False] (value=list or 1d numpy array of value-color
 |      pairs | 'Greys' | 'Greens' | 'Bluered' | 'Hot' | 'Picnic' | 'Portland' |
 |      'Jet' | 'RdBu' | 'Blackbody' | 'Earth' | 'Electric' | 'YIOrRd' |
 |      'YIGnBu'):
 |          Sets and/or defines the color scale for this trace. The string
 |          values are pre-defined color scales. For custom color scales, define
 |          a list or 1d numpy array of value-color pairs where, the first
 |          element of the pair corresponds to a normalized value of z from 0-1,
 |          i.e. (z-zmin)/ (zmax-zmin), and the second element of pair
 |          corresponds to a color. Use with 'zauto', 'zmin' and 'zmax to fine-
 |          tune the map from 'z' to rendered colors.
 |
 |          Examples:
 |              'Greys' | [[0, 'rgb(0,0,0)'], [0.5, 'rgb(65, 182, 196)'], [1,
 |              'rgb(255,255,255)']]
 |
 |      scene [required=False] (value='scene1' | 'scene2' | 'scene3' | etc.):
 |          This key determines the scene on which this trace will be plotted
 |          in.
 |
 |      stream [required=False] (value=Stream object | dictionary-like object):
 |          Links a dictionary-like object that initializes this trace as a
 |          writable-stream, for use with the streaming API.
 |
 |          For more, run `help(plotly.graph_objs.Stream)`
 |
 |      visible [required=False] (value=a boolean: True | False):
 |          Toggles whether or not this object will be visible on the rendered
 |          figure.
 |
 |      type [required=False] (value='surface'):
 |          Plotly identifier for this data's trace type.
 |
 |  Method resolution order:
 |      Surface
 |      PlotlyTrace
 |      PlotlyDict
 |      __builtin__.dict
 |      __builtin__.object
 |
 |  Methods inherited from PlotlyTrace:
 |
 |  __init__(self, *args, **kwargs)
 |
 |  to_string(self, level=0, indent=4, eol='\n', pretty=True, max_chars=80)
 |      Returns a formatted string showing graph_obj constructors.
 |
 |      Example:
 |
 |          print(obj.to_string())
 |
 |      Keyword arguments:
 |      level (default = 0) -- set number of indentations to start with
 |      indent (default = 4) -- set indentation amount
 |      eol (default = '\n') -- set end of line character(s)
 |      pretty (default = True) -- curtail long list output with a '...'
 |      max_chars (default = 80) -- set max characters per line
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from PlotlyDict:
 |
 |  __setitem__(self, key, value)
 |
 |  force_clean(self, caller=True)
 |      Attempts to convert to graph_objs and call force_clean() on values.
 |
 |      Calling force_clean() on a PlotlyDict will ensure that the object is
 |      valid and may be sent to plotly. This process will also remove any
 |      entries that end up with a length == 0.
 |
 |      Careful! This will delete any invalid entries *silently*.
 |
 |  get_data(self)
 |      Returns the JSON for the plot with non-data elements stripped.
 |
 |  get_ordered(self, caller=True)
 |
 |  strip_style(self)
 |      Strip style from the current representation.
 |
 |      All PlotlyDicts and PlotlyLists are guaranteed to survive the
 |      stripping process, though they made be left empty. This is allowable.
 |
 |      Keys that will be stripped in this process are tagged with
 |      `'type': 'style'` in graph_objs_meta.json.
 |
 |      This process first attempts to convert nested collections from dicts
 |      or lists to subclasses of PlotlyList/PlotlyDict. This process forces
 |      a validation, which may throw exceptions.
 |
 |      Then, each of these objects call `strip_style` on themselves and so
 |      on, recursively until the entire structure has been validated and
 |      stripped.
 |
 |  to_graph_objs(self, caller=True)
 |      Walk obj, convert dicts and lists to plotly graph objs.
 |
 |      For each key in the object, if it corresponds to a special key that
 |      should be associated with a graph object, the ordinary dict or list
 |      will be reinitialized as a special PlotlyDict or PlotlyList of the
 |      appropriate `kind`.
 |
 |  update(self, dict1=None, **dict2)
 |      Update current dict with dict1 and then dict2.
 |
 |      This recursively updates the structure of the original dictionary-like
 |      object with the new entries in the second and third objects. This
 |      allows users to update with large, nested structures.
 |
 |      Note, because the dict2 packs up all the keyword arguments, you can
 |      specify the changes as a list of keyword agruments.
 |
 |      Examples:
 |      # update with dict
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      update_dict = dict(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj.update(update_dict)
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      # update with list of keyword arguments
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      obj.update(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      This 'fully' supports duck-typing in that the call signature is
 |      identical, however this differs slightly from the normal update
 |      method provided by Python's dictionaries.
 |
 |  validate(self, caller=True)
 |      Recursively check the validity of the keys in a PlotlyDict.
 |
 |      The valid keys constitute the entries in each object
 |      dictionary in graph_objs_meta.json
 |
 |      The validation process first requires that all nested collections be
 |      converted to the appropriate subclass of PlotlyDict/PlotlyList. Then,
 |      each of these objects call `validate` and so on, recursively,
 |      until the entire object has been validated.
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from PlotlyDict:
 |
 |  __dict__
 |      dictionary for instance variables (if defined)
 |
 |  __weakref__
 |      list of weak references to the object (if defined)
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from __builtin__.dict:
 |
 |  __cmp__(...)
 |      x.__cmp__(y) &lt;==&gt; cmp(x,y)
 |
 |  __contains__(...)
 |      D.__contains__(k) -&gt; True if D has a key k, else False
 |
 |  __delitem__(...)
 |      x.__delitem__(y) &lt;==&gt; del x[y]
 |
 |  __eq__(...)
 |      x.__eq__(y) &lt;==&gt; x==y
 |
 |  __ge__(...)
 |      x.__ge__(y) &lt;==&gt; x&gt;=y
 |
 |  __getattribute__(...)
 |      x.__getattribute__('name') &lt;==&gt; x.name
 |
 |  __getitem__(...)
 |      x.__getitem__(y) &lt;==&gt; x[y]
 |
 |  __gt__(...)
 |      x.__gt__(y) &lt;==&gt; x&gt;y
 |
 |  __iter__(...)
 |      x.__iter__() &lt;==&gt; iter(x)
 |
 |  __le__(...)
 |      x.__le__(y) &lt;==&gt; x&lt;=y
 |
 |  __len__(...)
 |      x.__len__() &lt;==&gt; len(x)
 |
 |  __lt__(...)
 |      x.__lt__(y) &lt;==&gt; x&lt;y
 |
 |  __ne__(...)
 |      x.__ne__(y) &lt;==&gt; x!=y
 |
 |  __repr__(...)
 |      x.__repr__() &lt;==&gt; repr(x)
 |
 |  __sizeof__(...)
 |      D.__sizeof__() -&gt; size of D in memory, in bytes
 |
 |  clear(...)
 |      D.clear() -&gt; None.  Remove all items from D.
 |
 |  copy(...)
 |      D.copy() -&gt; a shallow copy of D
 |
 |  fromkeys(...)
 |      dict.fromkeys(S[,v]) -&gt; New dict with keys from S and values equal to v.
 |      v defaults to None.
 |
 |  get(...)
 |      D.get(k[,d]) -&gt; D[k] if k in D, else d.  d defaults to None.
 |
 |  has_key(...)
 |      D.has_key(k) -&gt; True if D has a key k, else False
 |
 |  items(...)
 |      D.items() -&gt; list of D's (key, value) pairs, as 2-tuples
 |
 |  iteritems(...)
 |      D.iteritems() -&gt; an iterator over the (key, value) items of D
 |
 |  iterkeys(...)
 |      D.iterkeys() -&gt; an iterator over the keys of D
 |
 |  itervalues(...)
 |      D.itervalues() -&gt; an iterator over the values of D
 |
 |  keys(...)
 |      D.keys() -&gt; list of D's keys
 |
 |  pop(...)
 |      D.pop(k[,d]) -&gt; v, remove specified key and return the corresponding value.
 |      If key is not found, d is returned if given, otherwise KeyError is raised
 |
 |  popitem(...)
 |      D.popitem() -&gt; (k, v), remove and return some (key, value) pair as a
 |      2-tuple; but raise KeyError if D is empty.
 |
 |  setdefault(...)
 |      D.setdefault(k[,d]) -&gt; D.get(k,d), also set D[k]=d if k not in D
 |
 |  values(...)
 |      D.values() -&gt; list of D's values
 |
 |  viewitems(...)
 |      D.viewitems() -&gt; a set-like object providing a view on D's items
 |
 |  viewkeys(...)
 |      D.viewkeys() -&gt; a set-like object providing a view on D's keys
 |
 |  viewvalues(...)
 |      D.viewvalues() -&gt; an object providing a view on D's values
 |
 |  ----------------------------------------------------------------------
 |  Data and other attributes inherited from __builtin__.dict:
 |
 |  __hash__ = None
 |
 |  __new__ = &lt;built-in method __new__ of type object&gt;
 |      T.__new__(S, ...) -&gt; a new object with type S, a subtype of T


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       In a lot of ways, Surface works offers the same functionaliy as the Heatmap and Contour offers. So consider,
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[6]">
      <a class="prompt input_prompt" href="#in-[6]">
       In [6]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">trace1</span> <span class="o">=</span> <span class="n">Surface</span><span class="p">(</span>
    <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">,</span>  <span class="c"># link the fxy 2d numpy array</span>
    <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>  <span class="c"># link 1d numpy array of x coords</span>
    <span class="n">y</span><span class="o">=</span><span class="n">y</span>   <span class="c"># link 1d numpy array of y coords</span>
<span class="p">)</span>

<span class="c"># Package the trace dictionary into a data object</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">([</span><span class="n">trace1</span><span class="p">])</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h5 id="Axes-in-3D-plots">
       Axes in 3D plots
       <a class="anchor-link" href="#Axes-in-3D-plots">
        ¶
       </a>
      </h5>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Axes in 3D Plotly plots work in little differently than in 2D: axes are bound to a
       <em>
        Scene
       </em>
       .
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[7]">
      <a class="prompt input_prompt" href="#in-[7]">
       In [7]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">help</span><span class="p">(</span><span class="n">Scene</span><span class="p">)</span>  <span class="c"># call help()!</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Help on class Scene in module plotly.graph_objs.graph_objs:

class Scene(PlotlyDict)
 |  A dictionary-like object for representing a 3D scene in plotly.
 |
 |  Parent key:
 |
 |      scene
 |
 |  Quick method reference:
 |
 |      Scene.update(changes)
 |      Scene.strip_style()
 |      Scene.get_data()
 |      Scene.to_graph_objs()
 |      Scene.validate()
 |      Scene.to_string()
 |      Scene.force_clean()
 |
 |  Valid keys:
 |
 |      xaxis [required=False] (value=XAxis object | dictionary-like object):
 |          Links a dictionary-like object describing an x-axis of a particular
 |          3D scene.
 |
 |          For more, run `help(plotly.graph_objs.XAxis)`
 |
 |      yaxis [required=False] (value=YAxis object | dictionary-like object):
 |          Links a dictionary-like object describing an y-axis of a particular
 |          3D scene.
 |
 |          For more, run `help(plotly.graph_objs.YAxis)`
 |
 |      zaxis [required=False] (value=ZAxis object | dictionary-like object):
 |          Links a dictionary-like object describing an z-axis of a particular
 |          3D scene.
 |
 |          For more, run `help(plotly.graph_objs.ZAxis)`
 |
 |      cameraposition [required=False] (value=camera position list or 1d numpy
 |      array):
 |          Sets the camera position with respect to the scene. The first entry
 |          (a list or 1d numpy array of length 4) sets the angular position of
 |          the camera. The second entry (a list or 1d numpy array of length 3)
 |          sets the (x,y,z) translation of the camera. The third entry (a
 |          scalar) sets zoom of the camera.
 |
 |          Examples:
 |              [[0.2, 0.5, 0.1, 0.2], [0.1, 0, -0.1], 3]
 |
 |      domain [required=False] (value=domain dictionary):
 |          Sets the x-y domain of this scene on the plotting surface.
 |
 |          Examples:
 |              {'x': [0, 0.4], 'y': [0.6, 1]} | dict(x=[0, 0.4], y=[0.6, 1])
 |
 |      bgcolor [required=False] (value=a string describing color):
 |          Sets the background (bg) color of this scene (i.e. of the plotting
 |          surface and the margins).
 |
 |          Examples:
 |              'green' | 'rgb(0, 255, 0)' | 'rgba(0, 255, 0, 0.3)' |
 |              'hsl(120,100%,50%)' | 'hsla(120,100%,50%,0.3)' | '#434F1D'
 |
 |  Method resolution order:
 |      Scene
 |      PlotlyDict
 |      __builtin__.dict
 |      __builtin__.object
 |
 |  Methods inherited from PlotlyDict:
 |
 |  __init__(self, *args, **kwargs)
 |
 |  __setitem__(self, key, value)
 |
 |  force_clean(self, caller=True)
 |      Attempts to convert to graph_objs and call force_clean() on values.
 |
 |      Calling force_clean() on a PlotlyDict will ensure that the object is
 |      valid and may be sent to plotly. This process will also remove any
 |      entries that end up with a length == 0.
 |
 |      Careful! This will delete any invalid entries *silently*.
 |
 |  get_data(self)
 |      Returns the JSON for the plot with non-data elements stripped.
 |
 |  get_ordered(self, caller=True)
 |
 |  strip_style(self)
 |      Strip style from the current representation.
 |
 |      All PlotlyDicts and PlotlyLists are guaranteed to survive the
 |      stripping process, though they made be left empty. This is allowable.
 |
 |      Keys that will be stripped in this process are tagged with
 |      `'type': 'style'` in graph_objs_meta.json.
 |
 |      This process first attempts to convert nested collections from dicts
 |      or lists to subclasses of PlotlyList/PlotlyDict. This process forces
 |      a validation, which may throw exceptions.
 |
 |      Then, each of these objects call `strip_style` on themselves and so
 |      on, recursively until the entire structure has been validated and
 |      stripped.
 |
 |  to_graph_objs(self, caller=True)
 |      Walk obj, convert dicts and lists to plotly graph objs.
 |
 |      For each key in the object, if it corresponds to a special key that
 |      should be associated with a graph object, the ordinary dict or list
 |      will be reinitialized as a special PlotlyDict or PlotlyList of the
 |      appropriate `kind`.
 |
 |  to_string(self, level=0, indent=4, eol='\n', pretty=True, max_chars=80)
 |      Returns a formatted string showing graph_obj constructors.
 |
 |      Example:
 |
 |          print(obj.to_string())
 |
 |      Keyword arguments:
 |      level (default = 0) -- set number of indentations to start with
 |      indent (default = 4) -- set indentation amount
 |      eol (default = '\n') -- set end of line character(s)
 |      pretty (default = True) -- curtail long list output with a '...'
 |      max_chars (default = 80) -- set max characters per line
 |
 |  update(self, dict1=None, **dict2)
 |      Update current dict with dict1 and then dict2.
 |
 |      This recursively updates the structure of the original dictionary-like
 |      object with the new entries in the second and third objects. This
 |      allows users to update with large, nested structures.
 |
 |      Note, because the dict2 packs up all the keyword arguments, you can
 |      specify the changes as a list of keyword agruments.
 |
 |      Examples:
 |      # update with dict
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      update_dict = dict(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj.update(update_dict)
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      # update with list of keyword arguments
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      obj.update(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      This 'fully' supports duck-typing in that the call signature is
 |      identical, however this differs slightly from the normal update
 |      method provided by Python's dictionaries.
 |
 |  validate(self, caller=True)
 |      Recursively check the validity of the keys in a PlotlyDict.
 |
 |      The valid keys constitute the entries in each object
 |      dictionary in graph_objs_meta.json
 |
 |      The validation process first requires that all nested collections be
 |      converted to the appropriate subclass of PlotlyDict/PlotlyList. Then,
 |      each of these objects call `validate` and so on, recursively,
 |      until the entire object has been validated.
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from PlotlyDict:
 |
 |  __dict__
 |      dictionary for instance variables (if defined)
 |
 |  __weakref__
 |      list of weak references to the object (if defined)
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from __builtin__.dict:
 |
 |  __cmp__(...)
 |      x.__cmp__(y) &lt;==&gt; cmp(x,y)
 |
 |  __contains__(...)
 |      D.__contains__(k) -&gt; True if D has a key k, else False
 |
 |  __delitem__(...)
 |      x.__delitem__(y) &lt;==&gt; del x[y]
 |
 |  __eq__(...)
 |      x.__eq__(y) &lt;==&gt; x==y
 |
 |  __ge__(...)
 |      x.__ge__(y) &lt;==&gt; x&gt;=y
 |
 |  __getattribute__(...)
 |      x.__getattribute__('name') &lt;==&gt; x.name
 |
 |  __getitem__(...)
 |      x.__getitem__(y) &lt;==&gt; x[y]
 |
 |  __gt__(...)
 |      x.__gt__(y) &lt;==&gt; x&gt;y
 |
 |  __iter__(...)
 |      x.__iter__() &lt;==&gt; iter(x)
 |
 |  __le__(...)
 |      x.__le__(y) &lt;==&gt; x&lt;=y
 |
 |  __len__(...)
 |      x.__len__() &lt;==&gt; len(x)
 |
 |  __lt__(...)
 |      x.__lt__(y) &lt;==&gt; x&lt;y
 |
 |  __ne__(...)
 |      x.__ne__(y) &lt;==&gt; x!=y
 |
 |  __repr__(...)
 |      x.__repr__() &lt;==&gt; repr(x)
 |
 |  __sizeof__(...)
 |      D.__sizeof__() -&gt; size of D in memory, in bytes
 |
 |  clear(...)
 |      D.clear() -&gt; None.  Remove all items from D.
 |
 |  copy(...)
 |      D.copy() -&gt; a shallow copy of D
 |
 |  fromkeys(...)
 |      dict.fromkeys(S[,v]) -&gt; New dict with keys from S and values equal to v.
 |      v defaults to None.
 |
 |  get(...)
 |      D.get(k[,d]) -&gt; D[k] if k in D, else d.  d defaults to None.
 |
 |  has_key(...)
 |      D.has_key(k) -&gt; True if D has a key k, else False
 |
 |  items(...)
 |      D.items() -&gt; list of D's (key, value) pairs, as 2-tuples
 |
 |  iteritems(...)
 |      D.iteritems() -&gt; an iterator over the (key, value) items of D
 |
 |  iterkeys(...)
 |      D.iterkeys() -&gt; an iterator over the keys of D
 |
 |  itervalues(...)
 |      D.itervalues() -&gt; an iterator over the values of D
 |
 |  keys(...)
 |      D.keys() -&gt; list of D's keys
 |
 |  pop(...)
 |      D.pop(k[,d]) -&gt; v, remove specified key and return the corresponding value.
 |      If key is not found, d is returned if given, otherwise KeyError is raised
 |
 |  popitem(...)
 |      D.popitem() -&gt; (k, v), remove and return some (key, value) pair as a
 |      2-tuple; but raise KeyError if D is empty.
 |
 |  setdefault(...)
 |      D.setdefault(k[,d]) -&gt; D.get(k,d), also set D[k]=d if k not in D
 |
 |  values(...)
 |      D.values() -&gt; list of D's values
 |
 |  viewitems(...)
 |      D.viewitems() -&gt; a set-like object providing a view on D's items
 |
 |  viewkeys(...)
 |      D.viewkeys() -&gt; a set-like object providing a view on D's keys
 |
 |  viewvalues(...)
 |      D.viewvalues() -&gt; an object providing a view on D's values
 |
 |  ----------------------------------------------------------------------
 |  Data and other attributes inherited from __builtin__.dict:
 |
 |  __hash__ = None
 |
 |  __new__ = &lt;built-in method __new__ of type object&gt;
 |      T.__new__(S, ...) -&gt; a new object with type S, a subtype of T


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       A scene is the wrapping element for the x, y and z axes of a 3D plot. A scene can be rotated, translated and zoomed into (more on how to do so at the end of this subsection). The
       <code>
        Scene
       </code>
       object links an
       <code>
        XAxis
       </code>
       , a
       <code>
        YAxis
       </code>
       and a
       <code>
        ZAxis
       </code>
       objects. Moreover, users can programmatically set the camera position using the
       <code>
        'cameraposition'
       </code>
       key.
      </p>
      <p>
       Note also that Plotly allows users to make multi-scene 3d plots, in a similar way than for multi-axis plots. Examples of this feature will be added to this section shortly.
      </p>
      <p>
       For now, consider the layout object:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[8]">
      <a class="prompt input_prompt" href="#in-[8]">
       In [8]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Dictionary of style options for all axes</span>
<span class="n">axis</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">showbackground</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="c"># (!) show axis background</span>
    <span class="n">backgroundcolor</span><span class="o">=</span><span class="s">"rgb(204, 204, 204)"</span><span class="p">,</span> <span class="c"># set background color to grey</span>
    <span class="n">gridcolor</span><span class="o">=</span><span class="s">"rgb(255, 255, 255)"</span><span class="p">,</span>       <span class="c"># set grid line color</span>
    <span class="n">zerolinecolor</span><span class="o">=</span><span class="s">"rgb(255, 255, 255)"</span><span class="p">,</span>   <span class="c"># set zero grid line color</span>
<span class="p">)</span>

<span class="c"># Make a layout object</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'$f(x,y) = A \cos(\pi x y) e^{-(x^2+y^2)/2}$'</span><span class="p">,</span> <span class="c"># set plot title</span>
    <span class="n">scene</span><span class="o">=</span><span class="n">Scene</span><span class="p">(</span>  <span class="c"># (!) axes are part of a 'scene' in 3d plots</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="n">XAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span> <span class="c"># set x-axis style</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="n">YAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span> <span class="c"># set y-axis style</span>
        <span class="n">zaxis</span><span class="o">=</span><span class="n">ZAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>  <span class="c"># set z-axis style</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       The
       <code>
        'showbackgroundcolor'
       </code>
       and
       <code>
        'backgroundcolor'
       </code>
       axis keys are new to the axis objects. With them users can set the color of the axes' wall. They have only an effects in 3D plots.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Packaging layout and data into a figure object and a call to Plotly gets us our first 3D plot:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[9]">
      <a class="prompt input_prompt" href="#in-[9]">
       In [9]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Make a figure object</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

<span class="c"># (@) Send to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s8_surface'</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[9]">
        <a class="prompt output_prompt" href="#out[9]">
         Out[9]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/464.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       <em>
        A 3D interacting surface plot
       </em>
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Plotly 3D plots have three modes of interaction (togglable from the top right corner of the plot's frame):
      </p>
      <ol>
       <li>
        Rotation (second from left button)
       </li>
       <li>
        Zoom (third from left button)
       </li>
       <li>
        Pan (rightmost button)
       </li>
      </ol>
      <p>
       You are invited to play around with each of them, Plotly 3D plots are alive like no other.
      </p>
      <p>
       In case you are having a hard time familiarizing yourself with the rotation drag interactions, you can return to the original camera position by clicking on the
       <em>
        home
       </em>
       button which is the leftmost button on the top right corner of the plot's frame.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Moreover, this surface plot can be viewed in full screen at the following unique URL:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[10]">
      <a class="prompt input_prompt" href="#in-[10]">
       In [10]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">py</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">auto_open</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s8_surface'</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[10]">
        <a class="prompt output_prompt" href="#out[10]">
         Out[10]:
        </a>
       </div>
       <div class="output_text output_subarea output_pyout">
        <pre>
u'https://plot.ly/~etpinard/464'
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h3 id="8.2-A-helix-curve-in-3D">
       8.2 A helix curve in 3D
       <a class="anchor-link" href="#8.2-A-helix-curve-in-3D">
        ¶
       </a>
      </h3>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Our next plot will be a 3-dimensional
       <a href="http://en.wikipedia.org/wiki/Helix" target="_blank">
        helix
       </a>
       curve.
      </p>
      <p>
       A helix curve is described mathematically in cartesian coordinates by:
      </p>
      <p>
       $$\begin{align} x(t) &amp;= \cos(t) \,, \\ y(t) &amp;= \sin(t) \,, \\ z(t) &amp;= t \end{align}$$
      </p>
      <p>
       where $t$ is some conitnuous variable. So consider,
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[11]">
      <a class="prompt input_prompt" href="#in-[11]">
       In [11]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># (*) Import the math functions needed in this cell</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span>

<span class="c"># Define a function generating the helix coordinates</span>
<span class="k">def</span> <span class="nf">helix</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">t</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Next, get the coordinates of the helix:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[12]">
      <a class="prompt input_prompt" href="#in-[12]">
       In [12]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">pi</span>  <span class="c"># import pi for this cell</span>

<span class="c"># Make a linear space from 0 to 4pi (i.e. 2 revolutions), get coords</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">helix</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       For this figure, we will use the
       <code>
        Scatted3d
       </code>
       object which shares the same functionality as its 2D version. Its available keys are:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[13]">
      <a class="prompt input_prompt" href="#in-[13]">
       In [13]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">help</span><span class="p">(</span><span class="n">Scatter3d</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Help on class Scatter3d in module plotly.graph_objs.graph_objs:

class Scatter3d(PlotlyTrace)
 |  A dictionary-like object for representing a 3D scatter trace in plotly.
 |
 |  Quick method reference:
 |
 |      Scatter3d.update(changes)
 |      Scatter3d.strip_style()
 |      Scatter3d.get_data()
 |      Scatter3d.to_graph_objs()
 |      Scatter3d.validate()
 |      Scatter3d.to_string()
 |      Scatter3d.force_clean()
 |
 |  Valid keys:
 |
 |      x [required=True] (value=list or 1d numpy array of numbers, strings,
 |      datetimes or list of lists or 2d numpy array of numbers) (streamable):
 |          Sets the x coordinates of the points of this 3D scatter trace. If
 |          'x' is linked to a list or 1d numpy array of strings, then the x
 |          coordinates are integers, 0, 1, 2, 3, ..., labeled on the x-axis by
 |          the list or 1d numpy array of strings linked to 'x'.
 |
 |      y [required=True] (value=list or 1d numpy array of numbers, strings,
 |      datetimes or list of lists or 2d numpy array of numbers) (streamable):
 |          Sets the y coordinates of the points of this 3D scatter trace. If
 |          'y' is linked to a list or 1d numpy array of strings, then the y
 |          coordinates are integers, 0, 1, 2, 3, ..., labeled on the y-axis by
 |          the list or 1d numpy array of strings linked to 'y'.
 |
 |      z [required=True] (value=list or 1d numpy array of numbers, strings,
 |      datetimes or list of lists or 2d numpy array of numbers) (streamable):
 |          Sets the z coordinates of the points of this scatter trace. If 'z'
 |          is linked to a list or 1d numpy array of strings, then the z
 |          coordinates are integers, 0, 1, 2, 3, ..., labeled on the z-axis by
 |          the list or 1d numpy array of strings linked to 'z'.
 |
 |      mode [required=False] (value='lines' | 'markers' | 'text' |
 |      'lines+markers' | 'lines+text' | 'markers+text' | 'lines+markers+text'):
 |          Plotting mode for this 3D scatter trace. If the mode includes 'text'
 |          then the 'text' will appear at the (x,y) points, otherwise it will
 |          appear on hover.
 |
 |      name [required=False] (value=a string):
 |          The label associated with this trace. This name will appear in the
 |          column header in the online spreadsheet.
 |
 |      text [required=False] (value=list or 1d numpy array of strings)
 |      (streamable):
 |          The text elements associated with each (x,y,z) pair in this 3D
 |          scatter trace. If the scatter 'mode' does not include 'text' then
 |          elements linked to 'text' will appear on hover only. In contrast, if
 |          'text' is included in 'mode', the elements in 'text' will be
 |          rendered on the plot at the locations specified in part by their
 |          corresponding (x,y,z) coordinate pair and the 'textposition' key.
 |
 |      error_z [required=False] (value=ErrorZ object | dictionary-like object)
 |      (streamable):
 |          Links a dictionary-like object describing the z-axis error bars that
 |          can be drawn from the (x,y,z) coordinates of this 3D scatter trace.
 |
 |          For more, run `help(plotly.graph_objs.ErrorZ)`
 |
 |      error_y [required=False] (value=ErrorY object | dictionary-like object)
 |      (streamable):
 |          Links a dictionary-like object describing the y-axis error bars that
 |          can be drawn from the (x,y,z) coordinates of this 3D scatter trace.
 |
 |          For more, run `help(plotly.graph_objs.ErrorY)`
 |
 |      error_x [required=False] (value=ErrorX object | dictionary-like object)
 |      (streamable):
 |          Links a dictionary-like object describing the x-axis error bars that
 |          can be drawn from the (x,y,z) coordinates of this 3D scatter trace.
 |
 |          For more, run `help(plotly.graph_objs.ErrorX)`
 |
 |      marker [required=False] (value=Marker object | dictionary-like object)
 |      (streamable):
 |          Links a dictionary-like object containing marker style parameters
 |          for this 3D scatter trace. Has an effect only if 'mode' contains
 |          'markers'.
 |
 |          For more, run `help(plotly.graph_objs.Marker)`
 |
 |      line [required=False] (value=Line object | dictionary-like object)
 |      (streamable):
 |          Links a dictionary-like object containing line parameters for this
 |          3D scatter trace. Has an effect only if 'mode' contains 'lines'.
 |
 |          For more, run `help(plotly.graph_objs.Line)`
 |
 |      textposition [required=False] (value='top left' | 'top' (or 'top
 |      center')| 'top right' | 'left' (or 'middle left') | '' (or 'middle
 |      center') | 'right' (or 'middle right') | 'bottom left' | 'bottom' (or
 |      'bottom center') | 'bottom right'):
 |          Sets the position of the text elements in the 'text' key with
 |          respect to the data points. By default, the text elements are
 |          plotted directly at the (x,y,z) coordinates.
 |
 |      scene [required=False] (value='scene1' | 'scene2' | 'scene3' | etc.):
 |          This key determines the scene on which this trace will be plotted
 |          in.
 |
 |      stream [required=False] (value=Stream object | dictionary-like object):
 |          Links a dictionary-like object that initializes this trace as a
 |          writable-stream, for use with the streaming API.
 |
 |          For more, run `help(plotly.graph_objs.Stream)`
 |
 |      visible [required=False] (value=a boolean: True | False):
 |          Toggles whether or not this object will be visible on the rendered
 |          figure.
 |
 |      type [required=False] (value='scatter3d'):
 |          Plotly identifier for this data's trace type.
 |
 |  Method resolution order:
 |      Scatter3d
 |      PlotlyTrace
 |      PlotlyDict
 |      __builtin__.dict
 |      __builtin__.object
 |
 |  Methods inherited from PlotlyTrace:
 |
 |  __init__(self, *args, **kwargs)
 |
 |  to_string(self, level=0, indent=4, eol='\n', pretty=True, max_chars=80)
 |      Returns a formatted string showing graph_obj constructors.
 |
 |      Example:
 |
 |          print(obj.to_string())
 |
 |      Keyword arguments:
 |      level (default = 0) -- set number of indentations to start with
 |      indent (default = 4) -- set indentation amount
 |      eol (default = '\n') -- set end of line character(s)
 |      pretty (default = True) -- curtail long list output with a '...'
 |      max_chars (default = 80) -- set max characters per line
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from PlotlyDict:
 |
 |  __setitem__(self, key, value)
 |
 |  force_clean(self, caller=True)
 |      Attempts to convert to graph_objs and call force_clean() on values.
 |
 |      Calling force_clean() on a PlotlyDict will ensure that the object is
 |      valid and may be sent to plotly. This process will also remove any
 |      entries that end up with a length == 0.
 |
 |      Careful! This will delete any invalid entries *silently*.
 |
 |  get_data(self)
 |      Returns the JSON for the plot with non-data elements stripped.
 |
 |  get_ordered(self, caller=True)
 |
 |  strip_style(self)
 |      Strip style from the current representation.
 |
 |      All PlotlyDicts and PlotlyLists are guaranteed to survive the
 |      stripping process, though they made be left empty. This is allowable.
 |
 |      Keys that will be stripped in this process are tagged with
 |      `'type': 'style'` in graph_objs_meta.json.
 |
 |      This process first attempts to convert nested collections from dicts
 |      or lists to subclasses of PlotlyList/PlotlyDict. This process forces
 |      a validation, which may throw exceptions.
 |
 |      Then, each of these objects call `strip_style` on themselves and so
 |      on, recursively until the entire structure has been validated and
 |      stripped.
 |
 |  to_graph_objs(self, caller=True)
 |      Walk obj, convert dicts and lists to plotly graph objs.
 |
 |      For each key in the object, if it corresponds to a special key that
 |      should be associated with a graph object, the ordinary dict or list
 |      will be reinitialized as a special PlotlyDict or PlotlyList of the
 |      appropriate `kind`.
 |
 |  update(self, dict1=None, **dict2)
 |      Update current dict with dict1 and then dict2.
 |
 |      This recursively updates the structure of the original dictionary-like
 |      object with the new entries in the second and third objects. This
 |      allows users to update with large, nested structures.
 |
 |      Note, because the dict2 packs up all the keyword arguments, you can
 |      specify the changes as a list of keyword agruments.
 |
 |      Examples:
 |      # update with dict
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      update_dict = dict(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj.update(update_dict)
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      # update with list of keyword arguments
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      obj.update(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      This 'fully' supports duck-typing in that the call signature is
 |      identical, however this differs slightly from the normal update
 |      method provided by Python's dictionaries.
 |
 |  validate(self, caller=True)
 |      Recursively check the validity of the keys in a PlotlyDict.
 |
 |      The valid keys constitute the entries in each object
 |      dictionary in graph_objs_meta.json
 |
 |      The validation process first requires that all nested collections be
 |      converted to the appropriate subclass of PlotlyDict/PlotlyList. Then,
 |      each of these objects call `validate` and so on, recursively,
 |      until the entire object has been validated.
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from PlotlyDict:
 |
 |  __dict__
 |      dictionary for instance variables (if defined)
 |
 |  __weakref__
 |      list of weak references to the object (if defined)
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from __builtin__.dict:
 |
 |  __cmp__(...)
 |      x.__cmp__(y) &lt;==&gt; cmp(x,y)
 |
 |  __contains__(...)
 |      D.__contains__(k) -&gt; True if D has a key k, else False
 |
 |  __delitem__(...)
 |      x.__delitem__(y) &lt;==&gt; del x[y]
 |
 |  __eq__(...)
 |      x.__eq__(y) &lt;==&gt; x==y
 |
 |  __ge__(...)
 |      x.__ge__(y) &lt;==&gt; x&gt;=y
 |
 |  __getattribute__(...)
 |      x.__getattribute__('name') &lt;==&gt; x.name
 |
 |  __getitem__(...)
 |      x.__getitem__(y) &lt;==&gt; x[y]
 |
 |  __gt__(...)
 |      x.__gt__(y) &lt;==&gt; x&gt;y
 |
 |  __iter__(...)
 |      x.__iter__() &lt;==&gt; iter(x)
 |
 |  __le__(...)
 |      x.__le__(y) &lt;==&gt; x&lt;=y
 |
 |  __len__(...)
 |      x.__len__() &lt;==&gt; len(x)
 |
 |  __lt__(...)
 |      x.__lt__(y) &lt;==&gt; x&lt;y
 |
 |  __ne__(...)
 |      x.__ne__(y) &lt;==&gt; x!=y
 |
 |  __repr__(...)
 |      x.__repr__() &lt;==&gt; repr(x)
 |
 |  __sizeof__(...)
 |      D.__sizeof__() -&gt; size of D in memory, in bytes
 |
 |  clear(...)
 |      D.clear() -&gt; None.  Remove all items from D.
 |
 |  copy(...)
 |      D.copy() -&gt; a shallow copy of D
 |
 |  fromkeys(...)
 |      dict.fromkeys(S[,v]) -&gt; New dict with keys from S and values equal to v.
 |      v defaults to None.
 |
 |  get(...)
 |      D.get(k[,d]) -&gt; D[k] if k in D, else d.  d defaults to None.
 |
 |  has_key(...)
 |      D.has_key(k) -&gt; True if D has a key k, else False
 |
 |  items(...)
 |      D.items() -&gt; list of D's (key, value) pairs, as 2-tuples
 |
 |  iteritems(...)
 |      D.iteritems() -&gt; an iterator over the (key, value) items of D
 |
 |  iterkeys(...)
 |      D.iterkeys() -&gt; an iterator over the keys of D
 |
 |  itervalues(...)
 |      D.itervalues() -&gt; an iterator over the values of D
 |
 |  keys(...)
 |      D.keys() -&gt; list of D's keys
 |
 |  pop(...)
 |      D.pop(k[,d]) -&gt; v, remove specified key and return the corresponding value.
 |      If key is not found, d is returned if given, otherwise KeyError is raised
 |
 |  popitem(...)
 |      D.popitem() -&gt; (k, v), remove and return some (key, value) pair as a
 |      2-tuple; but raise KeyError if D is empty.
 |
 |  setdefault(...)
 |      D.setdefault(k[,d]) -&gt; D.get(k,d), also set D[k]=d if k not in D
 |
 |  values(...)
 |      D.values() -&gt; list of D's values
 |
 |  viewitems(...)
 |      D.viewitems() -&gt; a set-like object providing a view on D's items
 |
 |  viewkeys(...)
 |      D.viewkeys() -&gt; a set-like object providing a view on D's keys
 |
 |  viewvalues(...)
 |      D.viewvalues() -&gt; an object providing a view on D's values
 |
 |  ----------------------------------------------------------------------
 |  Data and other attributes inherited from __builtin__.dict:
 |
 |  __hash__ = None
 |
 |  __new__ = &lt;built-in method __new__ of type object&gt;
 |      T.__new__(S, ...) -&gt; a new object with type S, a subtype of T


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[14]">
      <a class="prompt input_prompt" href="#in-[14]">
       In [14]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">trace1</span> <span class="o">=</span> <span class="n">Scatter3d</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>  <span class="c"># x coords</span>
    <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>  <span class="c"># y coords</span>
    <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">,</span>  <span class="c"># z coords</span>
    <span class="n">mode</span><span class="o">=</span><span class="s">'lines'</span><span class="p">,</span>      <span class="c"># (!) draw lines between coords (as in Scatter)</span>
    <span class="n">line</span><span class="o">=</span><span class="n">Line</span><span class="p">(</span>
        <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="c"># black line segments</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">3</span>        <span class="c"># set line segment width</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c"># Package the trace dictionary into a data object</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">([</span><span class="n">trace1</span><span class="p">])</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Add a title to a layout object:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[15]">
      <a class="prompt input_prompt" href="#in-[15]">
       In [15]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Make a layout object</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'Fig 8.2: Helix curve'</span>
<span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       And finally,
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[16]">
      <a class="prompt input_prompt" href="#in-[16]">
       In [16]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Make a figure object</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

<span class="c"># (@) Send to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s8_helix'</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[16]">
        <a class="prompt output_prompt" href="#out[16]">
         Out[16]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/468.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       The full screen verison is available at the following URL:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[17]">
      <a class="prompt input_prompt" href="#in-[17]">
       In [17]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">py</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">auto_open</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s8_helix'</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[17]">
        <a class="prompt output_prompt" href="#out[17]">
         Out[17]:
        </a>
       </div>
       <div class="output_text output_subarea output_pyout">
        <pre>
u'https://plot.ly/~etpinard/468'
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h3 id="8.3-Lorenz-Attrator-streaming-plot">
       8.3 Lorenz Attrator streaming plot
       <a class="anchor-link" href="#8.3-Lorenz-Attrator-streaming-plot">
        ¶
       </a>
      </h3>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Plotly's
       <a href="/python/streaming-tutorial/">
        Streaming API
       </a>
       is compatible with the 3D plot engine. As an example, we simulate a chaotic solution to the Lorenz system, also known as the Lorenz attractor or
       <em>
        butterfly
       </em>
       .
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       The
       <a href="http://en.wikipedia.org/wiki/Lorenz_system" target="_blank">
        Lorenz system
       </a>
       is described mathematically as:
      </p>
      <p>
       $$\begin{align} \frac{\text{d}x}{\text{d}t} &amp;= \sigma (y-x) \,, \\ \frac{\text{d}y}{\text{d}t} &amp;= x(\rho-z) - y\,, \\ \frac{\text{d}z}{\text{d}t} &amp;= xy - \beta z   \end{align}$$
      </p>
      <p>
       where $(x,y,z)$ are the spatial coordinates, $t$ is time, $\sigma$, $\beta$ and $\rho$ are constants. With $\sigma = 10$, $\beta = 8/3$ and $\rho = 28$ the system exhibits chaotic behavior.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       For our following graph, we integrate the Lorenz system using the
       <code>
        scipy.integrate
       </code>
       module. The following computations were adapted from this blog
       <a href="https://jakevdp.github.io/blog/2013/02/16/animating-the-lorentz-system-in-3d/" target="_blank">
        post
       </a>
       from Jake Vanderplas.  Big thanks!
      </p>
      <p>
       So, first define a function returning the time dervative (i.e. the right-hand side) of the Lorenz system with the choatic parameters mentioned above:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[18]">
      <a class="prompt input_prompt" href="#in-[18]">
       In [18]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Time derivatives of the Lorenz system</span>
<span class="k">def</span> <span class="nf">lorenz_deriv</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span> <span class="n">t0</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">8.</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="n">rho</span><span class="o">=</span><span class="mf">28.0</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">sigma</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">x</span><span class="p">),</span> <span class="n">x</span> <span class="o">*</span> <span class="p">(</span><span class="n">rho</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">-</span> <span class="n">beta</span> <span class="o">*</span> <span class="n">z</span><span class="p">]</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       The Plotly Streaming API makes use of stream tokens (more info in
       <a href="/python/streaming-line-tutorial/#7.1-A-first-Plotly-streaming-plot">
        section 7.0
       </a>
       ):
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[19]">
      <a class="prompt input_prompt" href="#in-[19]">
       In [19]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="n">stream_ids</span> <span class="o">=</span> <span class="n">tls</span><span class="o">.</span><span class="n">get_credentials_file</span><span class="p">()[</span><span class="s">'stream_ids'</span><span class="p">]</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Our graph will feature two traces: one line trace tracking the trajectory and one marker trace of one point leading the way (similar to the double pendulum stream of
       <a href="/python/streaming-double-pendulum-tutorial/">
        section 7.2
       </a>
       ).
      </p>
      <p>
       Those two traces require two unique stream tokens packaged in
       <code>
        Stream
       </code>
       graph objects. So, we initialize two
       <code>
        Scatter3d
       </code>
       objects as such:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[20]">
      <a class="prompt input_prompt" href="#in-[20]">
       In [20]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Choose random starting points, uniformly distributed from -15 to 15</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">x0</span> <span class="o">=</span> <span class="o">-</span><span class="mi">15</span> <span class="o">+</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[21]">
      <a class="prompt input_prompt" href="#in-[21]">
       In [21]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Line trace following the trajectory </span>
<span class="n">trace1</span> <span class="o">=</span> <span class="n">Scatter3d</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">y</span><span class="o">=</span><span class="n">x0</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">z</span><span class="o">=</span><span class="n">x0</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="n">mode</span><span class="o">=</span><span class="s">'lines'</span><span class="p">,</span>
    <span class="n">stream</span><span class="o">=</span><span class="n">Stream</span><span class="p">(</span>
        <span class="n">token</span><span class="o">=</span><span class="n">stream_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>  <span class="c"># (!) link stream id</span>
        <span class="n">maxpoints</span><span class="o">=</span><span class="mi">3000</span>        <span class="c"># (!) show a max. of 3000 pts on plot</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c"># Marker trace leading the way</span>
<span class="n">trace2</span> <span class="o">=</span> <span class="n">Scatter3d</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">y</span><span class="o">=</span><span class="n">x0</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">z</span><span class="o">=</span><span class="n">x0</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="n">mode</span><span class="o">=</span><span class="s">'markers'</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="n">Marker</span><span class="p">(</span>
        <span class="n">color</span><span class="o">=</span><span class="s">"#1f77b4"</span><span class="p">,</span>  <span class="c"># a darker blue</span>
        <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
        <span class="n">symbol</span><span class="o">=</span><span class="s">'circle'</span>
    <span class="p">),</span>
    <span class="n">stream</span><span class="o">=</span><span class="n">Stream</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">stream_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c"># (!) link other stream id</span>
<span class="p">)</span>

<span class="c"># Package the trace dictionary into a data object</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">([</span><span class="n">trace1</span><span class="p">,</span> <span class="n">trace2</span><span class="p">])</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Add a title and fix the range of each of the axes as well as the margins in the layout object:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[22]">
      <a class="prompt input_prompt" href="#in-[22]">
       In [22]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Make a layout object</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'Lorenz Attractor'</span><span class="p">,</span>
    <span class="n">scene</span><span class="o">=</span><span class="n">Scene</span><span class="p">(</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">autorange</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>  <span class="c"># set axis range</span>
        <span class="p">),</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">autorange</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">35</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">zaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">autorange</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">55</span><span class="p">]</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="n">margin</span><span class="o">=</span><span class="n">Margin</span><span class="p">(</span>
        <span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">t</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>  <span class="c"># remove margin except top margin</span>
        <span class="n">b</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">),</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="bp">False</span>
<span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Initialize the graph by making a first call to Plotly:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[23]">
      <a class="prompt input_prompt" href="#in-[23]">
       In [23]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Make a figure object</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

<span class="c"># (@) Send to Plotly and show in different browser tab</span>
<span class="n">py</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s8_lorenz-system'</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[23]">
        <a class="prompt output_prompt" href="#out[23]">
         Out[23]:
        </a>
       </div>
       <div class="output_text output_subarea output_pyout">
        <pre>
u'https://plot.ly/~etpinard/521'
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Now, make two stream link objects and open their connections:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[24]">
      <a class="prompt input_prompt" href="#in-[24]">
       In [24]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># (@) Make 1st instance of the stream link object, </span>
<span class="c">#     with same stream id as the 1st stream id object (in trace1)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">py</span><span class="o">.</span><span class="n">Stream</span><span class="p">(</span><span class="n">stream_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c"># (@) Make 2nd instance of the stream link object, </span>
<span class="c">#     with same stream id as the 2nd stream id object (in trace2)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">py</span><span class="o">.</span><span class="n">Stream</span><span class="p">(</span><span class="n">stream_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="c"># (@) Open both streams</span>
<span class="n">s1</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="n">s2</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       And finally, integrate and stream the data to Plotly:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[25]">
      <a class="prompt input_prompt" href="#in-[25]">
       In [25]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># (*) Import module to integrate ODE and keep track of time</span>
<span class="kn">import</span> <span class="nn">scipy.integrate</span> <span class="kn">as</span> <span class="nn">integrate</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c"># number of time integrate.odeint() integrations </span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>   <span class="c"># init. counter</span>

<span class="c"># Delay start of stream by 5 sec (time to switch tabs)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c"># Solve the system N times</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">:</span>

    <span class="c"># Generate a time vector (1000 pts from 0 to 4)</span>
    <span class="c"># and integrate from initial position (x0)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">X_t</span> <span class="o">=</span> <span class="n">integrate</span><span class="o">.</span><span class="n">odeint</span><span class="p">(</span><span class="n">lorenz_deriv</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>

    <span class="c"># Loop through each time step </span>
    <span class="k">for</span> <span class="n">x_t</span> <span class="ow">in</span> <span class="n">X_t</span><span class="p">:</span>

        <span class="n">s_data1</span> <span class="o">=</span> <span class="n">Scatter3d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">x_t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>    <span class="c"># (!) write scalars to append the line trace</span>
            <span class="n">y</span><span class="o">=</span><span class="n">x_t</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">z</span><span class="o">=</span><span class="n">x_t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">s_data2</span> <span class="o">=</span> <span class="n">Scatter3d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">x_t</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>  <span class="c"># (!) write list to overwrite the leading marker pt</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">x_t</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="n">x_t</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
        <span class="p">)</span>

        <span class="n">s1</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s_data1</span><span class="p">)</span>  <span class="c"># (@) stream data to Plotly!</span>
        <span class="n">s2</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s_data2</span><span class="p">)</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>   <span class="c"># (!) halt for 50 ms, for smoother plotting</span>

    <span class="n">x0</span> <span class="o">=</span> <span class="n">X_t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span>  <span class="c"># overwrite initial coordiniates</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>           <span class="c"># add to counter</span>

<span class="c"># (@) Close both streams when done plotting</span>
<span class="n">s1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">s2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       In the above, the integration loop is finite, but there is no reason to not let the streams go on indefinitely. Simply replace the while-loop condition with:
      </p>
      <pre><code>&gt;&gt;&gt; while True:
</code></pre>
      <p>
       and enjoy.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[26]">
      <a class="prompt input_prompt" href="#in-[26]">
       In [26]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><span class="c"># Embed never-ending simulation</span>
<span class="n">tls</span><span class="o">.</span><span class="n">embed</span><span class="p">(</span><span class="s">'streaming-demos'</span><span class="p">,</span> <span class="s">'66'</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[26]">
        <a class="prompt output_prompt" href="#out[26]">
         Out[26]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~streaming-demos/66.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <hr/>
      <h4 style="font-size:14pt;">
       Go to
       <a href="/python/streaming-tutorial/">
        Section 7 --- Plotly's Streaming API
       </a>
      </h4>
      <h4 style="font-size:14pt;">
       Go to
       <a href="#notebook">
        top of page
       </a>
      </h4>
      <h4 style="font-size:14pt;">
       Go to User Guide's
       <a href="/python/user-guide">
        homepage
       </a>
      </h4>
      <hr/>
      <!-- <h4 style="font-size:14pt;">Go to

 </h4> -->
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <div style="float:right; \">
       <img align="right" src="{{site.staticurl}}/images/py-user-guide-img/image06.png" style="float:right; margin-left: 5px; margin-top: -10px"/>
      </div>
      <h4 style="padding-top:60px;">
       Got Questions or Feedback?
      </h4>
      <p>
       About
       <a href="https://plot.ly" target="_blank">
        Plotly
       </a>
      </p>
      <ul>
       <li>
        email: feedback@plot.ly
       </li>
       <li>
        tweet:
        <a href="https://twitter.com/plotlygraphs" target="_blank">
         @plotlygraphs
        </a>
       </li>
      </ul>
      <h4 style="margin-top:50px;">
       Notebook styling ideas
      </h4>
      <p>
       Big thanks to
      </p>
      <ul>
       <li>
        <a href="http://nbviewer.ipython.org/github/CamDavidsonPilon/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/blob/master/Prologue/Prologue.ipynb" target="_blank">
         Cam Davidson-Pilon
        </a>
       </li>
       <li>
        <a href="http://lorenabarba.com/blog/announcing-aeropython/#.U1ULXdX1LJ4.google_plusone_share" target="_blank">
         Lorena A. Barba
        </a>
       </li>
      </ul>
      <p>
       <br/>
      </p>
     </div>
    </div>
   </div>
