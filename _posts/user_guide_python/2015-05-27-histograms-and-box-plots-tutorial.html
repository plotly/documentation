---
permalink: python/histograms-and-box-plots-tutorial/
description: A tutorial on how to make beautiful histograms and box plots with plotly and Python or IPython.
name: Histograms and box plots
layout: user-guide
thumbnail: /images/static-image.png
language: python
page_type: u-guide
has_thumbnail: false
---


   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h2 id="Section-4:-Histograms-and-Box-Plots">
       Section 4: Histograms and Box Plots
       <a class="anchor-link" href="#Section-4:-Histograms-and-Box-Plots">
        ¶
       </a>
      </h2>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Welcome to Plotly's Python API User Guide.
      </p>
      <blockquote>
       <p>
        Links to the other sections are on the User Guide's
        <a href="/python/user-guide#Table-of-Contents:">
         homepage
        </a>
        <br/>
        The Github repository is available
        <a href="https://github.com/plotly/python-user-guide" target="_blank">
         here
        </a>
       </p>
      </blockquote>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Section 4 is divided as follows:
      </p>
      <ul>
       <li>
        <p>
         <a href="#4.1-Overlaid-histograms">
          4.1 Overlaid histograms
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="#4.2-Histogram-normalization">
          4.2 Histogram normalization
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="#4.3-Custom-histogram-bins">
          4.3 Custom histogram bins
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="#4.4-Box-plots">
          4.4 Box plots
         </a>
        </p>
       </li>
      </ul>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Quickstart (make vertical histogram of 100 normally distributed random numbers):
      </p>
      <pre><code class="python"><code class="python">&gt;&gt;&gt; import plotly.plotly as py
&gt;&gt;&gt; from plotly.graph_objs import *
&gt;&gt;&gt; # auto sign-in with credentials or use py.sign_in()
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; x = np.random.randn(100)
&gt;&gt;&gt; trace1 = Histogram(x=x)
&gt;&gt;&gt; data = Data([trace1])
&gt;&gt;&gt; py.plot(data)
</code></code></pre>
      <hr/>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Check which version is installed on your machine and please upgrade if needed.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[1]">
      <a class="prompt input_prompt" href="#in-[1]">
       In [1]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (*) Import plotly package</span>
<span class="kn">import</span> <span class="nn">plotly</span>

<span class="c"># Check plolty version (if not latest, please upgrade)</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">__version__</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[1]">
        <a class="prompt output_prompt" href="#out[1]">
         Out[1]:
        </a>
       </div>
       <div class="output_text output_subarea output_pyout">
        <pre><code class="python">
'1.6.6'
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       See the User Guide's
       <a href="/python/user-guide#Installation-guidelines" target="_blank">
        homepage
       </a>
       for more info on installation and upgrading.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <hr/>
      <p>
       In this section, imagine that you are a Teaching Assistant. You have the course's grades in a file and you would like to generate basic statistics and analyze them using Plotly histograms and box plots. Moreover, conjointly in subsection
       <a href="#4.3-Custom-histogram-bins">
        4.3
       </a>
       , we cover:
      </p>
      <ul>
       <li>
        <a href="#Adding-Gaussian-fits-to-Plotly-histograms">
         Adding Gaussian fits to Plotly histograms
        </a>
       </li>
      </ul>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       We first import a few modules and sign in to Plotly using our credentials file:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[2]">
      <a class="prompt input_prompt" href="#in-[2]">
       In [2]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (*) To communicate with Plotly's server, sign in with credentials file</span>
<span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>

<span class="c"># (*) Useful Python/Plotly tools</span>
<span class="kn">import</span> <span class="nn">plotly.tools</span> <span class="kn">as</span> <span class="nn">tls</span>

<span class="c"># (*) Graph objects to piece together plots</span>
<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>  <span class="c"># (*) numpy for math functions and arrays</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       If you are not familiar with credentials files, refer to the User Guide's
       <a href="/python/user-guide#Step-6" target="_blank">
        homepage
       </a>
       .
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       In similar fashion to
       <a href="/python/bar-charts-tutorial">
        section 2
       </a>
       (Bar Charts and Error Bars), we read and plot data from a csv file. The csv file in question
       <code class="python">
        grades.csv
       </code>
       can be found in the section's Github
       <a href="https://github.com/plotly/python-user-guide/blob/master/s4_histograms" target="_blank">
        folder
       </a>
       . It contains students grades in percent.
In this file, each row corresponds to a student and each column corresponds to a particular component of the total grade. These components (Final, Midterm and Homeworks) are labelled in the top row of the file.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       In order to use the data according, let's first define a csv
       <em>
        column
       </em>
       reader function.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[3]">
      <a class="prompt input_prompt" href="#in-[3]">
       In [3]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (*) csv file read/write</span>
<span class="kn">import</span> <span class="nn">csv</span>

<span class="c"># Define a csv column reader function</span>
<span class="k">def</span> <span class="nf">get_csv_col</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">col_id</span><span class="p">):</span>
    <span class="sd">''' </span>
<span class="sd">    Read column of csv file, return a Numpy array where</span>
<span class="sd">    each entry corresp. to a particular student</span>
<span class="sd">    pos. arg (1) filepath: relative path to csv file </span>
<span class="sd">    pos. arg (2) col_id: id of column requested, found in first row (a string)</span>
<span class="sd">    '''</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">data_file</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>         <span class="c"># define reader object</span>
        <span class="n">the_col</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">next</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">col_id</span><span class="p">)</span>  <span class="c"># look for 'col_id' row 1 then skip row</span>

        <span class="c"># Retrieve all entry of column 'the_col', </span>
        <span class="c"># put in numpy array</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">the_col</span><span class="p">])</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">])</span>

<span class="c"># (-) The 'with' statement automatically closes  </span>
<span class="c">#    'filepath' at the end of its block of code</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Let's extract each column and check how many (non-NaN) grades they contain:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[4]">
      <a class="prompt input_prompt" href="#in-[4]">
       In [4]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Extract columns for 'grades.csv' </span>
<span class="n">homeworks</span> <span class="o">=</span> <span class="n">get_csv_col</span><span class="p">(</span><span class="s">'grades.csv'</span><span class="p">,</span> <span class="s">'Homeworks'</span><span class="p">)</span>
<span class="n">midterm</span> <span class="o">=</span> <span class="n">get_csv_col</span><span class="p">(</span><span class="s">'grades.csv'</span><span class="p">,</span> <span class="s">'Midterm Exam'</span><span class="p">)</span>
<span class="n">final</span> <span class="o">=</span> <span class="n">get_csv_col</span><span class="p">(</span><span class="s">'grades.csv'</span><span class="p">,</span> <span class="s">'Final Exam'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       The data in
       <code class="python">
        grades.csv
       </code>
       contains some NaNs (not a number) entries. For example,
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[5]">
      <a class="prompt input_prompt" href="#in-[5]">
       In [5]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="n">homeworks</span><span class="p">[</span><span class="mi">11</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[5]">
        <a class="prompt output_prompt" href="#out[5]">
         Out[5]:
        </a>
       </div>
       <div class="output_text output_subarea output_pyout">
        <pre><code class="python">
array([  82.,   90.,   68.,   85.,   nan,   82.,   40.,  100.,   92.])
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       That said, Plotly makes plotting histograms and box plots with arrays containing NaNs a breeze.
Please note that:
      </p>
      <blockquote>
       <p>
        All NaNs and string entries are ignored in Plotly's built-in computations.
       </p>
      </blockquote>
      <p>
       Check exactly how many NaNs are contained in the arrays with:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[6]">
      <a class="prompt input_prompt" href="#in-[6]">
       In [6]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Compare number of non-NaN entries to total number of entries in column</span>
<span class="k">def</span> <span class="nf">check_nan</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">X_name</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Identify which item is a NaN, compare to total number of items,</span>
<span class="sd">    pos. arg (1) X: array in question (must a numpy array)</span>
<span class="sd">    pos. arg (2) X_name: name of array (a string)</span>
<span class="sd">    '''</span>
    <span class="n">X_no_nan</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">X</span><span class="p">)]</span>
    <span class="k">print</span> <span class="s">"</span><span class="si">%s</span><span class="s">: </span><span class="si">%i</span><span class="s"> grades out of </span><span class="si">%i</span><span class="s"> entries"</span> <span class="o">%</span> <span class="p">(</span><span class="n">X_name</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_no_nan</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">))</span>

<span class="n">check_nan</span><span class="p">(</span><span class="n">homeworks</span><span class="p">,</span> <span class="s">'Homeworks'</span><span class="p">)</span>
<span class="n">check_nan</span><span class="p">(</span><span class="n">midterm</span><span class="p">,</span> <span class="s">'Midterm Exam'</span><span class="p">)</span>
<span class="n">check_nan</span><span class="p">(</span><span class="n">final</span><span class="p">,</span> <span class="s">'Final Exam'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Homeworks: 62 grades out of 68 entries
Midterm Exam: 64 grades out of 68 entries
Final Exam: 63 grades out of 68 entries

</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h4 id="4.1-Overlaid-histograms">
       4.1 Overlaid histograms
       <a class="anchor-link" href="#4.1-Overlaid-histograms">
        ¶
       </a>
      </h4>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       For our first histogram plot, we compare the grade distributions of the midterm exam and final exam. Plotly allows users to choose the histogram normalization (i.e. the units of the generated y-axis) of each histogram object:
      </p>
      <blockquote>
       <p>
        The histogram object key
        <code class="python">
         'histnorm'
        </code>
        is set to
        <code class="python">
         ''
        </code>
        by default (i.e. no normalization), the other possibilities are:
        <code class="python">
         'percent'
        </code>
        ,
        <code class="python">
         'probability'
        </code>
        ,
        <code class="python">
         'density'
        </code>
        ,
        <code class="python">
         'probability density'
        </code>
        (all in lower case). We compare the different
        <code class="python">
         'histnorm'
        </code>
        values in fig. 4.2.
       </p>
      </blockquote>
      <p>
       Plot customization for the histogram object (named
       <code class="python">
        Histogram
       </code>
       ) is similar to the customization for the bar object:
      </p>
      <ul>
       <li>
        <p>
         Users can select different bar modes (the
         <code class="python">
          'barmode'
         </code>
         key in the layout object). As for the bar object, the available values are
         <code class="python">
          'stack'
         </code>
         (default),
         <code class="python">
          'overlay'
         </code>
         or
         <code class="python">
          'group'
         </code>
         .
        </p>
       </li>
       <li>
        <p>
         Spacing between bars can be modify using
         <code class="python">
          'bargap'
         </code>
         and
         <code class="python">
          'bargroupgap'
         </code>
         in the layout object.
        </p>
       </li>
       <li>
        <p>
         Users can make an histogram with horizontal bars by setting
         <code class="python">
          'orientation'
         </code>
         to
         <code class="python">
          'h'
         </code>
         in histogram object.
        </p>
       </li>
      </ul>
      <p>
       For more information on these options, see
       <a href="/python/bar-charts-tutorial">
        section 2
       </a>
       of the User Guide.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Our first histogram plot will feature:
      </p>
      <ul>
       <li>
        Two overlaid and partly transparent histograms.
       </li>
      </ul>
      <p>
       Opacity for histograms is set with the
       <code class="python">
        'opacity'
       </code>
       key in the
       <code class="python">
        Histogram
       </code>
       object (not in
       <code class="python">
        Marker
       </code>
       , unlike for scatter plots),
      </p>
      <ul>
       <li>
        The default
        <code class="python">
         'histnorm'
        </code>
        value (i.e. with no normalization), as well as all other histogram options are set to their default value.
       </li>
      </ul>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[7]">
      <a class="prompt input_prompt" href="#in-[7]">
       In [7]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Define colors for the midterm and final histograms</span>
<span class="n">color_midterm</span> <span class="o">=</span> <span class="s">'rgb(231,41,138)'</span>  <span class="c"># a nice fuchsia</span>
<span class="n">color_final</span> <span class="o">=</span> <span class="s">'rgb(230,171,2)'</span>     <span class="c"># a nice yellow</span>

<span class="c"># Define a trace-generating function (returns an Histogram object)</span>
<span class="k">def</span> <span class="nf">make_trace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
    <span class="n">x_cnt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)])</span>     <span class="c"># find number of non-NaNs grades</span>
    <span class="k">return</span> <span class="n">Histogram</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>  <span class="c"># distribution binded to x-axis</span>
        <span class="n">name</span><span class="o">=</span><span class="s">"&lt;b&gt;{}&lt;/b&gt; ({} grades)"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">x_cnt</span><span class="p">),</span>  <span class="c"># legend/hover text </span>
        <span class="n">opacity</span><span class="o">=</span><span class="mf">0.55</span><span class="p">,</span>               <span class="c"># set partly transparent bars</span>
        <span class="n">marker</span><span class="o">=</span><span class="n">Marker</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>  <span class="c"># set bar color</span>
    <span class="p">)</span>

<span class="c"># Make data object using make_trace()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">([</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">midterm</span><span class="p">,</span> <span class="s">'Midterm'</span><span class="p">,</span> <span class="n">color_midterm</span><span class="p">),</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">final</span><span class="p">,</span> <span class="s">'Final'</span><span class="p">,</span> <span class="n">color_final</span><span class="p">)</span>
<span class="p">])</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Onto layout:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[8]">
      <a class="prompt input_prompt" href="#in-[8]">
       In [8]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="n">title</span> <span class="o">=</span> <span class="s">"Fig 4.1: Midterm and Final Exam Grade Distribution"</span>  <span class="c"># plot's title</span>

<span class="c"># Define dictionary of axis style options</span>
<span class="n">axis_style</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">zeroline</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>       <span class="c"># remove thick zero line</span>
    <span class="n">showgrid</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>        <span class="c"># show grid lines (not default on bar/histogram)</span>
    <span class="n">gridcolor</span><span class="o">=</span><span class="s">'#FFFFFF'</span><span class="p">,</span>  <span class="c"># white grid lines</span>
    <span class="n">ticks</span><span class="o">=</span><span class="s">'outside'</span><span class="p">,</span>      <span class="c"># draw ticks outside axes </span>
    <span class="n">ticklen</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>            <span class="c"># tick length</span>
    <span class="n">tickwidth</span><span class="o">=</span><span class="mf">1.5</span>         <span class="c">#   and width</span>
<span class="p">)</span>

<span class="c"># Make layout object</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span>
    <span class="n">barmode</span><span class="o">=</span><span class="s">'overlay'</span><span class="p">,</span>  <span class="c"># (!) overlay barmode</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>        <span class="c"># set plot title</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="n">XAxis</span><span class="p">(</span>
        <span class="n">axis_style</span><span class="p">,</span>               <span class="c"># style options</span>
        <span class="n">title</span><span class="o">=</span><span class="s">'&lt;b&gt;Grade [%]&lt;/b&gt;'</span>  <span class="c"># x-axis title</span>
    <span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="n">YAxis</span><span class="p">(</span>
        <span class="n">axis_style</span><span class="p">,</span>               <span class="c"># sytle options</span>
        <span class="n">title</span><span class="o">=</span><span class="s">'&lt;b&gt;Count&lt;/b&gt;'</span>      <span class="c"># y-axis title </span>
    <span class="p">),</span>
    <span class="n">legend</span><span class="o">=</span><span class="n">Legend</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="mi">1</span>   <span class="c"># legend at upper left corner of plot</span>
    <span class="p">),</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s">'#EFECEA'</span>   <span class="c"># set plot color to grey</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[9]">
      <a class="prompt input_prompt" href="#in-[9]">
       In [9]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Make Figure object</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

<span class="c"># (@) Send to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s4_midterm-final'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[9]">
        <a class="prompt output_prompt" href="#out[9]">
         Out[9]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/88.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Reducing the opacity of each histogram together with Plotly's hover capacities makes comparing two sets of data easy.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h4 id="4.2-Histogram-normalization">
       4.2 Histogram normalization
       <a class="anchor-link" href="#4.2-Histogram-normalization">
        ¶
       </a>
      </h4>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       In this subsection, we compare Plotly's histogram normalizations.
      </p>
      <p>
       Let
$y_{\text{count}}(i)$ be the number of non-NaN data points in bin $i$,
$w_i$ be the width of bin $i$ and
$N$ be the number of data points in the sample. Then, Plotly's available histogram normalizations are:
      </p>
      <p>
       $$ y_{\text{probability}}(i) = \frac{1}{N} y_{\text{count}}(i) $$
      </p>
      <p>
       $$ y_{\text{percent}}(i) = \frac{1}{N} y_{\text{count}}(i) \times 100 $$
      </p>
      <p>
       $$ y_{\text{density}}(i) = \frac{1}{w_i} y_{\text{count}}(i) $$
      </p>
      <p>
       $$ y_{\text{prob. density}}(i) = \frac{1}{N} \frac{1}{w_i} y_{\text{count}} $$
      </p>
      <p>
       With the same data as the previous plot, let's compare these four histogram normalizations in a 2 by 2 plot. So, first we define a simple subplot grid:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[10]">
      <a class="prompt input_prompt" href="#in-[10]">
       In [10]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Generate a figure object with 4 axes on 2 rows and 2 columns</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">tls</span><span class="o">.</span><span class="n">make_subplots</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">start_cell</span><span class="o">=</span><span class="s">'bottom-left'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
This is the format of your plot grid:
[ (2,1) x3,y3 ]  [ (2,2) x4,y4 ]
[ (1,1) x1,y1 ]  [ (1,2) x2,y2 ]


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[11]">
      <a class="prompt input_prompt" href="#in-[11]">
       In [11]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Print fig in notebook</span>
<span class="k">print</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Figure(
    data=Data(),
    layout=Layout(
        xaxis1=XAxis(
            domain=[0.0, 0.45],
            anchor='y1'
        ),
        xaxis2=XAxis(
            domain=[0.55, 1.0],
            anchor='y2'
        ),
        xaxis3=XAxis(
            domain=[0.0, 0.45],
            anchor='y3'
        ),
        xaxis4=XAxis(
            domain=[0.55, 1.0],
            anchor='y4'
        ),
        yaxis1=YAxis(
            domain=[0.0, 0.425],
            anchor='x1'
        ),
        yaxis2=YAxis(
            domain=[0.0, 0.425],
            anchor='x2'
        ),
        yaxis3=YAxis(
            domain=[0.575, 1.0],
            anchor='x3'
        ),
        yaxis4=YAxis(
            domain=[0.575, 1.0],
            anchor='x4'
        )
    )
)

</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Make a few definitions
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[12]">
      <a class="prompt input_prompt" href="#in-[12]">
       In [12]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># List of subplot [1],[2],[3],[4] labels</span>
<span class="n">splts</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="c"># Define a dictionary of histogram normalization </span>
<span class="c">#   (values of the 'histnorm' key)</span>
<span class="n">histnorms</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="s">'percent'</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="s">'probability'</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="s">'density'</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span> <span class="s">'probability density'</span>
<span class="p">}</span>

<span class="c"># Define a dictionary of flags setting which trace appeats on the legend</span>
<span class="c">#   (values of 'showlegend' key in each trace object)</span>
<span class="n">showlegends</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span> <span class="bp">False</span>
<span class="p">}</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Make eight histogram trace objects (with midterm and final data for four histogram normalizations):
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[13]">
      <a class="prompt input_prompt" href="#in-[13]">
       In [13]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Define a trace-generating function (returns a Histogram object)</span>
<span class="k">def</span> <span class="nf">make_trace</span><span class="p">(</span><span class="n">splt</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Histogram</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>                      <span class="c"># distribution to be plotted</span>
        <span class="n">histnorm</span><span class="o">=</span><span class="n">histnorms</span><span class="p">[</span><span class="n">splt</span><span class="p">],</span> <span class="c"># (!) histogram normalization</span>
        <span class="n">name</span><span class="o">=</span><span class="s">"&lt;b&gt;{}&lt;/b&gt;"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">),</span>  <span class="c"># label for legend/hover text</span>
        <span class="n">opacity</span><span class="o">=</span><span class="mf">0.55</span><span class="p">,</span>                   <span class="c"># partly transparent bars</span>
        <span class="n">marker</span><span class="o">=</span><span class="n">Marker</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">),</span>     <span class="c"># set bar color</span>
        <span class="n">showlegend</span><span class="o">=</span><span class="n">showlegends</span><span class="p">[</span><span class="n">splt</span><span class="p">],</span>   <span class="c"># (!) show only 2 traces in legend</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="s">"x{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">),</span>  <span class="c"># (!) plot on 'splt' x-axis</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="s">"y{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">),</span>  <span class="c"># (!) plot on 'splt' y-axis</span>
    <span class="p">)</span>

<span class="c"># Fill in data object with 8 traces using make_trace()</span>
<span class="c">#   and data arrays and colors defined in 4.1</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'data'</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">(</span>
    <span class="p">[</span><span class="n">make_trace</span><span class="p">(</span><span class="n">splt</span><span class="p">,</span> <span class="n">midterm</span><span class="p">,</span> <span class="s">'Midterm'</span><span class="p">,</span> <span class="n">color_midterm</span><span class="p">)</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="n">splts</span><span class="p">]</span> <span class="o">+</span>
    <span class="p">[</span><span class="n">make_trace</span><span class="p">(</span><span class="n">splt</span><span class="p">,</span> <span class="n">final</span><span class="p">,</span> <span class="s">'Final'</span><span class="p">,</span> <span class="n">color_final</span><span class="p">)</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="n">splts</span><span class="p">]</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Add a few layout features:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[14]">
      <a class="prompt input_prompt" href="#in-[14]">
       In [14]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (a) Update x and y axis of all subplots</span>
<span class="c">#     using the axis_style dictionary defined in subsection 4.1</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="p">{</span><span class="s">'xaxis{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">):</span> <span class="n">axis_style</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="n">splts</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="p">{</span><span class="s">'yaxis{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">):</span> <span class="n">axis_style</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="n">splts</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]}</span>
<span class="p">)</span>

<span class="c"># (b) Add title to the 2 bottom x axes</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="p">{</span><span class="s">'xaxis{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">):</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span><span class="s">'&lt;b&gt;Grade [%]&lt;/b&gt;'</span><span class="p">}</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]}</span>
<span class="p">)</span>

<span class="c"># (c) Make y-axis title correspond to 'histnorm' key</span>
<span class="c">#     with 1st letter in upper case (using .title() string method)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="p">{</span><span class="s">'yaxis{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">):</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="n">histnorms</span><span class="p">[</span><span class="n">splt</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="p">()}</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="n">splts</span><span class="p">})</span>

<span class="n">title</span> <span class="o">=</span> <span class="s">"Fig 4.2: Midterm and Final Exam </span><span class="se">\</span>
<span class="s">Grade Distribution"</span>     <span class="c"># plot's title</span>

<span class="c"># (d) Set barmode, plot title, global font, plot background and legend</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="n">barmode</span><span class="o">=</span><span class="s">'overlay'</span><span class="p">,</span>  <span class="c"># (!) overlay barmode</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>        <span class="c"># plot title</span>
    <span class="n">legend</span><span class="o">=</span><span class="n">Legend</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>  <span class="c"># outside plotting area to the right</span>
        <span class="n">y</span><span class="o">=</span><span class="mi">1</span>     <span class="c"># top of plotting area </span>
    <span class="p">),</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s">'#EFECEA'</span> <span class="c"># set plot color to grey</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       And finally,
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[15]">
      <a class="prompt input_prompt" href="#in-[15]">
       In [15]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (@) Send figure object to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s4_midterm-final-histnorm'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[15]">
        <a class="prompt output_prompt" href="#out[15]">
         Out[15]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/90.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h4 id="4.3-Custom-histogram-bins">
       4.3 Custom histogram bins
       <a class="anchor-link" href="#4.3-Custom-histogram-bins">
        ¶
       </a>
      </h4>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Plotly allows users to generate histograms without having to set every bins' size and location. Quick data visualization is made easy in Plotly. Users looking for more control, can easily modified the bins' options inside Plotly's web GUI.
      </p>
      <p>
       Here's a snapshot of the web GUI:
      </p>
      <p>
       <br/>
       <img alt="Histogram custom" src="{{site.staticurl}}/images/py-user-guide-img/image11.png"/>
       <br/>
      </p>
      <p>
       Alternatively, histogram bin options can be modified by first setting
       <code class="python">
        'autobinx: False'
       </code>
       in histogram graph object and using the
       <code class="python">
        XBins
       </code>
       graph object (or '
       <code class="python">
        autobiny'
       </code>
       and
       <code class="python">
        YBins
       </code>
       for histograms with horizontal bars).
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[16]">
      <a class="prompt input_prompt" href="#in-[16]">
       In [16]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="n">help</span><span class="p">(</span><span class="n">XBins</span><span class="p">)</span>  <span class="c"># call help()!</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Help on class XBins in module plotly.graph_objs.graph_objs:

class XBins(PlotlyDict)
 |  A dictionary-like object containing specifications of the bins lying along
 |      the x-axis.
 |
 |  Online examples:
 |
 |      https://plot.ly/python/histograms/
 |      https://plot.ly/python/2D-Histograms/
 |
 |  Parent key:
 |
 |      xbins
 |
 |  Quick method reference:
 |
 |      XBins.update(changes)
 |      XBins.strip_style()
 |      XBins.get_data()
 |      XBins.to_graph_objs()
 |      XBins.validate()
 |      XBins.to_string()
 |      XBins.force_clean()
 |
 |  Valid keys:
 |
 |      start [required=False] (value=number: x &gt; 0):
 |          Sets the starting point on the x-axis for the first bin.
 |
 |      end [required=False] (value=number: x &gt; 0):
 |          Sets the end point on the x-axis for the last bin.
 |
 |      size [required=False] (value=number: x &gt; 0) (streamable):
 |          Sets the size (i.e. their width) of each x-axis bin.
 |
 |  Method resolution order:
 |      XBins
 |      PlotlyDict
 |      __builtin__.dict
 |      __builtin__.object
 |
 |  Methods inherited from PlotlyDict:
 |
 |  __init__(self, *args, **kwargs)
 |
 |  __setitem__(self, key, value)
 |
 |  force_clean(self, caller=True)
 |      Attempts to convert to graph_objs and call force_clean() on values.
 |
 |      Calling force_clean() on a PlotlyDict will ensure that the object is
 |      valid and may be sent to plotly. This process will also remove any
 |      entries that end up with a length == 0.
 |
 |      Careful! This will delete any invalid entries *silently*.
 |
 |  get_data(self)
 |      Returns the JSON for the plot with non-data elements stripped.
 |
 |  get_ordered(self, caller=True)
 |
 |  strip_style(self)
 |      Strip style from the current representation.
 |
 |      All PlotlyDicts and PlotlyLists are guaranteed to survive the
 |      stripping process, though they made be left empty. This is allowable.
 |
 |      Keys that will be stripped in this process are tagged with
 |      `'type': 'style'` in graph_objs_meta.json.
 |
 |      This process first attempts to convert nested collections from dicts
 |      or lists to subclasses of PlotlyList/PlotlyDict. This process forces
 |      a validation, which may throw exceptions.
 |
 |      Then, each of these objects call `strip_style` on themselves and so
 |      on, recursively until the entire structure has been validated and
 |      stripped.
 |
 |  to_graph_objs(self, caller=True)
 |      Walk obj, convert dicts and lists to plotly graph objs.
 |
 |      For each key in the object, if it corresponds to a special key that
 |      should be associated with a graph object, the ordinary dict or list
 |      will be reinitialized as a special PlotlyDict or PlotlyList of the
 |      appropriate `kind`.
 |
 |  to_string(self, level=0, indent=4, eol='\n', pretty=True, max_chars=80)
 |      Returns a formatted string showing graph_obj constructors.
 |
 |      Example:
 |
 |          print(obj.to_string())
 |
 |      Keyword arguments:
 |      level (default = 0) -- set number of indentations to start with
 |      indent (default = 4) -- set indentation amount
 |      eol (default = '\n') -- set end of line character(s)
 |      pretty (default = True) -- curtail long list output with a '...'
 |      max_chars (default = 80) -- set max characters per line
 |
 |  update(self, dict1=None, **dict2)
 |      Update current dict with dict1 and then dict2.
 |
 |      This recursively updates the structure of the original dictionary-like
 |      object with the new entries in the second and third objects. This
 |      allows users to update with large, nested structures.
 |
 |      Note, because the dict2 packs up all the keyword arguments, you can
 |      specify the changes as a list of keyword agruments.
 |
 |      Examples:
 |      # update with dict
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      update_dict = dict(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj.update(update_dict)
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      # update with list of keyword arguments
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      obj.update(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      This 'fully' supports duck-typing in that the call signature is
 |      identical, however this differs slightly from the normal update
 |      method provided by Python's dictionaries.
 |
 |  validate(self, caller=True)
 |      Recursively check the validity of the keys in a PlotlyDict.
 |
 |      The valid keys constitute the entries in each object
 |      dictionary in graph_objs_meta.json
 |
 |      The validation process first requires that all nested collections be
 |      converted to the appropriate subclass of PlotlyDict/PlotlyList. Then,
 |      each of these objects call `validate` and so on, recursively,
 |      until the entire object has been validated.
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from PlotlyDict:
 |
 |  __dict__
 |      dictionary for instance variables (if defined)
 |
 |  __weakref__
 |      list of weak references to the object (if defined)
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from __builtin__.dict:
 |
 |  __cmp__(...)
 |      x.__cmp__(y) &lt;==&gt; cmp(x,y)
 |
 |  __contains__(...)
 |      D.__contains__(k) -&gt; True if D has a key k, else False
 |
 |  __delitem__(...)
 |      x.__delitem__(y) &lt;==&gt; del x[y]
 |
 |  __eq__(...)
 |      x.__eq__(y) &lt;==&gt; x==y
 |
 |  __ge__(...)
 |      x.__ge__(y) &lt;==&gt; x&gt;=y
 |
 |  __getattribute__(...)
 |      x.__getattribute__('name') &lt;==&gt; x.name
 |
 |  __getitem__(...)
 |      x.__getitem__(y) &lt;==&gt; x[y]
 |
 |  __gt__(...)
 |      x.__gt__(y) &lt;==&gt; x&gt;y
 |
 |  __iter__(...)
 |      x.__iter__() &lt;==&gt; iter(x)
 |
 |  __le__(...)
 |      x.__le__(y) &lt;==&gt; x&lt;=y
 |
 |  __len__(...)
 |      x.__len__() &lt;==&gt; len(x)
 |
 |  __lt__(...)
 |      x.__lt__(y) &lt;==&gt; x&lt;y
 |
 |  __ne__(...)
 |      x.__ne__(y) &lt;==&gt; x!=y
 |
 |  __repr__(...)
 |      x.__repr__() &lt;==&gt; repr(x)
 |
 |  __sizeof__(...)
 |      D.__sizeof__() -&gt; size of D in memory, in bytes
 |
 |  clear(...)
 |      D.clear() -&gt; None.  Remove all items from D.
 |
 |  copy(...)
 |      D.copy() -&gt; a shallow copy of D
 |
 |  fromkeys(...)
 |      dict.fromkeys(S[,v]) -&gt; New dict with keys from S and values equal to v.
 |      v defaults to None.
 |
 |  get(...)
 |      D.get(k[,d]) -&gt; D[k] if k in D, else d.  d defaults to None.
 |
 |  has_key(...)
 |      D.has_key(k) -&gt; True if D has a key k, else False
 |
 |  items(...)
 |      D.items() -&gt; list of D's (key, value) pairs, as 2-tuples
 |
 |  iteritems(...)
 |      D.iteritems() -&gt; an iterator over the (key, value) items of D
 |
 |  iterkeys(...)
 |      D.iterkeys() -&gt; an iterator over the keys of D
 |
 |  itervalues(...)
 |      D.itervalues() -&gt; an iterator over the values of D
 |
 |  keys(...)
 |      D.keys() -&gt; list of D's keys
 |
 |  pop(...)
 |      D.pop(k[,d]) -&gt; v, remove specified key and return the corresponding value.
 |      If key is not found, d is returned if given, otherwise KeyError is raised
 |
 |  popitem(...)
 |      D.popitem() -&gt; (k, v), remove and return some (key, value) pair as a
 |      2-tuple; but raise KeyError if D is empty.
 |
 |  setdefault(...)
 |      D.setdefault(k[,d]) -&gt; D.get(k,d), also set D[k]=d if k not in D
 |
 |  values(...)
 |      D.values() -&gt; list of D's values
 |
 |  viewitems(...)
 |      D.viewitems() -&gt; a set-like object providing a view on D's items
 |
 |  viewkeys(...)
 |      D.viewkeys() -&gt; a set-like object providing a view on D's keys
 |
 |  viewvalues(...)
 |      D.viewvalues() -&gt; an object providing a view on D's values
 |
 |  ----------------------------------------------------------------------
 |  Data and other attributes inherited from __builtin__.dict:
 |
 |  __hash__ = None
 |
 |  __new__ = &lt;built-in method __new__ of type object&gt;
 |      T.__new__(S, ...) -&gt; a new object with type S, a subtype of T


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Take note:
      </p>
      <blockquote>
       <p>
        The
        <code class="python">
         'start'
        </code>
        key sets the starting point of the first bin and
        <code class="python">
         'end'
        </code>
        key sets the end point of the final bin.
       </p>
      </blockquote>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       For our next plot, we compare the grade distribution of the homeworks, the midterm, the final exam as well as the (total) course grade. The first step is to compute the course grade from the three other grades:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[17]">
      <a class="prompt input_prompt" href="#in-[17]">
       In [17]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Compute course grade (ignoring NaNs in sum)</span>
<span class="k">def</span> <span class="nf">get_course</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c"># 2d array, columns rep. each component</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">weight</span><span class="p">)[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span> <span class="c"># 2d array of weight</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">(</span><span class="n">d</span><span class="o">*</span><span class="n">w</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>       <span class="c"># sum across columns</span>

<span class="c"># Send grades and weights to get_course()</span>
<span class="n">course</span> <span class="o">=</span> <span class="n">get_course</span><span class="p">([</span><span class="n">homeworks</span><span class="p">,</span> <span class="n">midterm</span><span class="p">,</span> <span class="n">final</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">])</span>

<span class="c"># Check how many NaN 'course' array</span>
<span class="n">check_nan</span><span class="p">(</span><span class="n">course</span><span class="p">,</span><span class="s">'Course Grade'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Course Grade: 64 grades out of 68 entries

</pre>
       </div>
      </div>
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stderr output_text">
        <pre>
/usr/lib/python2.7/dist-packages/numpy/lib/nanfunctions.py:514: FutureWarning:

In Numpy 1.9 the sum along empty slices will be zero.


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Now, build a 4 rows, 1 column subplot grid with shared x-axes using
       <code class="python">
        make_subplot()
       </code>
       :
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[18]">
      <a class="prompt input_prompt" href="#in-[18]">
       In [18]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Generate Figure object with 4 axes on 2 rows and 2 columns</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">tls</span><span class="o">.</span><span class="n">make_subplots</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">shared_xaxes</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
This is the format of your plot grid:
[ (1,1) x1,y1 ]
[ (2,1) x1,y2 ]
[ (3,1) x1,y3 ]
[ (4,1) x1,y4 ]


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[19]">
      <a class="prompt input_prompt" href="#in-[19]">
       In [19]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Print Figure object to stdout</span>
<span class="k">print</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Figure(
    data=Data(),
    layout=Layout(
        xaxis1=XAxis(
            domain=[0.0, 1.0],
            anchor='y4'
        ),
        yaxis1=YAxis(
            domain=[0.8062499999999999, 0.9999999999999999],
            anchor='free',
            position=0.0
        ),
        yaxis2=YAxis(
            domain=[0.5375, 0.73125],
            anchor='free',
            position=0.0
        ),
        yaxis3=YAxis(
            domain=[0.26875, 0.4625],
            anchor='free',
            position=0.0
        ),
        yaxis4=YAxis(
            domain=[0.0, 0.19375],
            anchor='x1'
        )
    )
)

</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Next, we fill in the data and layout objects. The following code cells are split into four sections:
       <a href="#-0--A-few-definitions">
        (0)
       </a>
       a few definitions,
       <a href="#-1--Data-and-trace-options">
        (1)
       </a>
       data and trace style options],
       <a href="#-2--Layout-options">
        (2)
       </a>
       layout options and
       <a href="#-3--Call-to-Plotly">
        (3)
       </a>
       a call to Plotly.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h5 id="-0--A-few-definitions">
       -0- A few definitions
       <a class="anchor-link" href="#-0--A-few-definitions">
        ¶
       </a>
      </h5>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[20]">
      <a class="prompt input_prompt" href="#in-[20]">
       In [20]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="n">splts</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c"># list of subplot labels</span>

<span class="c"># Concatenate all grade arrays</span>
<span class="n">grades_all</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">homeworks</span><span class="p">,</span> <span class="n">midterm</span><span class="p">,</span> <span class="n">final</span><span class="p">,</span> <span class="n">course</span><span class="p">))</span>

<span class="c"># Set bin start, end and size (for all subplots)</span>
<span class="n">xbin_start</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">grades_all</span><span class="p">)</span>  <span class="c"># min of arrays</span>
<span class="n">xbin_end</span> <span class="o">=</span> <span class="mi">100</span>                      <span class="c"># max possible grade</span>
<span class="n">xbin_size</span> <span class="o">=</span> <span class="mi">4</span>                       <span class="c"># size of each bin (in %)</span>

<span class="n">histnorm</span> <span class="o">=</span> <span class="s">'probability density'</span>  <span class="c"># prob. density as histogram norm. </span>
<span class="n">color</span> <span class="o">=</span> <span class="s">'rgb(106,204,101)'</span>        <span class="c"># bin color </span>
<span class="n">x_range</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">105</span><span class="p">]</span>          <span class="c"># x-axis range </span>
<span class="n">y_range</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.009</span><span class="p">,</span> <span class="mf">0.0509</span><span class="p">]</span>  <span class="c"># (!) to include tick at range limits</span>
<span class="n">width</span> <span class="o">=</span> <span class="mi">650</span>    <span class="c"># plot width (in pixels)</span>
<span class="n">height</span> <span class="o">=</span> <span class="mi">800</span>   <span class="c"># plot height (in pixels)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h5 id="-1--Data-and-trace-options">
       -1- Data and trace options
       <a class="anchor-link" href="#-1--Data-and-trace-options">
        ¶
       </a>
      </h5>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[21]">
      <a class="prompt input_prompt" href="#in-[21]">
       In [21]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Define a trace-generating function (returns a Histogram object)</span>
<span class="k">def</span> <span class="nf">make_trace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">splt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Histogram</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>                <span class="c"># distribution to be plotted</span>
        <span class="n">histnorm</span><span class="o">=</span><span class="n">histnorm</span><span class="p">,</span>  <span class="c"># histogram normalization</span>
        <span class="n">name</span><span class="o">=</span><span class="s">'&lt;b&gt;Grades&lt;/b&gt;'</span><span class="p">,</span>        <span class="c"># label for legend/hover</span>
        <span class="n">marker</span><span class="o">=</span><span class="n">Marker</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">),</span> <span class="c"># bar color</span>
        <span class="n">autobinx</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>        <span class="c"># (!) custom bins</span>
        <span class="n">xbins</span><span class="o">=</span><span class="n">XBins</span><span class="p">(</span>
            <span class="n">start</span><span class="o">=</span><span class="n">xbin_start</span><span class="p">,</span>  <span class="c"># first bin start</span>
            <span class="n">end</span><span class="o">=</span><span class="n">xbin_end</span><span class="p">,</span>      <span class="c"># last bin end</span>
            <span class="n">size</span><span class="o">=</span><span class="n">xbin_size</span>     <span class="c"># size of each bin</span>
        <span class="p">),</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="s">'x1'</span><span class="p">,</span>          <span class="c"># (!) all subplots on same x-axis</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="s">'y'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">splt</span><span class="p">),</span> <span class="c"># (!) plot on 'sbplt' y-axis</span>
    <span class="p">)</span>

<span class="c"># (1.1b) Update 'data' key in figure object with Histogram objects</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'data'</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">([</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">homeworks</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">midterm</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">final</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">course</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">])</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h5 id="-2--Layout-options">
       -2- Layout options
       <a class="anchor-link" href="#-2--Layout-options">
        ¶
       </a>
      </h5>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       We use annotation object to display the plot's and the subplot titles:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[22]">
      <a class="prompt input_prompt" href="#in-[22]">
       In [22]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="n">title</span> <span class="o">=</span> <span class="s">"Fig. 3.4a: &lt;b&gt;Course Grade Distributions&lt;/b&gt;"</span>  <span class="c"># plot's title</span>

<span class="c"># (2.1) Make 'title' annotation object</span>
<span class="n">anno_title</span> <span class="o">=</span> <span class="n">Annotation</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>    <span class="c"># set plot's title</span>
    <span class="n">xref</span><span class="o">=</span><span class="s">'paper'</span><span class="p">,</span>  <span class="c"># use paper coordinates</span>
    <span class="n">yref</span><span class="o">=</span><span class="s">'paper'</span><span class="p">,</span>  <span class="c">#   for both x and y coords</span>
    <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>        <span class="c"># x and y position </span>
    <span class="n">y</span><span class="o">=</span><span class="mf">1.15</span><span class="p">,</span>        <span class="c">#   in norm. coord.     </span>
    <span class="n">font</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>  <span class="c"># text font size</span>
    <span class="n">showarrow</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>       <span class="c"># no arrow (default is True)</span>
    <span class="n">bgcolor</span><span class="o">=</span><span class="s">'#F5F3F2'</span><span class="p">,</span>     <span class="c"># light grey background color</span>
    <span class="n">bordercolor</span><span class="o">=</span><span class="s">'#FFFFFF'</span><span class="p">,</span> <span class="c"># white borders</span>
    <span class="n">borderwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>         <span class="c"># set border width</span>
    <span class="n">borderpad</span><span class="o">=</span><span class="mi">22</span>           <span class="c"># set border-text space</span>
<span class="p">)</span>

<span class="c"># Define an annotation-generation function, for subplot titles</span>
<span class="k">def</span> <span class="nf">make_anno_splt</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">yref</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Annotation</span><span class="p">(</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>   <span class="c"># set subplot title</span>
        <span class="n">xref</span><span class="o">=</span><span class="s">'x1'</span><span class="p">,</span>     <span class="c"># (!) subplot share the same x-axis</span>
        <span class="n">yref</span><span class="o">=</span><span class="n">yref</span><span class="p">,</span>     <span class="c"># (!) ref on y-axis</span>
        <span class="n">x</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>            <span class="c"># set x position ' </span>
        <span class="n">xanchor</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span> <span class="c">#   and anchor</span>
        <span class="n">y</span><span class="o">=</span><span class="n">y_range</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>   <span class="c"># set y position</span>
        <span class="n">yanchor</span><span class="o">=</span><span class="s">'top'</span><span class="p">,</span>  <span class="c">#   and anchor</span>
        <span class="n">font</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">),</span>  <span class="c"># text font size</span>
        <span class="n">showarrow</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>       <span class="c"># no arrow (default is True)</span>
        <span class="n">bgcolor</span><span class="o">=</span><span class="s">'#F5F3F2'</span><span class="p">,</span>     <span class="c"># light grey background color</span>
        <span class="n">bordercolor</span><span class="o">=</span><span class="s">'#FFFFFF'</span><span class="p">,</span> <span class="c"># white borders</span>
        <span class="n">borderwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>         <span class="c"># set border width</span>
        <span class="n">borderpad</span><span class="o">=</span><span class="mi">5</span>           <span class="c"># set border-text space</span>
    <span class="p">)</span>

<span class="c"># Define dictionary of subplot title</span>
<span class="n">splt_title</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="s">'&lt;b&gt;Homework&lt;/b&gt; (30</span><span class="si">% o</span><span class="s">f course grade)'</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="s">'&lt;b&gt;Midterm Exam&lt;/b&gt; (30%)'</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="s">'&lt;b&gt;Final Exam&lt;/b&gt; (40%)'</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span> <span class="s">'&lt;b&gt;Course Grade&lt;/b&gt;'</span>
<span class="p">}</span>

<span class="c"># (2.3a) Make Annotations object</span>
<span class="n">annotations</span> <span class="o">=</span> <span class="n">Annotations</span><span class="p">(</span>
    <span class="p">[</span><span class="n">anno_title</span><span class="p">]</span> <span class="o">+</span>
    <span class="p">[</span><span class="n">make_anno_splt</span><span class="p">(</span><span class="n">splt_title</span><span class="p">[</span><span class="n">splt</span><span class="p">],</span> <span class="s">"y{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">))</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="n">splts</span><span class="p">]</span>
<span class="p">)</span>

<span class="c"># (2.3b) Link 'annotations' to Annotations object</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span><span class="p">)</span>

<span class="c"># (2.4) Add (an invisible) 'title' to be placed in the plot's URL</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">"course-grade-distribution"</span><span class="p">,</span>    <span class="c"># placed in plot's URL</span>
    <span class="n">titlefont</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'rgba(0,0,0,0)'</span><span class="p">)</span> <span class="c"># (!) invisible color</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       onto axis style options
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[23]">
      <a class="prompt input_prompt" href="#in-[23]">
       In [23]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Define an axis style dictionary</span>
<span class="n">axis_style</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
    <span class="n">tickfont</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">),</span>   <span class="c"># font size (default is 12)</span>
    <span class="n">titlefont</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">),</span>  <span class="c"># title font size (default is 12)</span>
    <span class="n">showgrid</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>            <span class="c"># show grid lines</span>
    <span class="n">gridcolor</span><span class="o">=</span><span class="s">'#FFFFFF'</span><span class="p">,</span>      <span class="c"># white grid lines</span>
    <span class="n">zeroline</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>           <span class="c"># remove thick zero line</span>
    <span class="n">autotick</span><span class="o">=</span><span class="bp">False</span>            <span class="c"># turn off autotick</span>
<span class="p">)</span>

<span class="c"># (2.5a) Update x axis with style options</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">][</span><span class="s">'xaxis1'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="n">axis_style</span><span class="p">,</span>  <span class="c"># link style options dict, (!) must be first argument</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'&lt;b&gt;Grades [%]&lt;/b&gt;'</span><span class="p">,</span> <span class="c"># set axis title</span>
    <span class="nb">range</span><span class="o">=</span><span class="n">x_range</span><span class="p">,</span>             <span class="c"># x-axis range, defined in (0)</span>
    <span class="n">ticks</span><span class="o">=</span><span class="s">'outside'</span><span class="p">,</span>   <span class="c"># draw ticks outside axes </span>
    <span class="n">dtick</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>          <span class="c"># set distance between ticks</span>
    <span class="n">ticklen</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>         <span class="c"># set tick length</span>
    <span class="n">tickwidth</span><span class="o">=</span><span class="mf">1.5</span>      <span class="c">#   and width </span>
<span class="p">)</span>

<span class="c"># Define dictionary of style options for all y axes</span>
<span class="n">yaxis_style</span> <span class="o">=</span> <span class="n">YAxis</span><span class="p">(</span>
    <span class="n">axis_style</span><span class="p">,</span>   <span class="c"># link style options dict, (!) must be first argument</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'&lt;b&gt;Prob. dist.&lt;/b&gt;'</span><span class="p">,</span>  <span class="c"># y-axis title  </span>
    <span class="nb">range</span><span class="o">=</span><span class="n">y_range</span><span class="p">,</span>               <span class="c"># y-axis range, defined in (0)</span>
    <span class="n">ticks</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>     <span class="c"># do no draw ticks  </span>
    <span class="n">dtick</span><span class="o">=</span><span class="mf">0.01</span>    <span class="c"># set distance between grid lines </span>
<span class="p">)</span>

<span class="c"># (2.5b) Update all four y axes</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="p">{</span><span class="s">'yaxis{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">splt</span><span class="p">):</span> <span class="n">yaxis_style</span> <span class="k">for</span> <span class="n">splt</span> <span class="ow">in</span> <span class="n">splts</span><span class="p">}</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Set a few other layout features:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[24]">
      <a class="prompt input_prompt" href="#in-[24]">
       In [24]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="n">bargap</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>     <span class="c"># norm. spacing between bars</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="c"># remove legend</span>
    <span class="n">font</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span>
        <span class="n">family</span><span class="o">=</span><span class="s">"Droid Serif, serif"</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s">'#635F5D'</span>
    <span class="p">),</span>
    <span class="n">margin</span><span class="o">=</span><span class="n">Margin</span><span class="p">(</span>  <span class="c"># set frame/axes margins</span>
        <span class="n">t</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">b</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">r</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
        <span class="n">l</span><span class="o">=</span><span class="mi">70</span>
    <span class="p">),</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s">'#EFECEA'</span><span class="p">,</span>   <span class="c"># set plot and </span>
    <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s">'#EFECEA'</span><span class="p">,</span>  <span class="c">#   frame background color to grey</span>
    <span class="n">autosize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>  <span class="c"># turn off autosize </span>
    <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>   <span class="c"># plot's height in pixels (defined in -0-) </span>
    <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>     <span class="c"># plot's width in pixels (defined in -0-)</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h5 id="-3--Call-to-Plotly">
       -3- Call to Plotly
       <a class="anchor-link" href="#-3--Call-to-Plotly">
        ¶
       </a>
      </h5>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[25]">
      <a class="prompt input_prompt" href="#in-[25]">
       In [25]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (@) Send figure object to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s4_grades-bins'</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>

<span class="c"># adjust output cell with 'width' and 'height'</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[25]">
        <a class="prompt output_prompt" href="#out[25]">
         Out[25]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="800" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/156.embed?width=625&amp;height=775" style="border:none;" width="650">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Note that Plotly allows users to customize histogram bins in another way: by setting the total number of bins.
      </p>
      <p>
       This is done using the
       <code class="python">
        'nbinx'
       </code>
       key in
       <code class="python">
        Histogram
       </code>
       (or correspondingly the
       <code class="python">
        'nbiny'
       </code>
       for histograms with horizontal bars).
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h5 id="Adding-Gaussian-fits-to-Plotly-histograms">
       Adding Gaussian fits to Plotly histograms
       <a class="anchor-link" href="#Adding-Gaussian-fits-to-Plotly-histograms">
        ¶
       </a>
      </h5>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       The above figure is pretty good, but let's make it even better by overlaying Gaussian fits on top of the histograms.
      </p>
      <p>
       Hover around on the plot above and notice that the x values corresponding to the bins are placed in the middle of each bin. So, after finding the best-fit Gaussian curves, we will evaluate them at these points. This will allow us to compare the probability density values of each bin and the fit by hovering the cursor on the plot.
      </p>
      <p>
       The following code make use the
       <code class="python">
        scipy
       </code>
       module.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[26]">
      <a class="prompt input_prompt" href="#in-[26]">
       In [26]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (*) Import normal distribution best fits function from scipy</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">norm</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[27]">
      <a class="prompt input_prompt" href="#in-[27]">
       In [27]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Space on which Gaussian fit will be evaluated</span>
<span class="n">x_space</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">xbin_start</span> <span class="o">+</span> <span class="n">xbin_size</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">xbin_end</span><span class="p">,</span> <span class="n">xbin_size</span><span class="p">)</span>

<span class="c"># Gaussian (or Normal) distribution</span>
<span class="k">def</span> <span class="nf">gaussian</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">sig</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="n">sig</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sig</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="c"># Define a text-generating function (returns a strings)</span>
<span class="k">def</span> <span class="nf">make_text</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sig</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">"&lt;br&gt;</span><span class="se">\</span>
<span class="s">    &lt;b&gt;Mean&lt;/b&gt;: {:5.2f}</span><span class="se">\</span>
<span class="s">    &lt;br&gt;&lt;b&gt;Standard deviation&lt;/b&gt;: {:5.2f}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sig</span><span class="p">)</span>

<span class="c"># Define a trace-generating function (returns a Scatter object)</span>
<span class="k">def</span> <span class="nf">make_gaussian_trace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">splt</span><span class="p">):</span>
    <span class="n">mu</span><span class="p">,</span> <span class="n">sig</span><span class="o">=</span><span class="n">norm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)])</span>  <span class="c"># compute fit coeffs (removing NaNs first)</span>
    <span class="n">y_gaussian</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x_space</span><span class="p">,</span><span class="n">mu</span><span class="p">,</span><span class="n">sig</span><span class="p">)</span> <span class="c"># eval fit at x_space</span>
    <span class="k">return</span> <span class="n">Scatter</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">x_space</span><span class="p">,</span>      <span class="c"># x-coords corresp. to bins'</span>
        <span class="n">y</span><span class="o">=</span><span class="n">y_gaussian</span><span class="p">,</span>   <span class="c"># gaussian fit</span>
        <span class="n">mode</span><span class="o">=</span><span class="s">'lines'</span><span class="p">,</span>         <span class="c"># interpolate in-between points</span>
        <span class="n">name</span><span class="o">=</span><span class="s">'Gaussian fit'</span><span class="p">,</span>  <span class="c"># set the hover label</span>
        <span class="n">text</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">make_text</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">sig</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">x_space</span><span class="p">)),</span> <span class="c"># (!) hover text for all pts </span>
        <span class="n">textfont</span><span class="o">=</span><span class="n">Font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">),</span>      <span class="c"># increase text font size</span>
        <span class="n">line</span><span class="o">=</span><span class="n">Line</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'#7570b3'</span><span class="p">),</span>  <span class="c"># line color (a nice purple)</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="s">'x1'</span><span class="p">,</span>           <span class="c"># (!) all subplots on same x-axis</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="s">'y'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">splt</span><span class="p">)</span>   <span class="c"># (!) plot on y-axis of 'sbplt'</span>
    <span class="p">)</span>

<span class="c"># (3.3b) Update 'data' key in figure object with Scatter objects</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'data'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">Data</span><span class="p">([</span>
    <span class="n">make_gaussian_trace</span><span class="p">(</span><span class="n">homeworks</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">make_gaussian_trace</span><span class="p">(</span><span class="n">midterm</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">make_gaussian_trace</span><span class="p">(</span><span class="n">final</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="n">make_gaussian_trace</span><span class="p">(</span><span class="n">course</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">])</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Finally, update the plot's title:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[28]">
      <a class="prompt input_prompt" href="#in-[28]">
       In [28]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Update title annotation (1st entry in Annotations)</span>
<span class="n">title</span> <span class="o">=</span> <span class="s">'Fig. 3.5b: &lt;b&gt;Course Grade Distributions&lt;/b&gt;'</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">][</span><span class="s">'annotations'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       This gives
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[29]">
      <a class="prompt input_prompt" href="#in-[29]">
       In [29]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># (@) Send figure object to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s4_grades-bins-lines'</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[29]">
        <a class="prompt output_prompt" href="#out[29]">
         Out[29]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="800" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/193.embed?width=625&amp;height=775" style="border:none;" width="650">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Someone could win TA of the year with this plot.
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <h4 id="4.4-Box-plots">
       4.4 Box plots
       <a class="anchor-link" href="#4.4-Box-plots">
        ¶
       </a>
      </h4>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Box plots are a great way to present the distribution of an array of numbers. While the shape of an histogram depends strongly on the specified bin size and locations, box plots have no such parameters, which could be advantageous in some situations.
      </p>
      <p>
       For readers unfamiliar with box plots:
      </p>
      <ul>
       <li>
        The bottom and top of the box are the first and third quartiles respectively.
       </li>
       <li>
        The band inside the box is the second quartile (i.e the median).
       </li>
      </ul>
      <p>
       Plotly box plots have whiskers:
      </p>
      <ul>
       <li>
        The end of the bottom whisker corresponds to the largest value within:
       </li>
      </ul>
      <p>
       $$ Q_1 - 1.5\,(\mathrm{IQR}) \;.$$
      </p>
      <ul>
       <li>
        The end of the top whisker corresponds to the smaller value within:
       </li>
      </ul>
      <p>
       $$ Q_3 + 1.5\,(\mathrm{IQR}) \;.$$
      </p>
      <p>
       Where $Q_1$ is the first quartile, $Q_3$ is the third quartile and $\mathrm{IQR}$ is the interquartile range (defined as $Q_3-Q_1$).
      </p>
      <p>
       So, let's first make a simple box plot comparing the course grade distributions:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[30]">
      <a class="prompt input_prompt" href="#in-[30]">
       In [30]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="n">help</span><span class="p">(</span><span class="n">Box</span><span class="p">)</span>  <span class="c"># call help()!</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt">
       </div>
       <div class="output_subarea output_stream output_stdout output_text">
        <pre>
Help on class Box in module plotly.graph_objs.graph_objs:

class Box(PlotlyTrace)
 |  A dictionary-like object for representing a box trace in plotly.
 |
 |  Example:
 |
 |      &gt;&gt;&gt; py.plot([Box(name='boxy', y=[1,3,9,2,4,2,3,5,2])])
 |
 |  Online example:
 |
 |      https://plot.ly/python/box-plots/
 |
 |  Quick method reference:
 |
 |      Box.update(changes)
 |      Box.strip_style()
 |      Box.get_data()
 |      Box.to_graph_objs()
 |      Box.validate()
 |      Box.to_string()
 |      Box.force_clean()
 |
 |  Valid keys:
 |
 |      y [required=True] (value=list or 1d numpy array of numbers, strings,
 |      datetimes) (streamable):
 |          This array is used to define an individual box plot, or, a
 |          concatenation of multiple box plots. Statistics from these numbers
 |          define the bounds of the box, the length of the whiskers, etc. For
 |          details on defining multiple boxes with locations see 'x'. Each box
 |          spans from the first quartile to the third. The second quartile is
 |          marked by a line inside the box. By default, the whiskers are
 |          correspond to box' edges +/- 1.5 times the interquartile range. See
 |          also 'boxpoints' for more info
 |
 |      x0 [required=False] (value=number):
 |          The location of this box. When 'y' defines a single box, 'x0' can be
 |          used to set where this box is centered on the x-axis. If many boxes
 |          are set to appear at the same 'x0' location, they will form a box
 |          group.
 |
 |      x [required=False] (value=list or 1d numpy array of numbers, strings,
 |      datetimes) (streamable):
 |          Usually, you do not need to set this value as plotly will handle box
 |          locations for you. However this allows you to have fine control over
 |          the location data for the box. Unlike making a bar, a box plot is
 |          made of many y values. Therefore, to give location data to the
 |          values you place in 'y', the length of 'x' must equal the length of
 |          'y'. when making multiple box plots, you can concatenate the data
 |          sets for each box into a single 'y' array. then, the entries in 'x'
 |          define which box plot each entry in 'y' belongs to. When making a
 |          single box plot, you must set each entry in 'x' to the same value,
 |          see 'x0' for a more practical way to handle this case. If you don't
 |          include 'x', the box will simply be assigned a location.
 |
 |      name [required=False] (value=a string):
 |          The label associated with this trace. This name will appear in the
 |          legend, on hover and in the column header in the online spreadsheet.
 |
 |      boxmean [required=False] (value=False | True | 'sd'):
 |          Choose between add-on features for this box trace. If True then the
 |          mean of the data linked to 'y' is shown as a dashed line in the box.
 |          If 'sd', then the standard deviation is also shown. If False (the
 |          default), then no line are shown.
 |
 |      boxpoints [required=False] (value='outliers' | 'all' |
 |      'suspectedoutliers' | False):
 |          Choose between boxpoints options for this box trace. If 'outliers'
 |          (the default), then only the points lying outside the box' whiskers
 |          (more info in 'y') are shown. If 'all', then all data points linked
 |          'y' are shown. If 'suspectedoutliers', then outliers points are
 |          shown and points either less than 4*Q1-3*Q3 or greater than
 |          4*Q3-3*Q1 are highlighted (with 'outliercolor' in Marker). If False,
 |          then only the boxes are shown and the whiskers correspond to the
 |          minimum and maximum value linked to 'y'.
 |
 |      jitter [required=False] (value=number: x in [0, 1]):
 |          Sets the width of the jitter in the boxpoints scatter in this trace.
 |          Has an no effect if 'boxpoints' is set to False. If 0, then the
 |          boxpoints are aligned vertically. If 1 then the boxpoints are placed
 |          in a random horizontal jitter of width equal to the width of the
 |          boxes.
 |
 |      pointpos [required=False] (value=number: x in [-2, 2]):
 |          Sets the horizontal position of the boxpoints in relation to the
 |          boxes in this trace. Has an no effect if 'boxpoints' is set to
 |          False. If 0, then the boxpoints are placed over the center of each
 |          box. If 1 (-1), then the boxpoints are placed on the right (left)
 |          each box border. If 2 (-2), then the boxpoints are  placed 1 one box
 |          width to right (left) of each box.
 |
 |      whiskerwidth [required=False] (value=number: x in [0, 1]):
 |          Sets the width of the whisker of the box relative to the box' width
 |          (in normalized coordinates, e.g. if 'whiskerwidth' set 1, then the
 |          whiskers are as wide as the box.
 |
 |      fillcolor [required=False] (value=a string describing color):
 |          Sets the color of the box interior.
 |
 |          Examples:
 |              'green' | 'rgb(0, 255, 0)' | 'rgba(0, 255, 0, 0.3)' |
 |              'hsl(120,100%,50%)' | 'hsla(120,100%,50%,0.3)' | '#434F1D'
 |
 |      marker [required=False] (value=Marker object | dictionary-like object)
 |      (streamable):
 |          Links a dictionary-like object containing marker style parameters
 |          for this the boxpoints of box trace. Has an effect only 'boxpoints'
 |          is set to 'outliers', 'suspectedoutliers' or 'all'.
 |
 |          For more, run `help(plotly.graph_objs.Marker)`
 |
 |      line [required=False] (value=Line object | dictionary-like object)
 |      (streamable):
 |          Links a dictionary-like object containing line parameters for the
 |          border of this box trace (including the whiskers).
 |
 |          For more, run `help(plotly.graph_objs.Line)`
 |
 |      opacity [required=False] (value=number: x in [0, 1]):
 |          Sets the opacity, or transparency, of the entire object, also known
 |          as the alpha channel of colors. If the object's color is given in
 |          terms of 'rgba' color model, 'opacity' is redundant.
 |
 |      xaxis [required=False] (value='x1' | 'x2' | 'x3' | etc.):
 |          This key determines which x-axis the x-coordinates of this trace
 |          will reference in the figure.  Values 'x1' and 'x' reference to
 |          'xaxis' in 'layout', 'x2' references to 'xaxis2' in 'layout', and so
 |          on. Note that 'x1' will always refer to 'xaxis' or 'xaxis1' in
 |          'layout', they are the same.
 |
 |      yaxis [required=False] (value='y1' | 'y2' | 'y3' | etc.):
 |          This key determines which y-axis the y-coordinates of this trace
 |          will reference in the figure.  Values 'y1' and 'y' reference to
 |          'yaxis' in 'layout', 'y2' references to 'yaxis2' in 'layout', and so
 |          on. Note that 'y1' will always refer to 'yaxis' or 'yaxis1' in
 |          'layout', they are the same.
 |
 |      showlegend [required=False] (value=a boolean: True | False):
 |          Toggle whether or not this trace will be labeled in the legend.
 |
 |      stream [required=False] (value=Stream object | dictionary-like object):
 |          Links a dictionary-like object that initializes this trace as a
 |          writable-stream, for use with the streaming API.
 |
 |          For more, run `help(plotly.graph_objs.Stream)`
 |
 |      visible [required=False] (value=a boolean: True | False):
 |          Toggles whether or not this object will be visible on the rendered
 |          figure.
 |
 |      xsrc [required=False] (value=a string equal to the unique identifier of
 |      a plotly grid column) (streamable):
 |          Usually, you do not need to set this value as plotly will handle box
 |          locations for you. However this allows you to have fine control over
 |          the location data for the box. Unlike making a bar, a box plot is
 |          made of many y values. Therefore, to give location data to the
 |          values you place in 'y', the length of 'x' must equal the length of
 |          'y'. when making multiple box plots, you can concatenate the data
 |          sets for each box into a single 'y' array. then, the entries in 'x'
 |          define which box plot each entry in 'y' belongs to. When making a
 |          single box plot, you must set each entry in 'x' to the same value,
 |          see 'x0' for a more practical way to handle this case. If you don't
 |          include 'x', the box will simply be assigned a location.
 |
 |      ysrc [required=True] (value=a string equal to the unique identifier of a
 |      plotly grid column) (streamable):
 |          This array is used to define an individual box plot, or, a
 |          concatenation of multiple box plots. Statistics from these numbers
 |          define the bounds of the box, the length of the whiskers, etc. For
 |          details on defining multiple boxes with locations see 'x'. Each box
 |          spans from the first quartile to the third. The second quartile is
 |          marked by a line inside the box. By default, the whiskers are
 |          correspond to box' edges +/- 1.5 times the interquartile range. See
 |          also 'boxpoints' for more info
 |
 |      type [required=False] (value='box'):
 |          Plotly identifier for this data's trace type.
 |
 |  Method resolution order:
 |      Box
 |      PlotlyTrace
 |      PlotlyDict
 |      __builtin__.dict
 |      __builtin__.object
 |
 |  Methods inherited from PlotlyTrace:
 |
 |  __init__(self, *args, **kwargs)
 |
 |  to_string(self, level=0, indent=4, eol='\n', pretty=True, max_chars=80)
 |      Returns a formatted string showing graph_obj constructors.
 |
 |      Example:
 |
 |          print(obj.to_string())
 |
 |      Keyword arguments:
 |      level (default = 0) -- set number of indentations to start with
 |      indent (default = 4) -- set indentation amount
 |      eol (default = '\n') -- set end of line character(s)
 |      pretty (default = True) -- curtail long list output with a '...'
 |      max_chars (default = 80) -- set max characters per line
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from PlotlyDict:
 |
 |  __setitem__(self, key, value)
 |
 |  force_clean(self, caller=True)
 |      Attempts to convert to graph_objs and call force_clean() on values.
 |
 |      Calling force_clean() on a PlotlyDict will ensure that the object is
 |      valid and may be sent to plotly. This process will also remove any
 |      entries that end up with a length == 0.
 |
 |      Careful! This will delete any invalid entries *silently*.
 |
 |  get_data(self)
 |      Returns the JSON for the plot with non-data elements stripped.
 |
 |  get_ordered(self, caller=True)
 |
 |  strip_style(self)
 |      Strip style from the current representation.
 |
 |      All PlotlyDicts and PlotlyLists are guaranteed to survive the
 |      stripping process, though they made be left empty. This is allowable.
 |
 |      Keys that will be stripped in this process are tagged with
 |      `'type': 'style'` in graph_objs_meta.json.
 |
 |      This process first attempts to convert nested collections from dicts
 |      or lists to subclasses of PlotlyList/PlotlyDict. This process forces
 |      a validation, which may throw exceptions.
 |
 |      Then, each of these objects call `strip_style` on themselves and so
 |      on, recursively until the entire structure has been validated and
 |      stripped.
 |
 |  to_graph_objs(self, caller=True)
 |      Walk obj, convert dicts and lists to plotly graph objs.
 |
 |      For each key in the object, if it corresponds to a special key that
 |      should be associated with a graph object, the ordinary dict or list
 |      will be reinitialized as a special PlotlyDict or PlotlyList of the
 |      appropriate `kind`.
 |
 |  update(self, dict1=None, **dict2)
 |      Update current dict with dict1 and then dict2.
 |
 |      This recursively updates the structure of the original dictionary-like
 |      object with the new entries in the second and third objects. This
 |      allows users to update with large, nested structures.
 |
 |      Note, because the dict2 packs up all the keyword arguments, you can
 |      specify the changes as a list of keyword agruments.
 |
 |      Examples:
 |      # update with dict
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      update_dict = dict(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj.update(update_dict)
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      # update with list of keyword arguments
 |      obj = Layout(title='my title', xaxis=XAxis(range=[0,1], domain=[0,1]))
 |      obj.update(title='new title', xaxis=dict(domain=[0,.8]))
 |      obj
 |      {'title': 'new title', 'xaxis': {'range': [0,1], 'domain': [0,.8]}}
 |
 |      This 'fully' supports duck-typing in that the call signature is
 |      identical, however this differs slightly from the normal update
 |      method provided by Python's dictionaries.
 |
 |  validate(self, caller=True)
 |      Recursively check the validity of the keys in a PlotlyDict.
 |
 |      The valid keys constitute the entries in each object
 |      dictionary in graph_objs_meta.json
 |
 |      The validation process first requires that all nested collections be
 |      converted to the appropriate subclass of PlotlyDict/PlotlyList. Then,
 |      each of these objects call `validate` and so on, recursively,
 |      until the entire object has been validated.
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from PlotlyDict:
 |
 |  __dict__
 |      dictionary for instance variables (if defined)
 |
 |  __weakref__
 |      list of weak references to the object (if defined)
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from __builtin__.dict:
 |
 |  __cmp__(...)
 |      x.__cmp__(y) &lt;==&gt; cmp(x,y)
 |
 |  __contains__(...)
 |      D.__contains__(k) -&gt; True if D has a key k, else False
 |
 |  __delitem__(...)
 |      x.__delitem__(y) &lt;==&gt; del x[y]
 |
 |  __eq__(...)
 |      x.__eq__(y) &lt;==&gt; x==y
 |
 |  __ge__(...)
 |      x.__ge__(y) &lt;==&gt; x&gt;=y
 |
 |  __getattribute__(...)
 |      x.__getattribute__('name') &lt;==&gt; x.name
 |
 |  __getitem__(...)
 |      x.__getitem__(y) &lt;==&gt; x[y]
 |
 |  __gt__(...)
 |      x.__gt__(y) &lt;==&gt; x&gt;y
 |
 |  __iter__(...)
 |      x.__iter__() &lt;==&gt; iter(x)
 |
 |  __le__(...)
 |      x.__le__(y) &lt;==&gt; x&lt;=y
 |
 |  __len__(...)
 |      x.__len__() &lt;==&gt; len(x)
 |
 |  __lt__(...)
 |      x.__lt__(y) &lt;==&gt; x&lt;y
 |
 |  __ne__(...)
 |      x.__ne__(y) &lt;==&gt; x!=y
 |
 |  __repr__(...)
 |      x.__repr__() &lt;==&gt; repr(x)
 |
 |  __sizeof__(...)
 |      D.__sizeof__() -&gt; size of D in memory, in bytes
 |
 |  clear(...)
 |      D.clear() -&gt; None.  Remove all items from D.
 |
 |  copy(...)
 |      D.copy() -&gt; a shallow copy of D
 |
 |  fromkeys(...)
 |      dict.fromkeys(S[,v]) -&gt; New dict with keys from S and values equal to v.
 |      v defaults to None.
 |
 |  get(...)
 |      D.get(k[,d]) -&gt; D[k] if k in D, else d.  d defaults to None.
 |
 |  has_key(...)
 |      D.has_key(k) -&gt; True if D has a key k, else False
 |
 |  items(...)
 |      D.items() -&gt; list of D's (key, value) pairs, as 2-tuples
 |
 |  iteritems(...)
 |      D.iteritems() -&gt; an iterator over the (key, value) items of D
 |
 |  iterkeys(...)
 |      D.iterkeys() -&gt; an iterator over the keys of D
 |
 |  itervalues(...)
 |      D.itervalues() -&gt; an iterator over the values of D
 |
 |  keys(...)
 |      D.keys() -&gt; list of D's keys
 |
 |  pop(...)
 |      D.pop(k[,d]) -&gt; v, remove specified key and return the corresponding value.
 |      If key is not found, d is returned if given, otherwise KeyError is raised
 |
 |  popitem(...)
 |      D.popitem() -&gt; (k, v), remove and return some (key, value) pair as a
 |      2-tuple; but raise KeyError if D is empty.
 |
 |  setdefault(...)
 |      D.setdefault(k[,d]) -&gt; D.get(k,d), also set D[k]=d if k not in D
 |
 |  values(...)
 |      D.values() -&gt; list of D's values
 |
 |  viewitems(...)
 |      D.viewitems() -&gt; a set-like object providing a view on D's items
 |
 |  viewkeys(...)
 |      D.viewkeys() -&gt; a set-like object providing a view on D's keys
 |
 |  viewvalues(...)
 |      D.viewvalues() -&gt; an object providing a view on D's values
 |
 |  ----------------------------------------------------------------------
 |  Data and other attributes inherited from __builtin__.dict:
 |
 |  __hash__ = None
 |
 |  __new__ = &lt;built-in method __new__ of type object&gt;
 |      T.__new__(S, ...) -&gt; a new object with type S, a subtype of T


</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[31]">
      <a class="prompt input_prompt" href="#in-[31]">
       In [31]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Define a color for the boxes (a nice blue-green)</span>
<span class="n">color</span> <span class="o">=</span> <span class="s">'#1c9099'</span>

<span class="c"># Define a trace-generating function (returns a Box object)</span>
<span class="k">def</span> <span class="nf">make_trace</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Box</span><span class="p">(</span>
        <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>        <span class="c"># list/array of values to be used for box plot</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>  <span class="c"># label (on hover and x-axis)</span>
        <span class="n">line</span><span class="o">=</span><span class="n">Line</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>  <span class="c"># line color, fills in box with lighter hue</span>
                                <span class="c"># (!) use 'fillcolor' to manually set area color </span>
    <span class="p">)</span>

<span class="c"># Make Data object made up of 4 Box objects</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">([</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">homeworks</span><span class="p">,</span> <span class="s">'Homeworks'</span><span class="p">),</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">midterm</span><span class="p">,</span> <span class="s">'Midterm Exam'</span><span class="p">),</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">final</span><span class="p">,</span> <span class="s">'Final Exam'</span><span class="p">),</span>
    <span class="n">make_trace</span><span class="p">(</span><span class="n">course</span><span class="p">,</span> <span class="s">'Course Grade'</span><span class="p">)</span>
<span class="p">])</span>

<span class="c"># A few layout options in Layout</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'Fig 4.4a: Course Grade Distributions'</span><span class="p">,</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="n">YAxis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">'Grade [%]'</span><span class="p">),</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="bp">False</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[32]">
      <a class="prompt input_prompt" href="#in-[32]">
       In [32]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Make Figure object</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

<span class="c"># (@) Send to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s4_grades-box'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[32]">
        <a class="prompt output_prompt" href="#out[32]">
         Out[32]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/91.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Plotly automatically separates and labels individual
       <code class="python">
        Box
       </code>
       objects on the x-axis. That said, Plotly also allows users to specify the position of each box using the
       <code class="python">
        'x'
       </code>
       and
       <code class="python">
        'x0'
       </code>
       keys. For more info, refer to the
       <code class="python">
        help(Box)
       </code>
       documentation.
      </p>
      <p>
       By default, data points outside the whiskers are plot as scatter point. These
       <em>
        outliers
       </em>
       can be remove by setting
       <code class="python">
        'boxpoints':False
       </code>
       in the Box object.
      </p>
      <p>
       Plotly box plots have a custom hovermode. Hovering over any part of the box object labels the quartiles and the whiskers. Note that resetting
       <code class="python">
        'hovermode'
       </code>
       will disable it.
      </p>
      <p>
       Now, let's add a couple style options to our box plot:
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[33]">
      <a class="prompt input_prompt" href="#in-[33]">
       In [33]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Make dictionary of style updates</span>
<span class="n">box_style</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">boxpoints</span><span class="o">=</span><span class="s">'all'</span><span class="p">,</span> <span class="c"># show all data pts on plot (default is 'outliers')</span>
    <span class="n">jitter</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>      <span class="c"># spacing bt. boxpoints (0=no spacing, 1=from box to box)</span>
    <span class="n">pointpos</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span>     <span class="c"># norm. pos. of boxpoints w.r.t. boxes</span>
    <span class="n">marker</span><span class="o">=</span><span class="n">Marker</span><span class="p">(</span>
        <span class="n">color</span><span class="o">=</span><span class="s">'#feb24c'</span><span class="p">,</span> <span class="c"># set boxpoints' color</span>
        <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>         <span class="c"># set boxpoints' size</span>
        <span class="n">line</span><span class="o">=</span><span class="n">Line</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="s">'#FFFFFF'</span><span class="p">,</span>  <span class="c"># white line around boxpoints,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1</span>           <span class="c">#   1 pixel wide</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c"># Update each (yes all 4 of them) Box objs </span>
<span class="c">#   using the graph object update() method</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'data'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">box_style</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[34]">
      <a class="prompt input_prompt" href="#in-[34]">
       In [34]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Update plot's title</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">'Fig 4.4b: Course Grade Distributions'</span><span class="p">)</span>

<span class="c"># (@) Send to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s4_grades-box-styled'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[34]">
        <a class="prompt output_prompt" href="#out[34]">
         Out[34]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/198.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <p>
       Box plots are really a great to visualize data distributions.
      </p>
      <p>
       Let's add one more feature. When the
       <code class="python">
        'boxmean'
       </code>
       key in
       <code class="python">
        Box
       </code>
       is set to
       <code class="python">
        True
       </code>
       , Plotly draws a dashed line inside the boxes representing the mean of the distribution. With
       <code class="python">
        'boxmean':'sd'
       </code>
       , Plotly adds two triangles representing +/- one standard deviation.
      </p>
      <p>
       Next, we also take the chance to the style our plot further. Consider
      </p>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[35]">
      <a class="prompt input_prompt" href="#in-[35]">
       In [35]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Add 'boxmean' key (set to True, for just a line a the mean)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'data'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxmean</span><span class="o">=</span><span class="s">'sd'</span><span class="p">))</span>

<span class="c"># (!) boxmean='sd' must be sent inside a dict here as .update() for list-like</span>
<span class="c">#     Plotly graph object accept only dictionaries or lists of dictionaries.</span>

<span class="c"># Define a dictionary of axis style options</span>
<span class="n">axis_style</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">zeroline</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>       <span class="c"># remove thick zero line</span>
    <span class="n">gridcolor</span><span class="o">=</span><span class="s">'#FFFFFF'</span><span class="p">,</span>  <span class="c"># white grid lines</span>
    <span class="n">ticks</span><span class="o">=</span><span class="s">'outside'</span><span class="p">,</span>      <span class="c"># draw ticks outside axes </span>
    <span class="n">showgrid</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>        <span class="c"># show grid line (for x-axis)</span>
    <span class="n">ticklen</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>            <span class="c"># set tick length</span>
    <span class="n">tickwidth</span><span class="o">=</span><span class="mf">1.5</span>         <span class="c">#   and width</span>
<span class="p">)</span>

<span class="c"># Update 'layout', add 'xaxis' key and link it to style dict</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">xaxis</span><span class="o">=</span><span class="n">axis_style</span><span class="p">)</span>

<span class="c"># Update 'yaxis'</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">][</span><span class="s">'yaxis'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">axis_style</span><span class="p">)</span>

<span class="c"># Update a few frame style options</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s">'#EFECEA'</span><span class="p">,</span>  <span class="c"># set plot color to grey</span>
    <span class="n">autosize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>          <span class="c"># manual size</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">650</span><span class="p">,</span>               <span class="c"># plot's width</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">500</span>               <span class="c">#  and height</span>
<span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing code_cell rendered">
    <div class="input">
     <div class="prompt input_prompt" id="in-[36]">
      <a class="prompt input_prompt" href="#in-[36]">
       In [36]:
      </a>
     </div>
     <div class="inner_cell">
      <div class="input_area">
       <div class="highlight">
        <pre><code class="python"><span class="c"># Update plot's title</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">'Fig 4.4c: Course Grade Distributions'</span><span class="p">)</span>

<span class="c"># (@) Send to Plotly and show in notebook</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'s4_grades-box-styled2'</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
     </div>
    </div>
    <div class="output_wrapper">
     <div class="output">
      <div class="output_area">
       <div class="prompt output_prompt" id="out[36]">
        <a class="prompt output_prompt" href="#out[36]">
         Out[36]:
        </a>
       </div>
       <div class="output_html rendered_html output_subarea output_pyout">
        <iframe height="525" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~etpinard/199.embed" style="border:none;" width="100%">
        </iframe>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <hr/>
      <h4 style="font-size:14pt;">
       Go to
       <a href="/python/heatmaps-contours-and-2dhistograms-tutorial">
        Section 5 --- Heatmaps, Contours and 2D Histograms
       </a>
      </h4>
      <h4 style="font-size:14pt;">
       Go to
       <a href="/python/bubble-charts-tutorial">
        Section 3 --- Bubble Charts
       </a>
      </h4>
      <h4 style="font-size:14pt;">
       Go back to
       <a href="#notebook">
        top of page
       </a>
      </h4>
      <h4 style="font-size:14pt;">
       Go back to User Guide's
       <a href="/python/user-guide">
        homepage
       </a>
      </h4>
      <hr/>
      <!-- **Go to** [next section](https://plot.ly/python/heatmaps-contours-and-2dhistograms-tutorial) -->
     </div>
    </div>
   </div>
   <div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
     <div class="text_cell_render border-box-sizing rendered_html">
      <div style="float:right; \">
       <img align="right" src="{{site.staticurl}}/images/py-user-guide-img/image06.png" style="float:right; margin-left: 5px; margin-top: -10px"/>
      </div>
      <h4>
       Got Questions or Feedback?
      </h4>
      <p>
       About
       <a href="https://plot.ly" target="_blank">
        Plotly
       </a>
      </p>
      <ul>
       <li>
        email: feedback@plot.ly
       </li>
       <li>
        tweet:
        <a href="https://twitter.com/plotlygraphs" target="_blank">
         @plotlygraphs
        </a>
       </li>
      </ul>
      <p>
       About the
       <a href="https://github.com/plotly/python-user-guide" target="_blank">
        User Guide
       </a>
      </p>
      <ul>
       <li>
        email: etienne@plot.ly
       </li>
       <li>
        tweet:
        <a href="https://twitter.com/etpinard" target="_blank">
         @etpinard
        </a>
       </li>
      </ul>
      <h4 style="margin-top:30px;">
       Notebook styling ideas
      </h4>
      <p>
       Big thanks to
      </p>
      <ul>
       <li>
        <a href="http://nbviewer.ipython.org/github/CamDavidsonPilon/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/blob/master/Prologue/Prologue.ipynb" target="_blank">
         Cam Davidson-Pilon
        </a>
       </li>
       <li>
        <a href="http://lorenabarba.com/blog/announcing-aeropython/#.U1ULXdX1LJ4.google_plusone_share" target="_blank">
         Lorena A. Barba
        </a>
       </li>
      </ul>
      <p>
       <br/>
      </p>
     </div>
    </div>
   </div>
