---
title: WebGL vs SVG| Examples | Plotly
name: WebGL vs SVG in R
permalink: r/webgl-vs-svg/
description: How to create plots using WebGL
layout: base
language: r
page_type: example_index
has_thumbnail: true
display_as: get_request
output: 
html_document: 
highlight: null
keep_md: yes
theme: null
---

```{r, echo = FALSE, message=FALSE}
knitr::opts_chunk$set(message = FALSE, eval = F)
Sys.setenv("plotly_username"="RPlotBot")
Sys.setenv("plotly_api_key"="q0lz6r5efr")
``` 

# WebGL vs SVG in R

Now in Ploty you can implement WebGL with `type = "scatetrgl` in place of `scatter` for increased speed, improved interactivity, and the ability to plot even more data!


## Compare WebGL and SVG

Checkout this [post](https://plot.ly/r/compare-webgl-svg/) for a comparison of WebGL and SVG scatter plots with 75000 data points.

## WebGL with 100,000 points 
```{r}
library(plotly)

n <- 100000
x <- rnorm(n)
y <- 2*x + rnorm(n, sd = 5)

p <- plot_ly(x = x, y = y, type = "scattergl", mode = "markers", marker = list(line = list(width = 2)))
p
```

<iframe src="https://plot.ly/~RPlotBot/2863" width="800px" height="600px" scrolling="no" seamless="seamless"></iframe>

### WebGL with 1 Million points 
```{r}
library(plotly)

n <- 1000000
x <- rnorm(n)
y <- 2*x + rnorm(n, sd = 5)

p <- plot_ly(x = x, y = y, type = "scattergl", mode = "markers", marker = list(line = list(width = 2)))
p
```

<iframe src="https://plot.ly/~RPlotBot/2865/y-vs-x/" width="100%" height=700 scrolling="no" seamless="seamless"></iframe>


### WebGL with many traces
```{r}
library(plotly)

# Random Walk function
randWalk <- function(n = 1000, mu = 0, std = 1){
  y <- rep(0, n)
  for(i in 2:n){
    y[i] <- y[i-1] + rnorm(1, mu, std)
  }
  
  return(y)
}

# Create a lot of random walks
nRand <- 10000
nPlot <- 25
p <- plot_ly(x = 1:nRand, y = randWalk(n = nRand), type = "scattergl", mode = "lines", 
             line = list(width = 3, smoothing = 0.5)) %>% 
  layout(showlegend = F)

for(i in 1:nPlot){
  p <- add_trace(p, x = 1:nRand, y = randWalk(n = nRand), type = "scattergl", mode = "lines")
}

p
```

<iframe src="https://plot.ly/~RPlotBot/2867/randwalkn-nrand-vs-1nrand/" width="100%" height=700 scrolling="no" seamless="seamless"></iframe>


### WebGL for time series data (24381 points)
```{r}
library(plotly)

# Read some weather data
df <- read.csv('https://cdn.rawgit.com/plotly/documentation/source/_posts/r/scattergl/weather-data.csv')

# Convert to dates
df$Date <- zoo::as.Date(df$Date, format =  "%m/%d/%Y")

p <- plot_ly(df, x = Date, y = Mean_TemperatureC, name = "Mean Temp.", type = "scattergl", 
             marker = list(color = "#3b3b9e")) %>% 
  layout(title = "Mean Temparature in Seattle (1948 - 2015)",
         yaxis = list(title = "Temperature (<sup>o</sup>C)"))
p
```

<iframe src="https://plot.ly/~RPlotBot/2873/mean-temparature-in-seattle-1948-2015/" width="800px" height="600px" scrolling="no" seamless="seamless"></iframe>


# Reference
See https://plot.ly/python/reference/#scattergl for more information



```{r, eval = F, echo = F}
# Test only
# scattertype = "scatter"
p <- plot_ly(df, x = Date, y = Mean_TemperatureC, name = "Mean Temp.", type = scattertype, 
             marker = list(color = "#3b3b9e")) %>% 
  add_trace(x = Date, y = Min_TemperatureC, name = "Min Temp", type = scattertype, line = list(color = 'transparent'), fill = "tonexty", fillcolor = "transparent") %>% 
  add_trace(x = Date, y = Max_TemperatureC, name = "Max Temp", type = scattertype, line = list(color = 'transparent'), fill = "tonexty", fillcolor = toRGB("#3b3b9e", alpha = 0.3)) %>% 
  layout(title = "Mean Temparature in Seattle (1948 - 2015)",
         yaxis = list(title = "Temperature (<sup>o</sup>C)"))

```
