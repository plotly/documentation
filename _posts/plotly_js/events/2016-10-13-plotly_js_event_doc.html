---
title: Plotly.js Event Documentation
name: Plotly.js Event Documentation
permalink: /javascript/plotlyjs-event-documentation/
description: Plotly.js event documentation. Event documentation of Plotly's Javascript Graphing Library.
language: plotly_js
layout: getstart
---

<h1>plotly.js Event Documentation</h1>

<!-- ######################### using events ############################### -->

<h4 id="plotly-events"><a class="no_underline plot-blue" href="#plotly-redraw">Using events</a></h4>

Plots emit events prefixed with <code>plotly_</code> when clicked or hovered over, and event handlers can be bound to events using the <code>on</code> method that is exposed by the plot div object. It is possible to use jQuery events, but plotly.js no longer bundles jQuery, so we recommend using the plotly.js implementation.

<pre><code class="language-javascript hljs" data-lang="javascript">
// You can obtain the plot using document.getElementById('graphDiv')
graphDiv.on('plotly_click', function(data){
    // do something using the event data
});
</code></pre>

<br>

<!-- ######################### plotly_click ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>plotly_click</code></a></h4>

<code>plotly_click</code> like <code>plotly_hover</code>, will return the following points:

<pre><code class="language-javascript hljs" data-lang="javascript">
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point 
    pointNumber: 2,  // index of the selected point
    x: 5,        // x value
    y: 600,      // y value
    data: {/* */},       // ref to the trace as sent to Plotly.plot associated with the selected point
    fullData: {/* */},   // ref to the trace including all the defaults
   xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
   yaxis: {/* */}    // ref to y-axis object " "
  }, {
    /* similarly for other selected points */
  }]
}
</code></pre>

<br>

<p data-height="265" data-theme-id="0" data-slug-hash="QbZmZY" data-default-tab="result" data-user="plotly" data-embed-version="2" data-pen-title="Create Annotation on Click Event" class="codepen">See the Pen <a href="http://codepen.io/plotly/pen/QbZmZY/">Create Annotation on Click Event</a> by plotly (<a href="http://codepen.io/plotly">@plotly</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<br>

Similarly, in a 3D plot, the following points:

<pre><code class="language-javascript hljs" data-lang="javascript">
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point 
    pointNumber: 2,  // index of the selected point
    x: 5,        // x value
    y: 600,      // y value
    z: 12,       // z value
    data: {/* */},       // ref to the trace as sent to Plotly.plot associated with the selected point
    fullData: {/* */},   // ref to the trace including all the defaults
   xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
   yaxis: {/* */}    // ref to y-axis object " "
   zaxis: {/* */}    // ref to z-axis object " "
  }, {
    /* similarly for other selected points */
  }]
}
</code></pre>

<!-- Insert plotly_click 3D Codepen example -->

<br>
Whereas in a geographical plot, a <code>plotly_click</code> event will return the following points:

<pre><code class="language-javascript hljs" data-lang="javascript">
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point 
    pointNumber: 2,  // index of the selected point
    lat: 50,        // latitude value
    lon: -12,      // longtitude value
    data: {/* */},       // ref to the trace as sent to Plotly.plot associated with the selected point
    fullData: {/* */},   // ref to the trace including all the defaults
    location:       //
  }, {
    /* similarly for other selected points */
  }]
}
</code></pre>

<!-- Insert plotly_click Geo Codepen example -->

<br>
You can see examples of <code>plotly_click</code> and other <code>click</code> events on the <a href="https://plot.ly/javascript/click-events/#create-annotation-on-click-event">JavaScript API Library</a> page.
<br>

<!-- ######################### plotly_doubleclick ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_doubleclick</code></a></h4>

<code>plotly_doubleclick</code> can be used to restore the plot. That is, when the user preforms pan/zoom a <code>plotly_doubleclick</code> can be called to reset the values:

<pre><code class="language-javascript hljs" data-lang="javascript">

var gd = document.getElementById('graph');

Plotly.plot(gd, [{
  y: [2,1,2]
}]);

gd.on('plotly_doubleclick', function() {
  console.log('do something on double click')
});

</code></pre>

<br>

<p data-height="265" data-theme-id="0" data-slug-hash="mELzgZ" data-default-tab="result" data-user="etpinard" data-embed-version="2" data-pen-title="[example] double click event handler" class="codepen">See the Pen <a href="http://codepen.io/etpinard/pen/mELzgZ/">[example] double click event handler</a> by etpinard (<a href="http://codepen.io/etpinard">@etpinard</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<br>
You can find more examples of <code>click events</code> on the <a href="https://plot.ly/javascript/click-events/">JavaScript API Library</a> page.
<br>

<!-- ######################### plotly_clickannotations ############################### -->


<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_clickannotations</code></a></h4>

Another click event, <code>plotly_clickannotations</code> attaches annotated text to data points.

<pre><code class="language-javascript hljs" data-lang="javascript">

<!-- https://github.com/plotly/plotly.js/blob/master/src/components/annotations/draw.js -->

gd.emit('plotly_clickannotation', {
    index: index,
    annotation: optionsIn,
    fullAnnotation: options
})

<!-- myPlot.on('plotly_click', function(data){
    var pts = '';
    for(var i=0; i < data.points.length; i++){
        annotate_text = 'x = '+data.points[i].x +
                      'y = '+data.points[i].y.toPrecision(4);

        annotation = {
          text: annotate_text,
          x: data.points[i].x,
          y: parseFloat(data.points[i].y.toPrecision(4))
        }

        annotations = self.layout.annotations || [];
        annotations.push(annotation);
        Plotly.relayout('myDiv',{annotations: annotations})
    }
}) -->

</code></pre>

<br>
You can see examples of <code>plotly_clickannotations</code> and other <code>plotly_click</code> events on the <a href="https://plot.ly/javascript/click-events/#create-annotation-on-click-event">JavaScript API Library</a> page.
<br>

<!-- ######################### plotly_hover ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>plotly_hover</code></a></h4>

A <code>hover</code> event will occur when the mouse is over a select point. Like other mouse events, <code></code> returning the following points:

<pre><code class="language-javascript hljs" data-lang="javascript">
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point 
    pointNumber: 2,  // index of the selected point
    x: 5,        // x value
    y: 600,      // y value
    data: {/* */},       // ref to the trace as sent to Plotly.plot associated with the selected point
    fullData: {/* */},   // ref to the trace including all the defaults
    xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
    yaxis: {/* */}    // ref to y-axis object " "
  }, {
    /* similarly for other selected points */
  }]
}
</code></pre>

<br>

<p data-height="265" data-theme-id="0" data-slug-hash="oXadPM" data-default-tab="result" data-user="plotly" data-embed-version="2" data-pen-title="Binding to Hover Events in Plotly.js Charts" class="codepen">See the Pen <a href="http://codepen.io/plotly/pen/oXadPM/">Binding to Hover Events in Plotly.js Charts</a> by plotly (<a href="http://codepen.io/plotly">@plotly</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<br>
Similar to <code>plotly_click</code> events, data returned will differ in 3D plots: <code>z:</code> and <code>zaxis:</code> will be included; in geo plots: <code>lat:</code>, <code>lon:</code>, and <code>location:</code> will be included.
<br>
More examples of <code>plotly_hover</code> and other <code>hover events</code> can be found on the <a href="https://plot.ly/javascript/hover-events">JavaScript API Library</a> page.
<br>

<!-- ######################### plotly_beforehover ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>plotly_beforehover</code></a></h4>

<code>plotly_beforehover</code> is ... :

<pre><code class="language-javascript hljs" data-lang="javascript">
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point 
    pointNumber: 2,  // index of the selected point
    x: 5,        // x value
    y: 600,      // y value
    data: {/* */},       // ref to the trace as sent to Plotly.plot associated with the selected point
    fullData: {/* */},   // ref to the trace including all the defaults
    xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
    yaxis: {/* */}    // ref to y-axis object " "
  }, {
    /* similarly for other selected points */
  }]
}
</code></pre>

<br>
You can see examples of <code>hover</code> events on the <a href="https://plot.ly/javascript/hover-events">JavaScript API Library</a> page.
<br>

<!-- ######################### plotly_unhover ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>plotly_unhover</code></a></h4>

<code>plotly_unhover</code> event will be emitted on mouse out, removing hover effects.

<pre><code class="language-javascript hljs" data-lang="javascript">
{
  points: [{
    curveNumber: 2,  // index in data of the trace associated with the selected point 
    pointNumber: 2,  // index of the selected point
    x: 5,        // x value
    y: 600,      // y value
    data: {/* */},       // ref to the trace as sent to Plotly.plot associated with the selected point
    fullData: {/* */},   // ref to the trace including all the defaults
    xaxis: {/* */},   // ref to x-axis object (i.e layout.xaxis) associated with the selected point
    yaxis: {/* */}    // ref to y-axis object " "
  }, {
    /* similarly for other selected points */
  }]
}
</code></pre>

<br>
You can see examples of <code>hover</code> events on the <a href="https://plot.ly/javascript/hover-events">JavaScript API Library</a> page.
<br>

<!-- ######################### plotly_restyle ############################### -->

<h4 id="plotly-restyle"><a class="no_underline plot-blue" href="#plotly-restyle"><code>Plotly_restyle</code></a></h4>

<code>plotly_restyle</code> is an efficient means of chaning parameters in the data array.

<pre><code class="language-javascript hljs" data-lang="javascript">
var fullLayout = gd._fullLayout,
    fullData = gd._fullData,
    data = gd.data,
    i;

var traces = helpers.coerceTraceIndices(gd, _traces);

var flags = {};

var redoit = {},
    undoit = {},
    axlist,
    flagAxForDelete = {};

var recalcAttrs = [];

for(i = 0; i < traces.length; i++) {
    if(Registry.traceIs(fullData[traces[i]], 'box')) {
        recalcAttrs.push('name');
        break;
    }
}

var autorangeAttrs = [];
var replotAttrs = [];
var axtypeAttrs = [];
</code></pre>

<!-- further examples? -->

<br>
You can read about <code>plotly.restyle</code> function and see examples on the <a href="https://plot.ly/javascript/plotlyjs-function-reference">JavaScript Function Reference</a> page.
<br>

<!-- ######################### plotly_relayout ############################### -->

  <!-- plotly_relayout codepen example that displays event data: 
     http://codepen.io/plotly/pen/dogexw -->

<h4 id="plotly-relayout"><a class="no_underline plot-blue" href="#plotly-relayout"><code>Plotly_relayout</code></a></h4>

<code>plotly_relayout</code> is a more efficient means of updating just the layout in a graphDiv. For example, a click-drag to zoom will return the following event data:

<pre><code class="language-javascript hljs" data-lang="javascript">
eventData: {
  "xaxis.range[0]:14.93324426",
  "xaxis.range[1]:23.56440287",
  "yaxis.range[0]:-1.93324426",
  "yaxis.range[1]:1.76940382",
}
</code></pre>

<br>

<p data-height="265" data-theme-id="0" data-slug-hash="dogexw" data-default-tab="result" data-user="plotly" data-embed-version="2" data-pen-title="Zoom Events in Plotly.js Charts" class="codepen">See the Pen <a href="http://codepen.io/plotly/pen/dogexw/">Zoom Events in Plotly.js Charts</a> by plotly (<a href="http://codepen.io/plotly">@plotly</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<!-- further examples? -->

<br>
More examples of zoom events can be seen on the <a href="https://plot.ly/javascript/zoom-events/">JavaScript API Library</a> page. Additionally, you can read about the <code>plotly.relayout</code> function and view examples on the <a href="https://plot.ly/javascript/plotlyjs-function-reference">JavaScript Function Reference</a> page.
<br>

<!-- ######################### plotly_redraw ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_redraw</code></a></h4>

To update your plot you can use <code>plotly_redraw</code>, which will force a full recalculation and redraw.

<pre><code class="language-javascript hljs" data-lang="javascript">
Plotly.newPlot(graphDiv, data, layout);

// data - array of traces, containing the data and display information for each trace
// layout - object describing the overall display of the plot

graphDiv.data[0].opacity = 0.2;

Plotly.redraw(graphDiv);

</code></pre>

<br>

<p data-height="265" data-theme-id="0" data-slug-hash="GpPXdV" data-default-tab="result" data-user="plotly" data-embed-version="2" data-pen-title="Plotly.redraw" class="codepen">See the Pen <a href="http://codepen.io/plotly/pen/GpPXdV/">Plotly.redraw</a> by plotly (<a href="http://codepen.io/plotly">@plotly</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<br>

<!-- further examples? -->

<!-- ######################### plotly_beforeplot ############################### -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_beforeplot</code></a></h4>

  <code>plotly_beforeplot</code> does ... :

  <pre><code class="language-javascript hljs" data-lang="javascript">

  Events.triggerHandler(gd, 'plotly_beforeplot', [data, layout, config]);

  </code></pre>

  <br>

  This is a further explanation of the <b>Plotly_afterplot</b>. -->


<!-- ######################### plotly_afterplot ############################### -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_afterplot</code></a></h4>

  An event, such as a <code>plotly_afterplot</code>, will return the following points:

  <pre><code class="language-javascript hljs" data-lang="javascript">

  Insert javascript example

  </code></pre>

  <br>


  This is a further explanation of the <b>Plotly_afterplot</b>. -->

<!-- ######################### plotly_autosize ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_autosize</code></a></h4>

Event <code>plotly_autosize</code> automatically sets the layout size. 

<pre><code class="language-javascript hljs" data-lang="javascript">

<!-- https://github.com/plotly/plotly.js/blob/e01cb00f62a167316723851e70482ddb25cad647/src/plots/plots.js#L913 -->

'width', 
'height', 
'margin.l', 
'margin.r', 
'margin.t', 
'margin.b', 
'margin.pad', 
'margin.autoexpand'

</code></pre>

<!-- <br> Insert CodePen -->

<br>

<!-- ######################### plotly_framework ############################### -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_framework</code></a></h4>

  <code>plotly_framework</code> ... :

  <pre><code class="language-javascript hljs" data-lang="javascript">

  Insert javascript example

  </code></pre>

  <br>

  This is a further explanation of the <b>Plotly_framework</b>.

  <br> -->

<!-- ######################### plotly_selecting ############################### -->

<!-- https://github.com/plotly/plotly.js/blob/de6a183ca5d40e597bf224a4a0f7a069adf3f44a/test/jasmine/tests/select_test.js#L57 -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_selecting</code></a></h4>

A <code>plotly_selecting</code> event occurs when using lasso and, or, zoom. It will return the following points:

<pre><code class="language-javascript hljs" data-lang="javascript">

expect(selectingCnt).toEqual(1, 'with the correct selecting count');
expect(selectingData.points).toEqual([{
    curveNumber: 0,
    pointNumber: 0,
    x: 0.002,
    y: 16.25,
    id: undefined
 }, {
    curveNumber: 0,
    pointNumber: 1,
    x: 0.004,
    y: 12.5,
    id: undefined
 }], 'with the correct selecting points');
assertRange(selectingData.range, {
    x: [0.002000, 0.0046236],
    y: [0.10209191961595454, 24.512223978291406]
}, 'with the correct selecting range');

</code></pre>

<!-- Insert CodePen -->

<br>


<!-- ######################### plotly_selected ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_selected</code></a></h4>

<code>plotly_selected</code> can be used to return information about data points inside a selection box (box or lasso):

<pre><code class="language-javascript hljs" data-lang="javascript">

// x coordinate
// y coordinate
// curveNumber: for mutiple traces, information will be returned in a stacked fashion
// pointNumber: Index of the data point being charted. Note that this is linked to curveNumber and starts from 0

</code></pre>

<br>

<p data-height="265" data-theme-id="0" data-slug-hash="EPEGyE" data-default-tab="result" data-user="plotly" data-embed-version="2" data-pen-title="plotly.js lasso" class="codepen">See the Pen <a href="http://codepen.io/plotly/pen/EPEGyE/">plotly.js lasso</a> by plotly (<a href="http://codepen.io/plotly">@plotly</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<br>
Examples of <code>plotly_selected</code> can be found at<a href="https://plot.ly/javascript/lasso-selection/">JavaScript API Library</a> page.
<br>

<!-- ######################### plotly_deselect ############################### -->

<h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_deselecting</code></a></h4>

<code>plotly_deselect</code>, will return the user to previous data by emitting doubleclick. 

<pre><code class="language-javascript hljs" data-lang="javascript">

var doubleClickData;
gd.on('plotly_deselect', function(data) {
doubleClickData = data;
});

</code></pre>
<!-- examples of plotly_deselect -->
<br>

<!-- ######################### plotly_transitioning ############################### -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_transitioning</code></a></h4>

  <code>plotly_transitioning</code> is ... . 

  <pre><code class="language-javascript hljs" data-lang="javascript">
  // var frames = []
  // transition: {duration: 1}
  // frame: {duration: 1}

  </code></pre>

  Insert CodePen

  <br> -->


<!-- ######################### plotly_transitioned ############################### -->

  <!-- https://github.com/plotly/plotly.js/blob/de6a183ca5d40e597bf224a4a0f7a069adf3f44a/test/jasmine/tests/transition_test.js -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_transitioned</code></a></h4>

  <code>plotly_transitioned</code> is ... . 

  <pre><code class="language-javascript hljs" data-lang="javascript">

  Insert JavaScript

  </code></pre>

  Insert CodePen

  <br> -->

<!-- ######################### plotly_update ############################### -->

  <!-- https://github.com/plotly/plotly.js/blob/de6a183ca5d40e597bf224a4a0f7a069adf3f44a/test/jasmine/tests/transition_test.js -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_update</code></a></h4>

  <code>plotly_update</code> is ... . 

  <pre><code class="language-javascript hljs" data-lang="javascript">

  Insert JavaScript

  </code></pre>

  Insert CodePen

  <br> -->

<!-- ######################### plotly_animating _animated ############################### -->

  <!-- https://github.com/plotly/plotly.js/blob/de6a183ca5d40e597bf224a4a0f7a069adf3f44a/test/jasmine/tests/transition_test.js -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_animating</code> & <code>plotly_animated</code></a></h4>

  These combine to queue succesive animations. 

  <pre><code class="language-javascript hljs" data-lang="javascript">

            gd.on('plotly_animating', function() {
                starts++;
            }).on('plotly_animated', function() {
                ends++;
                expect(Plots.transition.calls.count()).toEqual(4);
                expect(starts).toEqual(1);
            });

  </code></pre>

  Insert CodePen Example

  <br> -->

<!-- ######################### plotly_animatingframe ############################### -->

  <!-- https://github.com/plotly/plotly.js/blob/de6a183ca5d40e597bf224a4a0f7a069adf3f44a/test/jasmine/tests/transition_test.js -->

  <!-- <h4 id="next-example"><a class="no_underline plot-blue" href="#next-example"><code>Plotly_animatingframe</code></a></h4>

  <code>plotly_animatingframe</code> is ... . 

  <pre><code class="language-javascript hljs" data-lang="javascript">

  Insert JavaScript

  </code></pre>

  Insert CodePen

  <br> -->

    </div>
</div>
