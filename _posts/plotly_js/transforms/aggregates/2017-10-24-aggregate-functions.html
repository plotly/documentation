---
name: Aggregate Functions
plot_url: https://codepen.io/plotly/embed/veoNdB/?height=500&theme-id=15263&default-tab=result
language: plotly_js
suite: aggregates
order: 3
sitemap: false
arrangement: horizontal
---

var subject = ['Moe','Larry','Curly','Moe','Larry','Curly','Moe','Larry','Curly','Moe','Larry','Curly']
var score = [1,6,2,8,2,9,4,5,1,5,2,8]

var data = [{
  type: 'scatter',
  x: subject,
  y: score,
  mode: 'markers',
  transforms: [{
    type: 'aggregate',
    groups: subject,
    aggregations: [
      {target: 'y', func: 'avg', enabled: true},
    ]
  }]
}]
layout = {
  title: '<b>Plotly Aggregations</b><br>use dropdown to change aggregation',
  xaxis: {title: 'Subject'},
  yaxis: {title: 'Score', range: [0,22]},
  height: 600,
  width: 900,
  updatemenus: [{
        x: 0.85,
        y: 1.15,
        xref: 'paper',
        yref: 'paper',
        yanchor: 'top',
        active: 0,
        showactive: false,
        buttons: [{
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'avg'],
            label: 'Avg'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'sum'],
            label: 'Sum'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'min'],
            label: 'Min'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'max'],
            label: 'Max'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'mode'],
            label: 'Mode'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'median'],
            label: 'Median'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'count'],
            label: 'Count'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'stddev'],
            label: 'Std.Dev'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'first'],
            label: 'First'
        }, {
            method: 'restyle',
            args: ['transforms[0].aggregations[0].func', 'last'],
            label: 'Last'
        }]
  }]
}

Plotly.plot('graph', data, layout)
