---
permalink: matlab/user-guide/
description: How to use the core functions of Plotlys Matlab Open Source Graphing Library
name: User Guide for Plotlys MATLAB<sup>&reg;</sup> Library
thumbnail: /images/static-image
layout: base
page_type: u-guide
language: matlab
---
{% raw %}
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><b>Plotly</b> is a browser-based data analysis and visualization tool that lets you and your team make and share beautiful, interactive graphs, 3D graphs, and streaming graphs via the open source JavaScript graphing library <a href="https://plot.ly/javascript/">plotly.js</a>.
<br>This API allows MATLAB<sup>&reg;</sup> users to generate Plotly graphs from the desktop MATLAB<sup>&reg;</sup> environment: turning MATLAB<sup>&reg;</sup> figures into interactive, shareable, collaborative projects.
<br>For more information on how to create specific chart types see our <a href="https://plot.ly/matlab/">documentation examples</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Initial-Setup">Initial Setup<a class="anchor-link" href="#Initial-Setup">&#194;&#182;</a></h4><p>The Plotly Graphing Library for MATLAB<sup>&reg;</sup> has been embedded into our MATLAB<sup>&reg;</sup> toolboxes and our Plotly credentials have been saved using <code>plotlysetup.m</code>. In order to start using the Plotly Graphing Library for MATLAB<sup>&reg;</sup> API all we have to do now is start MATLAB! More information regarding installation / setting up the Plotly Graphing Library for MATLAB<sup>&reg;</sup> API can be found on the <a href="https://plot.ly/matlab/getting-started/">online documentation</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="How-It-Works">How It Works<a class="anchor-link" href="#How-It-Works">&#194;&#182;</a></h4><p>Plotly charts are described declaratively with struct and cell array objects. For an extensive list of the keys used to describe plotly graphs see <a href="https://plot.ly/matlab/reference/">our reference page</a>. To get an idea of how the MATLAB<sup>&reg;</sup> API works, check out this simple example of how to translate a MATLAB<sup>&reg;</sup> figure, modify some attributes, and then send it to Plotly.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">);</span>
<span class="o">&gt;&gt;</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="o">&gt;&gt;</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="o">&gt;&gt;</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">);</span>

<span class="o">%%</span> <span class="n">Translate</span> <span class="n">the</span> <span class="n">figure</span> <span class="kn">from</span> <span class="nn">MATLAB</span> <span class="nn">to</span> <span class="nn">Plotly</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plotlyfig</span><span class="p">(</span><span class="n">gcf</span><span class="p">);</span>

<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">PlotOptions</span><span class="o">.</span><span class="n">Strip</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">%</span> <span class="n">If</span> <span class="mi">0</span><span class="p">,</span> <span class="n">don</span><span class="s1">&#39;t strip MATLAB&#39;</span><span class="n">s</span> <span class="n">styling</span> <span class="ow">in</span> <span class="n">translation</span><span class="o">.</span> <span class="n">If</span> <span class="mi">1</span><span class="p">,</span> <span class="n">strip</span> <span class="n">MATLAB</span><span class="s1">&#39;s styling.</span>

<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">data</span>
<span class="n">ans</span> <span class="o">=</span>

   <span class="p">[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]</span>    <span class="p">[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]</span>

<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">data</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span>    <span class="o">%</span> <span class="n">The</span> <span class="s1">&#39;type&#39;</span> <span class="n">of</span> <span class="n">this</span> <span class="n">trace</span> <span class="ow">is</span> <span class="s1">&#39;scatter&#39;</span><span class="o">.</span> <span class="n">scatter</span><span class="s1">&#39;s reference: #scatter</span>
<span class="n">ans</span> <span class="o">=</span>

        <span class="n">xaxis</span><span class="p">:</span> <span class="s1">&#39;x1&#39;</span>             <span class="o">%</span> <span class="n">more</span> <span class="n">about</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">xaxis</span><span class="s1">&#39;: #scatter-xaxis</span>
        <span class="n">yaxis</span><span class="p">:</span> <span class="s1">&#39;y1&#39;</span>             <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">yaxis</span><span class="s1">&#39; property:   #scatter-yaxis</span>
         <span class="nb">type</span><span class="p">:</span> <span class="s1">&#39;scatter&#39;</span>
      <span class="n">visible</span><span class="p">:</span> <span class="mi">1</span>                <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">visible</span><span class="s1">&#39; property: #scatter-visible</span>
            <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="n">x100</span> <span class="n">double</span><span class="p">]</span>   <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">x</span><span class="s1">&#39; property:       #scatter-x</span>
            <span class="n">y</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="n">x100</span> <span class="n">double</span><span class="p">]</span>   <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">y</span><span class="s1">&#39; property:       #scatter-y</span>
         <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;&#39;</span>               <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">name</span><span class="s1">&#39; property:    #scatter-name</span>
         <span class="n">mode</span><span class="p">:</span> <span class="s1">&#39;lines&#39;</span>          <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">mode</span><span class="s1">&#39; property:    #scatter-mode</span>
         <span class="n">line</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]</span>     <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">line</span><span class="s1">&#39; property:    #scatter-line</span>
       <span class="n">marker</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]</span>     <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">marker</span><span class="s1">&#39; property:  #scatter-marker</span>
   <span class="n">showlegend</span><span class="p">:</span> <span class="mi">1</span>                <span class="o">%</span> <span class="n">scatter</span><span class="s1">&#39;s &#39;</span><span class="n">showlegend</span><span class="s1">&#39;:       #scatter-marker</span>

<span class="o">%%</span> <span class="n">Modify</span> <span class="ow">or</span> <span class="n">add</span> <span class="n">new</span> <span class="n">properties</span> <span class="n">to</span> <span class="n">this</span> <span class="n">trace</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">data</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Current&#39;</span><span class="p">;</span> <span class="o">%</span> <span class="n">Update</span> <span class="n">the</span> <span class="n">legend</span> <span class="n">name</span> <span class="n">to</span> <span class="s1">&#39;Current&#39;</span>

<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">layout</span>     <span class="o">%</span> <span class="n">layout</span> <span class="n">reference</span><span class="p">:</span> <span class="c1">#layout</span>
<span class="n">ans</span> <span class="o">=</span>

        <span class="n">autosize</span><span class="p">:</span> <span class="mi">0</span>                     <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">autosize</span><span class="s1">&#39;:      #layout-autosize</span>
          <span class="n">margin</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]</span>          <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">margin</span><span class="s1">&#39;:        #layout-margin</span>
      <span class="n">showlegend</span><span class="p">:</span> <span class="mi">0</span>                     <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">showlegend</span><span class="s1">&#39;:    #layout-showlegend</span>
           <span class="n">width</span><span class="p">:</span> <span class="mi">840</span>                   <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">width</span><span class="s1">&#39;:         #layout-width</span>
          <span class="n">height</span><span class="p">:</span> <span class="mi">630</span>                   <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">height</span><span class="s1">&#39;:        #layout-height</span>
   <span class="n">paper_bgcolor</span><span class="p">:</span> <span class="s1">&#39;rgb(255,255,255)&#39;</span>    <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">paper_bgcolor</span><span class="s1">&#39;: #layout-paper_bgcolor</span>
       <span class="n">hovermode</span><span class="p">:</span> <span class="s1">&#39;closest&#39;</span>             <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">hovermode</span><span class="s1">&#39;:     #layout-hovermode</span>
    <span class="n">plot_bgcolor</span><span class="p">:</span> <span class="s1">&#39;rgba(0,0,0,0)&#39;</span>       <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">plot_bgcolor</span><span class="s1">&#39;:  #layout-plot_bgcolor</span>
          <span class="n">xaxis1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]</span>          <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">xaxis</span><span class="s1">&#39;:         #layout-xaxis</span>
          <span class="n">yaxis1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]</span>          <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">yaxis</span><span class="s1">&#39;:         #layout-yaxis</span>
     <span class="n">annotations</span><span class="p">:</span> <span class="p">{[</span><span class="mi">1</span><span class="n">x1</span> <span class="n">struct</span><span class="p">]}</span>        <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">annotations</span><span class="s1">&#39;:   #layout-annotations</span>

<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">showlegend</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>  <span class="o">%</span> <span class="n">layout</span><span class="s1">&#39;s &#39;</span><span class="n">showlegend</span><span class="s1">&#39;:    #layout-showlegend</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">legend</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="o">%</span> <span class="n">Update</span> <span class="n">the</span> <span class="n">legend</span><span class="p">:</span> <span class="c1">#layout-legend</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Modified plot&#39;</span><span class="p">;</span>

<span class="o">%%</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">filename</span><span class="p">,</span> <span class="ow">and</span> <span class="n">overwrite</span> <span class="n">the</span> <span class="n">plot</span> <span class="k">if</span> <span class="n">it</span> <span class="n">already</span> <span class="n">exists</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">PlotOptions</span><span class="o">.</span><span class="n">FileName</span> <span class="o">=</span> <span class="s1">&#39;Customized plot&#39;</span><span class="p">;</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">PlotOptions</span><span class="o">.</span><span class="n">FileOpt</span> <span class="o">=</span> <span class="s1">&#39;overwrite&#39;</span><span class="p">;</span>
<span class="o">%%</span> <span class="n">Use</span> <span class="n">offline</span>
<span class="o">%%</span> <span class="n">Download</span> <span class="n">the</span> <span class="n">offline</span> <span class="n">bundle</span>
<span class="o">&gt;&gt;</span> <span class="n">getplotlyoffline</span><span class="p">(</span><span class="s1">&#39;https://cdn.plot.ly/plotly-latest.min.js&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">PlotOptions</span><span class="o">.</span><span class="n">Offline</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>

<span class="o">%%</span> <span class="n">Send</span> <span class="n">to</span> <span class="n">plotly</span>
<span class="o">&gt;&gt;</span> <span class="n">fig</span><span class="o">.</span><span class="n">plotly</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Core-Functions">Core Functions<a class="anchor-link" href="#Core-Functions">&#194;&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>fig2plotly.m</code>: Plot a MATLAB<sup>&reg;</sup> figure object with Plotly
<code>fig2plotly.m</code> converts MATLAB<sup>&reg;</sup> figures to online Plotly graphs. MATLAB<sup>&reg;</sup> describes figures differently than Plotly. Plotly's MATLAB<sup>&reg;</sup> library crawls the MATLAB<sup>&reg;</sup> figure objects and translates the MATLAB<sup>&reg;</sup> attributes into the structure that Plotly uses to describe and draw data visualizations.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="p">[</span><span class="n">INPUT</span><span class="p">]:</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">fig2plotly</span><span class="p">()</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">fig2plotly</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">fig2plotly</span><span class="p">(</span><span class="n">gcf</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">fig2plotly</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="s1">&#39;property&#39;</span><span class="p">,</span><span class="n">value</span><span class="p">,</span> <span class="o">...</span> <span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">fig2plotly</span><span class="p">(</span><span class="n">gcf</span><span class="p">,</span><span class="s1">&#39;property&#39;</span><span class="p">,</span><span class="n">value</span><span class="p">,</span> <span class="o">...</span> <span class="p">)</span>

<span class="p">[</span><span class="n">WHERE</span><span class="p">]:</span>
<span class="n">gcf</span> <span class="o">-</span> <span class="n">root</span> <span class="n">figure</span> <span class="nb">object</span> <span class="n">handle</span> <span class="p">[</span><span class="n">double</span><span class="p">]</span><span class="o">.</span>
<span class="n">f</span> <span class="o">-</span> <span class="n">root</span> <span class="n">figure</span> <span class="nb">object</span> <span class="p">[</span><span class="n">struct</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">gcf</span><span class="p">)</span>

<span class="p">[</span><span class="n">PROPERTIES</span><span class="p">]:</span>
<span class="s1">&#39;name&#39;</span> <span class="o">-</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">plot</span> <span class="p">[</span><span class="n">string</span><span class="p">][</span><span class="s1">&#39;untitled&#39;</span><span class="p">]</span>
<span class="s1">&#39;strip&#39;</span> <span class="o">-</span> <span class="n">use</span> <span class="n">plotly</span> <span class="n">default</span> <span class="n">styling</span> <span class="p">[</span><span class="n">boolean</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="s1">&#39;open&#39;</span> <span class="o">-</span> <span class="n">opens</span> <span class="n">a</span> <span class="n">browser</span> <span class="k">with</span> <span class="n">plot</span> <span class="n">result</span> <span class="p">[</span><span class="n">boolean</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

<span class="p">[</span><span class="n">OUTPUT</span><span class="p">]:</span>
<span class="n">resp</span> <span class="o">-</span> <span class="n">results</span> <span class="n">info</span> <span class="n">of</span> <span class="n">the</span> <span class="n">plot</span> <span class="p">[</span><span class="n">struct</span><span class="p">]</span>
<span class="n">resp</span><span class="o">.</span><span class="p">[</span><span class="n">url</span><span class="p">,</span><span class="n">warning</span><span class="p">,</span><span class="n">message</span><span class="p">,</span><span class="n">filename</span><span class="p">,</span><span class="n">error</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">api_path</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;/Users/chuckbronson/Documents/PLOTLY/MATLAB_API_DEV/DEV/TEST_PLOTS&#39;</span><span class="p">);</span>
<span class="n">addpath</span><span class="p">(</span><span class="n">genpath</span><span class="p">(</span><span class="n">api_path</span><span class="p">));</span>

<span class="n">load</span> <span class="n">fitdata</span> <span class="n">x</span> <span class="n">y</span> <span class="n">yfit</span><span class="p">;</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">figure</span><span class="p">;</span>
<span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">);</span>
<span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">yfit</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">yfit</span> <span class="o">+</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">yfit</span> <span class="o">-</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">legend</span><span class="p">(</span><span class="s1">&#39;Data&#39;</span><span class="p">,</span> <span class="s1">&#39;Localized Regression&#39;</span><span class="p">,</span> <span class="s1">&#39;Confidence Intervals&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">);</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Noisy&#39;</span><span class="p">);</span>

<span class="o">%%</span><span class="k">Just</span> ONE line of Plotly Code!%%
resp = fig2plotly(fig,&#39;filename&#39;,&#39;matlab_overview_1&#39;,&#39;strip&#39;,false);
resp.url
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>ans = https://plot.ly/~matlab_user_guide/661/noisy-vs-x/</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<iframe frameborder="0" seamless="seamless" scrolling="no" src="https://plot.ly/~matlab_user_guide/661.embed" width="80%" height="500px"> </iframe>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The above plot is the ouptut from calling the <code>scatter.m</code> and <code>line.m</code> functions inherent in MATLAB<sup>&reg;</sup>. Using the <code>fig2plotly.m</code> function, we are able to extract the relevant data from the MATLAB<sup>&reg;</sup> figure object and throw the output over to our Plotly account! The returned response variable, resp, is a structure array which contains a url field with the address of our plot.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Offline-Usage">Offline Usage<a class="anchor-link" href="#Offline-Usage">&#194;&#182;</a></h4><p>We can make a Plotly graph in Matlab offline which will be saved as an html file to your current working directory using Plotly Offline. These html files will contain all of the necessary dependencies to render the plot within a browser.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span><span class="s1">&#39;;</span>
<span class="n">Y</span> <span class="o">=</span> <span class="p">[</span><span class="n">cos</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">X</span><span class="p">)];</span>
<span class="n">stem</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>

<span class="n">fig2plotly</span><span class="p">(</span><span class="n">gcf</span><span class="p">,</span><span class="s1">&#39;offline&#39;</span><span class="p">,</span><span class="n">true</span><span class="p">,</span><span class="s1">&#39;filename&#39;</span><span class="p">,</span><span class="s1">&#39;offline-graph&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="http://i.imgur.com/HeUJ7fw.png" width="80%" height="250px" alt="self-hosted matlab online"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Retrieve-a-Figure">Retrieve a Figure<a class="anchor-link" href="#Retrieve-a-Figure">&#194;&#182;</a></h4><p><code>getplotlyfig.m</code>: Get data, style, and layout from the plots stored online
One of Plotly's secret powers is the ability to translate between MATLAB's structure/cell array syntax and JSON. This allows a smooth transition between your figures in MATLAB<sup>&reg;</sup> and those stored in your Plotly account. <code>getplotlyfig.m</code> allows you to grab the data, style, and layout information from your plots saved online. In fact, <code>getploylyfig.m</code> lets you grab the data, Style and layout of <b>anyone's</b> Plotly plots (as long as they are made public) - not just your own! See a graph you like online? Grab the style, layout, and data and make one for yourself.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="p">[</span><span class="n">INPUT</span><span class="p">]:</span>
<span class="n">plotlyfigure</span> <span class="o">=</span> <span class="n">getplotlyfig</span><span class="p">(</span><span class="s1">&#39;file_owner&#39;</span><span class="p">,</span><span class="n">file_id</span><span class="p">)</span>

<span class="p">[</span><span class="n">WHERE</span><span class="p">]:</span>
<span class="n">file_owner</span> <span class="o">-</span> <span class="n">user</span> <span class="n">name</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">plot</span> <span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="o">.</span>
<span class="n">file_id</span> <span class="o">-</span> <span class="n">number</span> <span class="n">identifier</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">plot</span> <span class="p">[</span><span class="n">string</span><span class="p">]</span>

<span class="p">[</span><span class="n">OUTPUT</span><span class="p">]:</span>
<span class="n">plotlyfigure</span> <span class="o">-</span> <span class="n">results</span> <span class="n">info</span> <span class="n">of</span> <span class="n">the</span> <span class="n">plot</span> <span class="p">[</span><span class="n">struct</span><span class="p">]</span> <span class="n">plotlyfigure</span><span class="o">.</span><span class="p">[</span><span class="n">data</span><span class="p">,</span><span class="n">layout</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we can use <code>getplotlyfig.m</code> and have a go at changing the bar and line colours on a different graph: <a href="https://plot.ly/~matlab_user_guide/664/">https://plot.ly/~matlab_user_guide/664/</a> !</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">matlab</span>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%       GET PLOTLY FIG!       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

plotlyfigure = getplotlyfig(&#39;matlab_user_guide&#39;,&#39;664&#39;);


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%         DATA/STYLE          %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% COLOUR CHOICES
col1 = &#39;#3C8A22&#39;;
col2 = &#39;#097054&#39;;
col3 = &#39;black&#39;;


% LINE STYLE
plotlyfigure.data{1}.line.width = 10;
plotlyfigure.data{1}.line.color = col2;
plotlyfigure.data{1}.opacity = 0.7;
plotlyfigure.data{1}.name = &#39;Infection Rate&#39;;

% BAR CHART STYLE
plotlyfigure.data{2}.marker.color = col1;
plotlyfigure.data{2}.marker.line.width = 2;
plotlyfigure.data{2}.marker.line.color = col3;
plotlyfigure.data{2}.opacity = 0.7;
plotlyfigure.data{2}.name = &#39;Cases&#39;;

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           LAYOUT            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Y2 AXIS STYLE
plotlyfigure.layout.yaxis2.titlefont.color = col3;
plotlyfigure.layout.yaxis2.tickfont.color = col2;
plotlyfigure.layout.yaxis2.tickcolor = col2;
plotlyfigure.layout.yaxis2.linecolor = col2;
plotlyfigure.layout.yaxis2.linewidth = 2;

% X AXIS STYLE
plotlyfigure.layout.xaxis.mirror = 0;
plotlyfigure.layout.xaxis.showline = 0;

% BAR LAYOUT
plotlyfigure.layout.bargap = 0.2;

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%             ARGS            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

args.layout = plotlyfigure.layout;
args.filename = &#39;matlab_overview_5&#39;;
args.fileopt = &#39;overwrite&#39;;

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           PLOTLY            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

resp = plotly(plotlyfigure.data,args);
resp.url
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<iframe frameborder="0" seamless="seamless" scrolling="no" src="https://plot.ly/~matlab_user_guide/665/cases-vs-years.embed" width="80%" height="500px"> </iframe>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Export-Static-Image">Export Static Image<a class="anchor-link" href="#Export-Static-Image">&#194;&#182;</a></h4><p><code>saveplotlyfig.m</code>: save your MATLAB<sup>&reg;</sup> figure as an image using Plotly.
<code>saveplotlyfig.m</code> allows you to convert your MATLAB<sup>&reg;</sup> figures into static images (.png, .svg, .pdf, .jpeg) using Plotly.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="p">[</span><span class="n">INPUT</span><span class="p">]:</span>
<span class="n">saveplotlyfig</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">format</span> <span class="p">{</span><span class="n">otional</span><span class="p">})</span>
<span class="n">saveplotlyfig</span><span class="p">(</span><span class="n">plotlyfigure</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">format</span> <span class="p">{</span><span class="n">optional</span><span class="p">})</span>
<span class="n">NOTE</span><span class="p">:</span> <span class="k">if</span> <span class="n">format</span> <span class="ow">is</span> <span class="n">unspecified</span><span class="p">,</span> <span class="n">saveplotlyfig</span> <span class="n">will</span> <span class="n">use</span> <span class="n">the</span> <span class="n">image</span> <span class="n">format</span> <span class="n">given</span> <span class="n">by</span> <span class="n">the</span> <span class="n">extension</span> <span class="n">of</span> <span class="n">filename</span><span class="o">.</span> <span class="n">If</span> <span class="n">filename</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">have</span> <span class="n">an</span> <span class="n">explicit</span> <span class="n">extension</span> <span class="p">(</span><span class="n">ex</span><span class="p">:</span> <span class="n">filename</span><span class="o">.</span><span class="n">pdf</span><span class="p">),</span> <span class="n">the</span> <span class="n">default</span> <span class="n">format</span> <span class="n">of</span> <span class="n">PNG</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span> <span class="n">conversion</span><span class="o">.</span>

<span class="p">[</span><span class="n">WHERE</span><span class="p">]:</span>
<span class="n">data</span> <span class="o">-</span> <span class="n">data</span><span class="o">/</span><span class="n">style</span> <span class="n">of</span> <span class="n">plot</span> <span class="p">[</span><span class="n">cell</span> <span class="n">array</span><span class="p">]</span>
<span class="n">plotlyfigure</span><span class="o">.</span><span class="n">data</span> <span class="o">-</span> <span class="n">data</span><span class="o">/</span><span class="n">style</span> <span class="n">of</span> <span class="n">plot</span> <span class="p">[</span><span class="n">cell</span> <span class="n">array</span><span class="p">]</span>
<span class="n">plotlyfigure</span><span class="o">.</span><span class="n">layout</span> <span class="o">-</span> <span class="n">layout</span> <span class="n">of</span> <span class="n">plot</span> <span class="p">[</span><span class="n">struct</span><span class="p">]</span>
<span class="n">filename</span> <span class="o">-</span> <span class="n">name</span> <span class="n">of</span> <span class="n">image</span> <span class="n">to</span> <span class="n">be</span> <span class="n">saved</span> <span class="p">[</span><span class="n">string</span><span class="p">]</span>

<span class="p">[</span><span class="n">OUTPUT</span><span class="p">]:</span>
<span class="n">Image</span> <span class="s1">&#39;filename&#39;</span> <span class="n">of</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">format</span> <span class="p">(</span><span class="n">PNG</span><span class="p">,</span> <span class="n">PDF</span><span class="p">,</span> <span class="n">JPEG</span><span class="p">,</span> <span class="ow">or</span> <span class="n">SVG</span><span class="p">)</span> <span class="n">saved</span> <span class="n">to</span> <span class="n">your</span> <span class="n">working</span> <span class="n">directory</span><span class="o">.</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's have a look at <code>saveplotlyfig.m</code> to see how it works. Check out this next plot that was featured on the MATLAB<sup>&reg;</sup> plot gallery.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">matlab</span>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            FROM MATLAB<sup>&reg;</sup> PLOT GALLERY              %
%  http://www.mathworks.com/discovery/gallery.html %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Load Morse data
load MDdata dissimilarities dist1 dist2 dist3

% Plot the first set of data in blue
fig = figure;
plot(dissimilarities, dist1, &#39;bo&#39;);
hold on;

% Plot the second set of data in red
plot(dissimilarities, dist2, &#39;r+&#39;);

% Plot the third set of data in green
plot(dissimilarities, dist3, &#39;g^&#39;);

% Add title and axis labels
title(&#39;Morse Signal Analysis&#39;);
xlabel(&#39;Dissimilarities&#39;);
ylabel(&#39;Distances&#39;);


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            PLOTLY           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

filename = &#39;matlab_overview_8&#39;;
resp = fig2plotly(fig,&#39;filename&#39;,filename,&#39;strip&#39;,false);
resp.url
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">plotlyfigure</span> <span class="o">=</span> <span class="n">getplotlyfig</span><span class="p">(</span><span class="s1">&#39;matlab_user_guide&#39;</span><span class="p">,</span><span class="s1">&#39;670&#39;</span><span class="p">);</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;morse.png&#39;</span><span class="p">;</span>

<span class="n">saveplotlyfig</span><span class="p">(</span><span class="n">plotlyfigure</span><span class="p">,</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Boom! <b>morse.png</b> has been automatically saved to our working directory. Let's have a look.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://plot.ly/~matlab_user_guide/670.png" alt="https://plot.ly/~matlab_user_guide/670.png"></p>

</div>
</div>
</div>


{% endraw %}
