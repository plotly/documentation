---
name: Choropleth Inset Map
plot_url: https://plot.ly/~jackp/8666/
language: ruby
suite: choropleth-maps
order: 3
sitemap: false
---

# Learn about API authentication here: https://plot.ly/ruby/getting-started
# Find your api_key here: https://plot.ly/settings/api

data = [   {   colorbar: {   autotick: false, tickprefix: '', title: ''}, dtick: 1000, lat: [9.95, 6.43, 14.5, 8.46], lon: [-9.7, -9.43, -14.45, -11.78], marker: {   color: 'rgb(33,113,181)', line: {   width: 0}, size: [20.44, 67.24, 0.06, 38.8]}, mode: 'markers+text', name: 'Sept', sizemode: 'diameter', text: ['1022 Guinea', '3362 Liberia', '3 Senegal', '1940 Sierra Leone'], textposition: 'bottom center', tick0: 0, type: 'scattergeo', zmin: 0},
    {   colorbar: {   autotick: false, tickprefix: '', title: ''}, dtick: 1000, lat: [9.95, 6.43, 14.5, 8.46], lon: [-9.7, -9.43, -14.45, -11.78], marker: {   color: 'rgb(107,174,214)', line: {   width: 0}, size: [15.42, 27.9, 0.02, 24.32]}, name: 'Aug', sizemode: 'diameter', text: [771.0, 1395.0, 1.0, 1216.0], tick0: 0, type: 'scattergeo', zmin: 0},
    {   colorbar: {   autotick: false, tickprefix: '', title: ''}, dtick: 1000, lat: [9.95, 6.43, 8.46], lon: [-9.7, -9.43, -11.78], marker: {   color: 'rgb(189,215,231)', line: {   width: 0}, size: [9.2, 6.58, 10.66]}, name: 'July', sizemode: 'diameter', text: [460.0, 329.0, 533.0], tick0: 0, type: 'scattergeo', zmin: 0},
    {   colorbar: {   autotick: false, tickprefix: '', title: ''}, dtick: 1000, lat: [9.95, 6.43, 8.46], lon: [-9.7, -9.43, -11.78], marker: {   color: 'rgb(239,243,255)', line: {   width: 0}, size: [8.26, 2.14, 4.78]}, name: 'June', sizemode: 'diameter', text: [413.0, 107.0, 239.0], tick0: 0, type: 'scattergeo', zmin: 0},
    {   autocolorscale: false, colorscale: [[0, 'rgb(0, 0, 0)'], [1, 'rgb(0, 0, 0)']], geo: 'geo2', locationmode: 'country names', locations: ['Guinea', 'Liberia', 'Senegal', 'Sierra Leone'], showscale: false, text: ['Guinea', 'Liberia', 'Senegal', 'Sierra Leone'], type: 'choropleth', z: [1022.0, 3362.0, 3.0, 1940.0]},
    {   geo: 'geo2', lat: [7.1881], lon: [21.0936], mode: 'text', showlegend: false, text: ['Africa'], type: 'scattergeo'}]

args = {   filename: '2015-07-03-choropleth-inset.html',
    fileopt: 'overwrite',
    layout: {   geo: {   coastlinecolor: 'rgb(255, 255, 255)',
                               countrycolor: 'rgb(255, 255, 255)',
                               domain: {   x: [0, 1], y: [0, 1]},
                               landcolor: 'rgb(229, 229, 229)',
                               lataxis: {   range: [0.0, 12.0]},
                               lonaxis: {   range: [-15.0, -5.0]},
                               projection: {   type: 'Mercator'},
                               resolution: 50,
                               scope: 'africa',
                               showcoastlines: true,
                               showframe: false,
                               showland: true},
                   geo2: {   bgcolor: 'rgba(255, 255, 255, 0.0)',
                                domain: {   x: [0, 0.6], y: [0, 0.6]},
                                landcolor: 'rgb(229, 229, 229)',
                                scope: 'africa',
                                showcountries: false,
                                showframe: false,
                                showland: true},
                   legend: {   traceorder: 'reversed'},
                   title: 'Ebola cases reported by month in West Africa 2014<br> Source: <a href="https://data.hdx.rwlabs.org/dataset/rowca-ebola-cases">HDX</a>'},
    world_readable: true}


plotly.plot(data, args) do |response|
   puts response['url']
end
