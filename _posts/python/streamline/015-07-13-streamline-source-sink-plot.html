---
name: Streamline Source and Sink Plot
plot_url: https://plot.ly/~chelsea_lyn/4305
language: python
suite: streamline-plots
order: 2
---
# Learn about API authentication here: https://plot.ly/python/getting-started
# Find your api_key here: https://plot.ly/settings/api

import plotly.plotly as py
import plotly.tools as tls
from plotly.graph_objs import *

import numpy as np

# Add data
N = 50                                
x_start, x_end = -2.0, 2.0            
y_start, y_end = -1.0, 1.0           
x = np.linspace(x_start, x_end, N)    
y = np.linspace(y_start, y_end, N)    

X, Y = np.meshgrid(x, y)              

strength_source = 5.0                      
x_source, y_source = -1.0, 0.0             

# Compute the velocity field 
u_source = strength_source/(2*np.pi) * (X-x_source)/((X-x_source)**2 + (Y-y_source)**2)
v_source = strength_source/(2*np.pi) * (Y-y_source)/((X-x_source)**2 + (Y-y_source)**2)

strength_sink = -5.0                     
x_sink, y_sink = 1.0, 0.0                

u_sink = strength_sink/(2*np.pi) * (X-x_sink)/((X-x_sink)**2 + (Y-y_sink)**2)
v_sink = strength_sink/(2*np.pi) * (Y-y_sink)/((X-x_sink)**2 + (Y-y_sink)**2)

u_pair = u_source + u_sink
v_pair = v_source + v_sink

# Make streamline
streamline = tls.TraceFactory.create_streamline(x, y, u_pair, v_pair, 
                                                arrow_scale=.07, 
                                                angle=np.pi/9, 
                                                density=1.5, 
                                                name='streamline')
    
# Add source points
points = Scatter(x=[x_source, x_sink], y=[y_source, y_sink], 
                 mode='markers', marker=Marker(size=14), 
                 name='source points')

# Plot
fig=Figure(data=[streamline,points])
url = py.plot( fig, filename='Streamline Source and Sink Plot' )
