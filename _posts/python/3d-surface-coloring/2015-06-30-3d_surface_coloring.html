---
permalink: python/3d-surface-coloring/
description: How to Color 3D Surface Plots in Python with Plotly.
title: 3D Python Surface Coloring | plotly
has_thumbnail: true
thumbnail: thumbnail/3d-scatter.jpg
layout: user-guide
name: 3D Surface Coloring
language: python
display_as: 3d_charts
has_thumbnail: true
page_type: example_index
order: 1
---
{% raw %}
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="3D-Surface-Coloring-in-Python">3D Surface Coloring in Python<a class="anchor-link" href="#3D-Surface-Coloring-in-Python">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Learn about API authentication here: <a href="https://plot.ly/python/getting-started">https://plot.ly/python/getting-started</a> <br>
Find your api_key here: <a href="https://plot.ly/settings/api">https://plot.ly/settings/api</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">plotly</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[1]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>&apos;1.9.9&apos;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="3D-Surface-Plots-with-Subplots">3D Surface Plots with Subplots<a class="anchor-link" href="#3D-Surface-Plots-with-Subplots">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>
<span class="kn">from</span> <span class="nn">plotly</span> <span class="kn">import</span> <span class="n">tools</span>
<span class="kn">import</span> <span class="nn">urllib2</span>

<span class="c"># data related to the ring cyclide is loaded</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;https://plot.ly/~empet/2381.json&#39;</span><span class="p">)</span>
<span class="n">data_file</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>

<span class="c"># data related to the ring cyclide is loaded</span>


<span class="n">data_original</span> <span class="o">=</span> <span class="n">fig</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>     <span class="c"># this will be trace0</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">fig</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>        <span class="c"># trace1</span>

<span class="n">lx</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">])</span>
<span class="n">ly</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

<span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>


<span class="k">def</span> <span class="nf">dist_origin</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="mf">1.0</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">*</span> <span class="n">z</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">lx</span><span class="p">):</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">ly</span><span class="p">):</span>
        <span class="n">temp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">dist_origin</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span>
    <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>

<span class="n">data</span><span class="p">[</span><span class="s">&#39;surfacecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">out</span>     <span class="c"># sets surface-color to distance from the origin</span>

<span class="c"># This section deals with the layout of the plot</span>

<span class="n">scene</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">gridcolor</span><span class="o">=</span><span class="s">&#39;rgb(255, 255, 255)&#39;</span><span class="p">,</span>
        <span class="n">zerolinecolor</span><span class="o">=</span><span class="s">&#39;rgb(255, 255, 255)&#39;</span><span class="p">,</span>
        <span class="n">showbackground</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">backgroundcolor</span><span class="o">=</span><span class="s">&#39;rgb(230, 230,230)&#39;</span>
    <span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">gridcolor</span><span class="o">=</span><span class="s">&#39;rgb(255, 255, 255)&#39;</span><span class="p">,</span>
        <span class="n">zerolinecolor</span><span class="o">=</span><span class="s">&#39;rgb(255, 255, 255)&#39;</span><span class="p">,</span>
        <span class="n">showbackground</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">backgroundcolor</span><span class="o">=</span><span class="s">&#39;rgb(230, 230,230)&#39;</span>
    <span class="p">),</span>
    <span class="n">zaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">gridcolor</span><span class="o">=</span><span class="s">&#39;rgb(255, 255, 255)&#39;</span><span class="p">,</span>
        <span class="n">zerolinecolor</span><span class="o">=</span><span class="s">&#39;rgb(255, 255, 255)&#39;</span><span class="p">,</span>
        <span class="n">showbackground</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">backgroundcolor</span><span class="o">=</span><span class="s">&#39;rgb(230, 230,230)&#39;</span>
    <span class="p">),</span>
    <span class="n">cameraposition</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mf">3.5</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">make_subplots</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                          <span class="n">specs</span><span class="o">=</span><span class="p">[[{</span><span class="s">&#39;is_3d&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="p">{</span><span class="s">&#39;is_3d&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}]])</span>

<span class="c"># adding surfaces to subplots.</span>
<span class="n">data_original</span><span class="p">[</span><span class="s">&#39;scene&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;scene1&#39;</span>
<span class="n">data_original</span><span class="p">[</span><span class="s">&#39;colorbar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=-</span><span class="mf">0.07</span><span class="p">)</span>

<span class="n">data</span><span class="p">[</span><span class="s">&#39;scene&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;scene2&#39;</span>
<span class="n">fig</span><span class="o">.</span><span class="n">append_trace</span><span class="p">(</span><span class="n">data_original</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">append_trace</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>


<span class="n">fig</span><span class="p">[</span><span class="s">&#39;layout&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&#39;Ring Cyclide&#39;</span><span class="p">,</span>
                     <span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9000</span><span class="p">)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">&#39;layout&#39;</span><span class="p">][</span><span class="s">&#39;scene1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">scene</span><span class="p">)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">&#39;layout&#39;</span><span class="p">][</span><span class="s">&#39;scene2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">scene</span><span class="p">)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">&#39;layout&#39;</span><span class="p">][</span><span class="s">&#39;annotations&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nb">dict</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="mf">0.1859205</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>       <span class="c"># 0.9395833,</span>
        <span class="n">xref</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">,</span>
        <span class="n">yref</span><span class="o">=</span><span class="s">&#39;y&#39;</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="s">&#39;4th Dim Prop. to z&#39;</span><span class="p">,</span>
        <span class="n">showarrow</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">),</span>
    <span class="nb">dict</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="mf">0.858</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
        <span class="n">xref</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">,</span>
        <span class="n">yref</span><span class="o">=</span><span class="s">&#39;y&#39;</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="s">&#39;4th Dim Prop. to Distance from Origin&#39;</span><span class="p">,</span>
        <span class="n">showarrow</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
<span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>300
300
This is the format of your plot grid:
[ (1,1) scene1 ]  [ (1,2) scene2 ]

</pre>
</div>
</div>

</div>
</div>

</div>{% endraw %}