Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/2014_usa_states.csv', function(err, rows){
      function unpack(rows, key) {
          return rows.map(function(row) { return row[key]; });
      }

      var data = [{
              type: 'choropleth',
              locationmode: 'USA-states',
              locations: unpack(rows, 'postal'),
              z: unpack(rows, 'pop'),
              text: unpack(rows, 'state'),
              autocolorscale: true
      }];


      var layout = {
          title: '2014 US Popultaion by State',
          geo:{
              scope: 'usa',
              countrycolor: 'rgb(255, 255, 255)',
              showland: true,
              landcolor: 'rgb(217, 217, 217)',
              showlakes: true,
              lakecolor: 'rgb(255, 255, 255)',
              subunitcolor: 'rgb(255, 255, 255)',
              lonaxis: {},
              lataxis: {}
          }
      };
      Plotly.plot(myDiv, data, layout, {showLink: false});
});
