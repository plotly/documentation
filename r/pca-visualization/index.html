<!DOCTYPE html>
<html>
<head>
  <!-- This page was last built at 2024-08-29 19:03 -->

  <meta charset="utf-8" />

  <link rel="canonical" href="https://plotly.com/r/pca-visualization/" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,500&display=swap" rel="stylesheet" />

  <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
  <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

  <script>
    const theme = localStorage.getItem('theme');
    if (theme === "dark-mode") {
      var root = document.getElementsByTagName('html')[0]; // '0' to assign the first (and only `HTML` tag)
      root.setAttribute('class', 'dark-mode');
    }

  </script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

  <link href="https://esm.sh/@markprompt/css@0.18.0?css" rel="stylesheet" />
  <link href="/all_static/css/markprompt.css" rel="stylesheet" />
   
  <!-- code highlighting -->
  <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>-->
  

  <!-- Mathjax -->
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>

   
  <!-- Plotly.js hardcoded to 1.x due to Plotly.plot() -->
  <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
  <script src="/all_static/r_files/r_dependencies.js"></script>
    
  <!--
      //// Stylesheets
      -->

   

  <!-- Fonts -->
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />

  <!-- Main Stylesheets -->
  <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=false" />
  <link rel="stylesheet" type="text/css" href="/all_static/css/improve.css?version=2024-08-29-19-03">

  <!-- LOCAL DEV STYLESHEET -->
  <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

  <!-- Icon -->
  <link rel="shortcut icon" href="https://dash.plotly.com/assets/favicon.ico" />

  <!-- Google Tags-->
  <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>


  <!-- META TAGS -->
  <!-- Capture language -->

<!-- Create a title -->

<!-- Count number of plots on the page -->







<!-- SEO Tags - title, meta_description -->
<title>
     Pca visualization in R
</title>
<meta name="description" content="Detailed examples of PCA Visualization including changing color, size, log axes, and more in R.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content=
     Pca visualization in R
/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta property="og:description" content="Detailed examples of PCA Visualization including changing color, size, log axes, and more in R."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content=
     Pca visualization in R
/>
    <meta name="twitter:url" content="https://plotly.com/r/pca-visualization/"/>
    <meta name="twitter:description" content="Detailed examples of PCA Visualization including changing color, size, log axes, and more in R."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta name="twitter:site" content="@plotlygraphs"/>


</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;" class="darkmode">
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


  <!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

  <div class="menu-mobile">
    <div class="switch-mode">
        <div class="icon-dark"></div>
        <div class="switch"></div>
        <div class="icon-light"></div>
    </div>
    <div class="close-menu"></div>
    <ul>
        <li><a style="font-weight: bold;"
                href="https://community.plotly.com/c/plotly-r-matlab-julia-net/29">Forum</a>
        </li>
        <li><a style="font-weight: bold;" href="https://plotly.com/get-pricing/">Pricing</a></li>
        <li><a style="font-weight: bold;" href="https://dash.plotly.com">Dash</a></li>
        <!--<li><a style="font-weight: bold;" href="http://plotly.cloud">Dash Cloud</a></li>-->

    </ul>
</div>
<div class="header-container">
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/graphing_library_dark.svg"
                            style="height: 30px;" class="logo-dark"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/graphing_library.svg"
                            style="height: 30px;" class="logo-white"></a>


                </div>
            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li class="languages">
                            
                            
                            <a class="r">
                                <div class="icon"></div>
                                R
                            </a>
                            

                            <ul>
                                <li>
                                    <a href="https://plotly.com/python/" class="python">
                                        <div class="icon"></div>Python (v5.24.0)
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/r/" class="r">
                                        <div class="icon"></div>R
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/julia/" class="julia">
                                        <div class="icon"></div>Julia
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/javascript/" class="plotly_js">
                                        <div class="icon"></div>Javascript (v2.35.0)
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/ggplot2/" class="ggplot2">
                                        <div class="icon"></div>ggplot2
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/matlab/" class="matlab">
                                        <div class="icon"></div>MATLAB
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plotly.com/fsharp/" class="fsharp">
                                        <div class="icon"></div>F#
                                    </a>
                                </li>
                                <li>
                                    <a href="https://dash.plotly.com/" class="dash">
                                        <div class="icon"></div>Dash
                                    </a>
                                </li>
                            </ul>

                        </li>
                        <li><a style="font-weight: bold;"
                                href="https://community.plotly.com/c/plotly-r-matlab-julia-net/29">Forum</a>
                        </li>
                        <li><a style="font-weight: bold;" href="https://plotly.com/get-pricing/">Pricing</a></li>
                        <li><a style="font-weight: bold;" href="https://dash.plotly.com">Dash</a></li>
                        <!--<li><a style="font-weight: bold;" href="http://plotly.cloud">Dash Cloud</a></li>-->

                        
                        <iframe
                            src="https://ghbtns.com/github-btn.html?user=plotly&repo=plotly.R&type=star&count=true&size=large"
                            style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px"
                            height="40px"></iframe>
                        
                    </ul>
                    <div class="switch-mode">
                        <div class="icon-dark"></div>
                        <div class="switch"></div>
                        <div class="icon-light"></div>
                    </div>
                </nav>
            </div>
            <div class="menu-icon">
                <span></span><span></span><span></span>
            </div>
        </div>
    </header>
</div>


  <main class="--page page--single --index">

    <div class="--wrap">
      <!-- aside - Main Sidebar-->

      






<!-- START OF GGPLOT CUSTOM LAYOUT -->









































































































































































































































































<aside class="--sidebar-container">
    <div class="--sidebar-fixed reference" data-spy="affix" id="where">
        <div class="brand">
            <a href="/graphing-libraries/"><img src="/all_static/images/graphing_library.svg" style="height: 30px;"></a>
        </div>
        
        <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
            <input id="modal-input" style="border-radius: 5px; width: 100%;" type="text" placeholder="   Search..."
                readonly />
        </button>
        

        

        <details style="color: white;margin-top: 20px;" >
            <summary>Quick Reference</summary>
            <nav class="--sidebar-body watch" id="where">
                <ul class="--sidebar-list" style="margin-left: 15px;">
                    <!-- Getting Started -->
                    <li class="--sidebar-item">
                        <a href="/r/getting-started" class="js-splash--navigation-item">Getting Started</a>
                    </li>

                    
                    <li class="--sidebar-item">
                        <a href="/r/is-plotly-free" class="js-splash--navigation-item">Is Plotly Free?</a>
                    </li>
                    

                    <!-- Reference Pages -->
                    
                    <li class="--sidebar-item">
                        <a href="/r/reference/index/" class="js-splash--navigation-item">Figure Reference</a>
                    </li>
                    

                    <!-- Python Specific -->

                    

                    <!-- JS Specific -->
                    

                    <!-- R Specific -->
                    
                    <li class="--sidebar-item">
                        <a href="/ggplot2/" class="js-splash--navigation-item">ggplot2 integration</a>
                    </li>
                    <li class="--sidebar-item">
                        <a href="https://plotly.com/dash" class="js-splash--navigation-item">Dash for R</a>
                    </li>
                    

                    <!-- Python/v3 Index Page Specific -->
                    

                    <!-- User Guides -->
                    

                    <!-- Github Links -->

                    
                    <li class="--sidebar-item">
                        <a target="_blank" href="https://github.com/plotly/plotly.R"
                            class="js-splash--navigation-item">GitHub</a>
                    </li>

                    
                    <li class="--sidebar-item">
                        <a target="_blank" href="http://community.plotly.com/"
                            class="js-splash--navigation-item">community.plotly.com</a>
                    </li>

                </ul>
            </nav>
        </details>

        

        <details style="color: white;margin-top: 20px;" open>
            <summary>On This Page</summary>
            <nav class="--sidebar-body watch" id="where">
            <ul class="--sidebar-list" id="nav_header_insertion_list"></ul>
            </nav>
        </details>

        
        
    </div>

    
    <a href="https://plotly.com/careers/?utm_medium=graphing_libraries&utm_content=sidebar" target="_blank">
      <img src="https://images.prismic.io/plotly-marketing-website/a9ba884c-ee2c-40f9-9c39-809ea1b5aac7_dash_doc_banner_career-01+%281%29.jpg?auto=compress,format"
      style="width: 200px; height: 200px; position: fixed; bottom: 10px; left: 50px" alt="View all the positions that Plotly is hiring for!">
    </a>

</aside>


      <!-- Main-->
      <section class="--page-body --tutorial-index --base">
        <header class="--welcome">
          <div class="--welcome-body">
            <!--div.--wrap-inner-->
            <div class="--title">
              <div class="--body">
                <div class="nav-breadcrumb-container">
    <div>
        <div class="breadcrumb-nav">
            
                <a href="/r">
                    
                        R
                    
                </a>
            

            

            

            
                
                &gt; <a href="/r/#ai-ml">Artificial Intelligence and Machine Learning</a>
            
            
                &gt; <span>PCA Visualization</span>
            
            
        </div>
    </div>
    
    <div class="nav-breadcrumb-right">
        <div class="--fork">
        
            
            <a id="forklink" href= "https://github.com/plotly/plotly.r-docs/edit/master/r/2021-07-27-ml-pca.Rmd" >
        
            <div class="icon">
                <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                    <path fill="#000000"
                        d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z">
                    </path>
                </svg>
            </div>
            <span>Suggest an edit to this page</span>
              </a>
        </div>
    </div>
    
</div>

                
                <h1>
                  PCA Visualization
                  
                  in 
                  R
                  
                </h1>
                <p>Visualize Principle Component Analysis (PCA) of your high-dimensional data in R with Plotly. </p>
                <br>
                
                <!--






<div class="db-client-lib">
  <label>
    This page in another language
  </label>
  <div class="list-lib-wrap">
    <div class="list-lib">
      
      
        <a href=" /julia/pca-visualization/" class="list-lib-item julia">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            Julia
            
          </p>
        </a>
        
      
        <a href=" /matlab/pca-visualization/" class="list-lib-item matlab">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            MATLAB®
            
          </p>
        </a>
        
      
        <a href=" /ggplot2/pca-visualization/" class="list-lib-item ggplot2">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            ggplot2
            
          </p>
        </a>
        
      
      <a href=" /r/pca-visualization/" class="current list-lib-item r">
        
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            R
            
          </p>
        </a>
        
      
        <a href=" /python/pca-visualization/" class="list-lib-item python">
          
          <div class="item-icon">
          </div>
          <p class="item-language">
            
            Python
            
          </p>
        </a>
        
        
        
    </div>
  </div>
</div>

-->

                
<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/r/is-plotly-free/">free and open-source</a> graphing library for R. We recommend you read our <a href="/r/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/r/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/r/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>


              </div>
            </div>
          </div>
        </header>

        <!-- Start Plotly Basics Section -->
        <section class="tutorial-content">

          






          <p>Visualize Principle Component Analysis (PCA) of your high-dimensional data in R with Plotly.</p>

<p>This page first shows how to visualize higher dimension data using various Plotly figures combined with dimensionality reduction (aka projection). Then, we dive into the specific details of our projection algorithm.</p>

<p>We will use <a href="https://www.tidymodels.org/">Tidymodels</a> or <a href="https://cran.r-project.org/web/packages/caret/vignettes/caret.html#">Caret</a> to load one of the datasets, and apply dimensionality reduction. Tidymodels is a popular Machine Learning (ML) library that offers various tools for creating and training ML algorithms, feature engineering, data cleaning, and evaluating and testing models.</p>

<h2>High-dimensional PCA Analysis with  <code>splom</code></h2>

<p>The dimensionality reduction technique we will be using is called the <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/prcomp">Principal Component Analysis (PCA)</a>. It is a powerful technique that arises from linear algebra and probability theory. In essence, it computes a matrix that represents the variation of your data (<a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues#:%7E:text=As%20it%20is%20a%20square%20symmetric%20matrix%2C%20it%20can%20be%20diagonalized%20by%20choosing%20a%20new%20orthogonal%20coordinate%20system%2C%20given%20by%20its%20eigenvectors%20(incidentally%2C%20this%20is%20called%20spectral%20theorem)%3B%20corresponding%20eigenvalues%20will%20then%20be%20located%20on%20the%20diagonal.%20In%20this%20new%20coordinate%20system%2C%20the%20covariance%20matrix%20is%20diagonal%20and%20looks%20like%20that%3A">covariance matrix/eigenvectors</a>), and rank them by their relevance (explained variance/eigenvalues).</p>

<h3>Visualize all the original dimensions</h3>

<p>First, let&#39;s plot all the features and see how the <code>species</code> in the Iris dataset are grouped. In a <a href="https://plot.ly/r/splom/">Scatter Plot Matrix (splom)</a>, each subplot displays a feature against another, so if we have $N$ features we have a $N \times N$ matrix.</p>

<p>In our example, we are plotting all 4 features from the Iris dataset, thus we can see how <code>sepal_width</code> is compared against <code>sepal_length</code>, then against <code>petal_width</code>, and so forth. Keep in mind how some pairs of features can more easily separate different species.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">

</span><span class="n">axis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">zeroline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w">
            </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w">
            </span><span class="n">titlefont</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="m">13</span><span class="p">))</span><span class="w">


</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">iris</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">plot_ly</span><span class="p">()</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_trace</span><span class="p">(</span><span class="w">
    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'splom'</span><span class="p">,</span><span class="w">
    </span><span class="n">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'sepal length'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Sepal.Length</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'sepal width'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Sepal.Width</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'petal length'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Petal.Length</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'petal width'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Petal.Width</span><span class="p">)</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w">
      </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
        </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
        </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'rgb(230,230,230)'</span><span class="w">
      </span><span class="p">)</span><span class="w">
    </span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">style</span><span class="p">(</span><span class="n">diagonal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">hovermode</span><span class="o">=</span><span class="s1">'closest'</span><span class="p">,</span><span class="w">
    </span><span class="n">dragmode</span><span class="o">=</span><span class="w"> </span><span class="s1">'select'</span><span class="p">,</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'rgba(240,240,240, 0.95)'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">xaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis4</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis4</span><span class="o">=</span><span class="n">axis</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-7dc202132e967575a156" style="width:672px;height:480px;"></div>

<script type="application/json" data-for="htmlwidget-7dc202132e967575a156">{"x":{"visdat":{"2e67312e4723":["function () ","plotlyVisDat"]},"cur_data":"2e67312e4723","attrs":{"2e67312e4723":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"splom","dimensions":[{"label":"sepal length","values":{}},{"label":"sepal width","values":{}},{"label":"petal length","values":{}},{"label":"petal width","values":{}}],"color":{},"colors":["#636EFA","#EF553B","#00CC96"],"marker":{"size":7,"line":{"width":1,"color":"rgb(230,230,230)"}},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"dragmode":"select","plot_bgcolor":"rgba(240,240,240, 0.95)","xaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"splom","dimensions":[{"label":"sepal length","values":[5.0999999999999996,4.9000000000000004,4.7000000000000002,4.5999999999999996,5,5.4000000000000004,4.5999999999999996,5,4.4000000000000004,4.9000000000000004,5.4000000000000004,4.7999999999999998,4.7999999999999998,4.2999999999999998,5.7999999999999998,5.7000000000000002,5.4000000000000004,5.0999999999999996,5.7000000000000002,5.0999999999999996,5.4000000000000004,5.0999999999999996,4.5999999999999996,5.0999999999999996,4.7999999999999998,5,5,5.2000000000000002,5.2000000000000002,4.7000000000000002,4.7999999999999998,5.4000000000000004,5.2000000000000002,5.5,4.9000000000000004,5,5.5,4.9000000000000004,4.4000000000000004,5.0999999999999996,5,4.5,4.4000000000000004,5,5.0999999999999996,4.7999999999999998,5.0999999999999996,4.5999999999999996,5.2999999999999998,5]},{"label":"sepal width","values":[3.5,3,3.2000000000000002,3.1000000000000001,3.6000000000000001,3.8999999999999999,3.3999999999999999,3.3999999999999999,2.8999999999999999,3.1000000000000001,3.7000000000000002,3.3999999999999999,3,3,4,4.4000000000000004,3.8999999999999999,3.5,3.7999999999999998,3.7999999999999998,3.3999999999999999,3.7000000000000002,3.6000000000000001,3.2999999999999998,3.3999999999999999,3,3.3999999999999999,3.5,3.3999999999999999,3.2000000000000002,3.1000000000000001,3.3999999999999999,4.0999999999999996,4.2000000000000002,3.1000000000000001,3.2000000000000002,3.5,3.6000000000000001,3,3.3999999999999999,3.5,2.2999999999999998,3.2000000000000002,3.5,3.7999999999999998,3,3.7999999999999998,3.2000000000000002,3.7000000000000002,3.2999999999999998]},{"label":"petal length","values":[1.3999999999999999,1.3999999999999999,1.3,1.5,1.3999999999999999,1.7,1.3999999999999999,1.5,1.3999999999999999,1.5,1.5,1.6000000000000001,1.3999999999999999,1.1000000000000001,1.2,1.5,1.3,1.3999999999999999,1.7,1.5,1.7,1.5,1,1.7,1.8999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.3999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.5,1.3999999999999999,1.5,1.2,1.3,1.3999999999999999,1.3,1.5,1.3,1.3,1.3,1.6000000000000001,1.8999999999999999,1.3999999999999999,1.6000000000000001,1.3999999999999999,1.5,1.3999999999999999]},{"label":"petal width","values":[0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.40000000000000002,0.29999999999999999,0.20000000000000001,0.20000000000000001,0.10000000000000001,0.20000000000000001,0.20000000000000001,0.10000000000000001,0.10000000000000001,0.20000000000000001,0.40000000000000002,0.40000000000000002,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.20000000000000001,0.40000000000000002,0.20000000000000001,0.5,0.20000000000000001,0.20000000000000001,0.40000000000000002,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.40000000000000002,0.10000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.10000000000000001,0.20000000000000001,0.20000000000000001,0.29999999999999999,0.29999999999999999,0.20000000000000001,0.59999999999999998,0.40000000000000002,0.29999999999999999,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001]}],"marker":{"color":"rgba(99,110,250,1)","size":7,"line":{"color":"rgb(230,230,230)","width":1}},"name":"setosa","frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"sepal length","values":[7,6.4000000000000004,6.9000000000000004,5.5,6.5,5.7000000000000002,6.2999999999999998,4.9000000000000004,6.5999999999999996,5.2000000000000002,5,5.9000000000000004,6,6.0999999999999996,5.5999999999999996,6.7000000000000002,5.5999999999999996,5.7999999999999998,6.2000000000000002,5.5999999999999996,5.9000000000000004,6.0999999999999996,6.2999999999999998,6.0999999999999996,6.4000000000000004,6.5999999999999996,6.7999999999999998,6.7000000000000002,6,5.7000000000000002,5.5,5.5,5.7999999999999998,6,5.4000000000000004,6,6.7000000000000002,6.2999999999999998,5.5999999999999996,5.5,5.5,6.0999999999999996,5.7999999999999998,5,5.5999999999999996,5.7000000000000002,5.7000000000000002,6.2000000000000002,5.0999999999999996,5.7000000000000002]},{"label":"sepal width","values":[3.2000000000000002,3.2000000000000002,3.1000000000000001,2.2999999999999998,2.7999999999999998,2.7999999999999998,3.2999999999999998,2.3999999999999999,2.8999999999999999,2.7000000000000002,2,3,2.2000000000000002,2.8999999999999999,2.8999999999999999,3.1000000000000001,3,2.7000000000000002,2.2000000000000002,2.5,3.2000000000000002,2.7999999999999998,2.5,2.7999999999999998,2.8999999999999999,3,2.7999999999999998,3,2.8999999999999999,2.6000000000000001,2.3999999999999999,2.3999999999999999,2.7000000000000002,2.7000000000000002,3,3.3999999999999999,3.1000000000000001,2.2999999999999998,3,2.5,2.6000000000000001,3,2.6000000000000001,2.2999999999999998,2.7000000000000002,3,2.8999999999999999,2.8999999999999999,2.5,2.7999999999999998]},{"label":"petal length","values":[4.7000000000000002,4.5,4.9000000000000004,4,4.5999999999999996,4.5,4.7000000000000002,3.2999999999999998,4.5999999999999996,3.8999999999999999,3.5,4.2000000000000002,4,4.7000000000000002,3.6000000000000001,4.4000000000000004,4.5,4.0999999999999996,4.5,3.8999999999999999,4.7999999999999998,4,4.9000000000000004,4.7000000000000002,4.2999999999999998,4.4000000000000004,4.7999999999999998,5,4.5,3.5,3.7999999999999998,3.7000000000000002,3.8999999999999999,5.0999999999999996,4.5,4.5,4.7000000000000002,4.4000000000000004,4.0999999999999996,4,4.4000000000000004,4.5999999999999996,4,3.2999999999999998,4.2000000000000002,4.2000000000000002,4.2000000000000002,4.2999999999999998,3,4.0999999999999996]},{"label":"petal width","values":[1.3999999999999999,1.5,1.5,1.3,1.5,1.3,1.6000000000000001,1,1.3,1.3999999999999999,1,1.5,1,1.3999999999999999,1.3,1.3999999999999999,1.5,1,1.5,1.1000000000000001,1.8,1.3,1.5,1.2,1.3,1.3999999999999999,1.3999999999999999,1.7,1.5,1,1.1000000000000001,1,1.2,1.6000000000000001,1.5,1.6000000000000001,1.5,1.3,1.3,1.3,1.2,1.3999999999999999,1.2,1,1.3,1.2,1.3,1.3,1.1000000000000001,1.3]}],"marker":{"color":"rgba(239,85,59,1)","size":7,"line":{"color":"rgb(230,230,230)","width":1}},"name":"versicolor","frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"sepal length","values":[6.2999999999999998,5.7999999999999998,7.0999999999999996,6.2999999999999998,6.5,7.5999999999999996,4.9000000000000004,7.2999999999999998,6.7000000000000002,7.2000000000000002,6.5,6.4000000000000004,6.7999999999999998,5.7000000000000002,5.7999999999999998,6.4000000000000004,6.5,7.7000000000000002,7.7000000000000002,6,6.9000000000000004,5.5999999999999996,7.7000000000000002,6.2999999999999998,6.7000000000000002,7.2000000000000002,6.2000000000000002,6.0999999999999996,6.4000000000000004,7.2000000000000002,7.4000000000000004,7.9000000000000004,6.4000000000000004,6.2999999999999998,6.0999999999999996,7.7000000000000002,6.2999999999999998,6.4000000000000004,6,6.9000000000000004,6.7000000000000002,6.9000000000000004,5.7999999999999998,6.7999999999999998,6.7000000000000002,6.7000000000000002,6.2999999999999998,6.5,6.2000000000000002,5.9000000000000004]},{"label":"sepal width","values":[3.2999999999999998,2.7000000000000002,3,2.8999999999999999,3,3,2.5,2.8999999999999999,2.5,3.6000000000000001,3.2000000000000002,2.7000000000000002,3,2.5,2.7999999999999998,3.2000000000000002,3,3.7999999999999998,2.6000000000000001,2.2000000000000002,3.2000000000000002,2.7999999999999998,2.7999999999999998,2.7000000000000002,3.2999999999999998,3.2000000000000002,2.7999999999999998,3,2.7999999999999998,3,2.7999999999999998,3.7999999999999998,2.7999999999999998,2.7999999999999998,2.6000000000000001,3,3.3999999999999999,3.1000000000000001,3,3.1000000000000001,3.1000000000000001,3.1000000000000001,2.7000000000000002,3.2000000000000002,3.2999999999999998,3,2.5,3,3.3999999999999999,3]},{"label":"petal length","values":[6,5.0999999999999996,5.9000000000000004,5.5999999999999996,5.7999999999999998,6.5999999999999996,4.5,6.2999999999999998,5.7999999999999998,6.0999999999999996,5.0999999999999996,5.2999999999999998,5.5,5,5.0999999999999996,5.2999999999999998,5.5,6.7000000000000002,6.9000000000000004,5,5.7000000000000002,4.9000000000000004,6.7000000000000002,4.9000000000000004,5.7000000000000002,6,4.7999999999999998,4.9000000000000004,5.5999999999999996,5.7999999999999998,6.0999999999999996,6.4000000000000004,5.5999999999999996,5.0999999999999996,5.5999999999999996,6.0999999999999996,5.5999999999999996,5.5,4.7999999999999998,5.4000000000000004,5.5999999999999996,5.0999999999999996,5.0999999999999996,5.9000000000000004,5.7000000000000002,5.2000000000000002,5,5.2000000000000002,5.4000000000000004,5.0999999999999996]},{"label":"petal width","values":[2.5,1.8999999999999999,2.1000000000000001,1.8,2.2000000000000002,2.1000000000000001,1.7,1.8,1.8,2.5,2,1.8999999999999999,2.1000000000000001,2,2.3999999999999999,2.2999999999999998,1.8,2.2000000000000002,2.2999999999999998,1.5,2.2999999999999998,2,2,1.8,2.1000000000000001,1.8,1.8,1.8,2.1000000000000001,1.6000000000000001,1.8999999999999999,2,2.2000000000000002,1.5,1.3999999999999999,2.2999999999999998,2.3999999999999999,1.8,1.8,2.1000000000000001,2.3999999999999999,2.2999999999999998,1.8999999999999999,2.2999999999999998,2.5,2.2999999999999998,1.8999999999999999,2,2.2999999999999998,1.8]}],"marker":{"color":"rgba(0,204,150,1)","size":7,"line":{"color":"rgb(230,230,230)","width":1}},"name":"virginica","frame":null,"diagonal":{"visible":false}}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Visualize all the principal components</h3>

<p>Now, we apply <code>PCA</code> to the same dataset, and retrieve <strong>all</strong> the components. We use the same <code>splom</code> trace to display our results, but this time our features are the resulting <em>principal components</em>, ordered by how much variance they are able to explain.</p>

<p>The importance of explained variance is demonstrated in the example below. The subplot between PC3 and PC4 is clearly unable to separate each class, whereas the subplot between PC1 and PC2 shows a clear separation between each species.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="w">
</span><span class="n">explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">explained_variance_ratio</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">

</span><span class="n">axis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">zeroline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w">
            </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w">
            </span><span class="n">titlefont</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="m">13</span><span class="p">))</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">components</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">plot_ly</span><span class="p">()</span><span class="w">  </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_trace</span><span class="p">(</span><span class="w">
    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'splom'</span><span class="p">,</span><span class="w">
    </span><span class="n">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 1 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC1</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 2 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">2</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC2</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 3 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">3</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC3</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 4 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">4</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC4</span><span class="p">)</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">style</span><span class="p">(</span><span class="n">diagonal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'color'</span><span class="p">)),</span><span class="w">
    </span><span class="n">hovermode</span><span class="o">=</span><span class="s1">'closest'</span><span class="p">,</span><span class="w">
    </span><span class="n">dragmode</span><span class="o">=</span><span class="w"> </span><span class="s1">'select'</span><span class="p">,</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'rgba(240,240,240, 0.95)'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">xaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis4</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis4</span><span class="o">=</span><span class="n">axis</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-ebb9b8af1cccab56a95a" style="width:672px;height:480px;"></div>

<script type="application/json" data-for="htmlwidget-ebb9b8af1cccab56a95a">{"x":{"visdat":{"2e676bb9c84f":["function () ","plotlyVisDat"]},"cur_data":"2e676bb9c84f","attrs":{"2e676bb9c84f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":{}},{"label":"PC 2 (5.3%)","values":{}},{"label":"PC 3 (1.7%)","values":{}},{"label":"PC 4 (0.5%)","values":{}}],"color":{},"colors":["#636EFA","#EF553B","#00CC96"],"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"legend":{"title":{"text":"color"}},"dragmode":"select","plot_bgcolor":"rgba(240,240,240, 0.95)","xaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":[-2.6841256259695352,-2.7141416872943243,-2.8889905690592954,-2.7453428556414088,-2.7287165365545287,-2.2808596328444906,-2.8205377507406078,-2.6261449731466318,-2.8863827317805519,-2.6727557978209524,-2.5069470906518547,-2.6127552309087219,-2.7861092661880162,-3.2238037438656511,-2.6447503899420282,-2.3860390335311319,-2.6235278752244251,-2.6482967062543801,-2.1998203236175784,-2.5879863998787673,-2.3102562152425166,-2.5437052287571551,-3.2159394156486107,-2.3027331822262056,-2.3557540491237714,-2.5066689069258206,-2.4688200731213379,-2.5623199061960147,-2.6395347153845412,-2.6319893872743449,-2.587398476689351,-2.4099324970021736,-2.6488623343499107,-2.5987367491005857,-2.6369268781057977,-2.8662416521186684,-2.6252380498503713,-2.8006841154482203,-2.9805020437819922,-2.5900063139680949,-2.7701024260279006,-2.8493687050431022,-2.997406546594906,-2.4056144850974843,-2.2094892377836781,-2.7144514267577065,-2.5381482589989388,-2.8394621676428491,-2.5430857498303916,-2.7033597823351583]},{"label":"PC 2 (5.3%)","values":[0.31939724658510144,-0.17700122506478014,-0.14494942608555739,-0.31829897925191603,0.32675451293492036,0.74133044906291556,-0.089461384528568666,0.16338495969832903,-0.578311754186704,-0.11377424587411666,0.64506889864857431,0.014729939161374777,-0.23511200020171835,-0.5113945870063823,1.1787646364375759,1.3380623304006536,0.81067951418125839,0.31184914459335511,0.8728390389622116,0.51356030874927749,0.39134593565389458,0.43299606327902868,0.133468069538526,0.098708854814099661,-0.03728185967738222,-0.14601688049526751,0.13095148943525065,0.36771885743420035,0.31203998023528323,-0.19696122492431448,-0.20431849127413329,0.41092426422957329,0.81336382029696286,1.0931457594493579,-0.121322347865863,0.069364471580080786,0.59937002137942408,0.26864373779798267,-0.48795834442861535,0.22904383682701293,0.26352753374425686,-0.9409605736411969,-0.34192605747160981,0.18887142893026074,0.43666314163918846,-0.25020820418521106,0.50377114446143811,-0.22794556949382763,0.57941002151988985,0.10770608249941191]},{"label":"PC 3 (1.7%)","values":[-0.027914827589413632,-0.21046427237824353,0.017900256320890456,0.031559373605681534,0.090079240551201339,0.16867765820910458,0.25789215825561829,-0.021879317886719457,0.020759570264780619,-0.1976327249881461,-0.075318009379120282,0.10215025995659013,-0.20684443044964418,0.061299672457099608,-0.15162752361780971,0.27777690270313532,0.13818322788071918,0.026668315612593984,-0.12030552339473115,0.21366517222471582,-0.2394440432449533,0.20845723241671504,0.29239675074524246,0.039123258742880938,0.12502108270287907,-0.25342004234465726,0.094910576099392061,-0.078494205137924183,-0.1459088957300291,0.0407710790671795,-0.077222989073435416,-0.14552497200513081,0.22566914972011937,0.15781081295821978,-0.14304958178613861,-0.16433230665302542,-0.26835037569393644,0.093699082479800244,0.072927045692692954,-0.080082303017325912,0.077247693161104039,-0.34923037730596579,0.1925092117127101,0.26386794551341575,0.29874274575510867,-0.097678144045629064,0.16670563660480456,0.083726849033593759,-0.017115024248513272,-0.089294008478824433]},{"label":"PC 4 (0.5%)","values":[0.0022624370713168348,0.099026550323586468,0.019968389709028853,-0.075575816613683025,-0.061258592585693508,-0.024200857569523077,-0.048143106487653575,-0.045297870551931199,-0.026744735761788554,-0.05629540126889445,-0.015019924490179483,-0.15637920783218989,-0.0078879114932157938,-0.02167981184681347,0.15920971766996234,0.0065515458675320199,0.16773473722833096,0.077628179597721447,0.027051868141877933,-0.06627265020158063,-0.015070790789267719,0.041065402691436638,0.0044821250505698166,0.1483525892853659,-0.30033090393058021,0.03460747221505682,0.057449715801414426,-0.014172742337748857,0.065783466728327508,-0.12398330638936168,-0.060462276732351342,0.23162849166246832,-0.28137234706383063,-0.095348858333382983,0.01907034125750999,0.16259844627968473,0.17644121293237086,-0.16817305440249544,-0.010733147428938007,-0.013749151261533711,0.094063359006787473,0.31998748695415441,-0.07467776816216383,0.17620889048761051,-0.18284250247302994,0.14284357355959326,-0.18962229142744874,-0.059564228280832479,-0.046568643780577304,0.034658338514145279]}],"name":"setosa","marker":{"color":"rgba(99,110,250,1)","line":{"color":"rgba(99,110,250,1)"}},"frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":[1.284825688858354,0.93248853231232087,1.4643023219913964,0.1833177199583729,1.0881032577116683,0.64166908425808,1.0950606626324493,-0.74912266982965525,1.044131826053438,-0.0087454040828936954,-0.50784088383532378,0.51169855744759984,0.26497650811204881,0.98493451047089275,-0.17392537168176564,0.92786078094424995,0.66028376169693948,0.2361049933176739,0.94473372801981581,0.045226976298702128,1.1162831773500523,0.35788841799730969,1.2981838753589163,0.92172892244703941,0.71485332591141404,0.90017437317216975,1.332024436722091,1.557802155066073,0.81329064981754395,-0.30558377802430686,-0.068126492068361341,-0.18962247237849972,0.13642871155801722,1.3800264359155134,0.58800644333986596,0.80685831250041473,1.2206908824443554,0.81509523576660226,0.24595767988669479,0.16641321714545915,0.46480028840378157,0.8908151984694519,0.23054802355945769,-0.7045317592446616,0.3569814947010494,0.3319344799450607,0.37621565106667276,0.6425760075543403,-0.90646986494883397,0.29900084187814563]},{"label":"PC 2 (5.3%)","values":[0.68516047046730955,0.31833363826262961,0.50426281530920503,-0.82795901182063203,0.074590675197716769,-0.41824687156867829,0.28346827006152986,-1.0048909611818955,0.22836189978839622,-0.72308190500483405,-1.2659711905263935,-0.10398123549903991,-0.55003646368047454,-0.12481785412635681,-0.25485420870258896,0.46717949444151136,-0.35296966572384997,-0.33361076682491503,-0.54314555077976623,-0.58383437747186417,-0.084616852194787373,-0.068925031656013491,-0.32778730833391695,-0.18273779362136691,0.14905594436978531,0.32850447383432396,0.24444087601634412,0.26749544731025543,-0.16335030068761575,-0.36826218975458774,-0.70517213179946514,-0.68028676352813322,-0.31403243824923643,-0.4209542873138814,-0.48428741998121788,0.19418231471315156,0.40761959361100797,-0.37203705990950142,-0.26852439662201444,-0.68192672486362638,-0.6707115445117201,-0.034464444368268239,-0.40438584800732486,-1.0122482275317142,-0.50491009333710835,-0.21265468378116933,-0.29321892925141846,0.017738190112416855,-0.75609336659901405,-0.34889780645033552]},{"label":"PC 3 (1.7%)","values":[-0.40656802546769399,-0.018014186646239945,-0.33832576498089589,-0.17959139187535453,-0.30775789623478433,0.041076090823956656,0.16981023986057561,0.012302919237596209,-0.41533608475939726,0.28114143117641061,-0.26981718276885164,0.1305477502404867,-0.69414683014441836,-0.062114408322260527,0.090457690725705059,-0.31462097583217202,0.32802752837859583,-0.27116183725106618,-0.49951904648511208,-0.23500210497205515,0.45962099135910461,-0.22985388760895104,-0.34785435225730749,-0.23107177773628423,-0.32180093724447351,-0.31620907371157381,-0.5217027796644188,-0.16492098374357991,0.035424504846160741,-0.31849158062304639,-0.24421381043355372,-0.30642056121765765,-0.1772427660112437,0.016167127520729494,0.44443349863980852,0.38896306309821105,-0.23716700988387537,-0.61472084259182158,0.18836681164619531,-0.060009225855337356,-0.024306855718950981,-0.0099469328943483266,-0.22941024143915595,-0.1056911489030188,0.016617170198266199,0.083204290895677213,0.077996351087676233,-0.20539496698326026,-0.012599647557889398,0.010581660495571268]},{"label":"PC 4 (0.5%)","values":[0.018525287923269917,0.00056651210621615894,-0.0016531758730369899,0.09356684023666223,0.11202057416360205,-0.2431167665129243,-0.083556572423316738,-0.017907722555305434,-0.03913450196542248,-0.0056189178751142226,0.045562440802616531,0.050719232485844389,0.057185519476049211,-0.16949625459046963,0.12521729212523608,0.099803136517080421,-0.18787862148373882,-0.21375736963727374,0.25719217719154991,-0.041576647559511716,-0.075031552864948337,0.12299760414598312,0.00088837058425477583,-0.28825542927666575,0.041719755552172888,0.10022672759329562,0.035333192109463125,0.069969282266126462,-0.029711433955535528,0.074569613635722273,0.006830842216167231,-0.02055100161077409,0.032941912814462099,-0.17830446289268573,-0.25097606006453382,-0.11420724326219536,0.031217182945094755,0.15402099976198882,-0.14667451173869392,0.029622219503436367,-0.26965142818743515,-0.15348466625761886,0.016930324481611539,0.045613307101704907,-0.098741479338319005,-0.23847543367416446,-0.13113738078114695,-0.021377683028622335,0.23253484428367147,-0.051181171715070306]}],"name":"versicolor","marker":{"color":"rgba(239,85,59,1)","line":{"color":"rgba(239,85,59,1)"}},"frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":[2.531192727803631,1.415235876703905,2.6166760159956928,1.9715310530434382,2.3500059200446426,3.3970387360532612,0.52123224390977607,2.9325870689936919,2.321228816573381,2.9167509667860756,1.661774153636534,1.8034019529650938,2.1655917960801476,1.3461635794584539,1.5859282238732235,1.9044563747934296,1.9496890593990719,3.4870553642902822,3.7956454220728872,1.3007917126376596,2.4278179130660482,1.1990011054655629,3.4999200389245408,1.3887661316914679,2.2754305038722076,2.6140904738108341,1.2585081605114903,1.2911320591150235,2.1236087227738976,2.3880030160034704,2.8416727781038733,3.2306736614320952,2.1594376424890527,1.444161242329512,1.7812948100451147,3.0764999316871906,2.1442433143020847,1.9050981488140784,1.1693263393415028,2.1076111432572446,2.3141547052356026,1.9222678009026037,1.415235876703905,2.5630133750774786,2.418746182732828,1.9441097945469707,1.52716661481452,1.7643457170444317,1.9009416142184261,1.3901888619479164]},{"label":"PC 2 (5.3%)","values":[-0.0098491094988011618,-0.57491634754648901,0.34390315134173521,-0.17972790435224476,-0.040260947142530285,0.5508366730280565,-1.1927587270006452,0.35550000297749734,-0.24383150231069003,0.78279194881527958,0.24222840775506779,-0.21563761733355485,0.2162755850740255,-0.7768183473443393,-0.53964071402671832,0.11925069209197341,0.041943259663212148,1.1757393297134309,0.25732297342048038,-0.76114963643506317,0.37819601261705155,-0.60609152775793007,0.4606740989118962,-0.20439932735215041,0.33499060582167828,0.56090135512307882,-0.17970479472274611,-0.11666865117401083,-0.20972947667730213,0.46463980470873734,0.37526916719510417,1.3741650867930491,-0.21727757866904848,-0.1434134104575801,-0.49990168107813593,0.68808567757117667,0.14006420108979073,0.049300526013030962,-0.16499026202310901,0.37228787196079854,0.18365127916901977,0.40920346681606296,-0.57491634754648901,0.27786260292919557,0.30479819785469286,0.18753230280060593,-0.37531698258048801,0.078858854518476448,0.11662795851202444,-0.28266093799054998]},{"label":"PC 3 (1.7%)","values":[0.76016542724589609,0.29632252738796533,-0.11078788321910843,0.10842466246342365,0.28538956318444203,-0.34843755579746699,0.54565929564681381,-0.4202399357679677,-0.34830439493484422,0.42333541768255883,0.24244018972576958,-0.037648168231481781,0.033326641844325822,0.28190288211846576,0.62902932640801146,0.47963981962659125,0.044186167630122633,0.13389487393609831,-0.51376776381780398,-0.3449950383134171,0.21911932430194381,0.51185550869700192,-0.57318224256800232,-0.064522756631267594,0.28615009116915036,-0.20553452435362451,0.045847703927250641,0.2312564626599711,0.15418002392883084,-0.44953019194184946,-0.49889807587076818,-0.11454820547541915,0.20876316713083845,-0.15323388806308944,-0.17287518911341901,-0.33559229243454058,0.73487893672551163,0.16218023577073762,0.28183584020848107,0.027291132141631261,0.32269374717305971,0.11358659579935715,0.29632252738796533,0.29256952459674335,0.50448266397718056,0.17782509063265811,-0.1218981718671809,0.13048163128784876,0.72325156348991781,0.36290964808537646]},{"label":"PC 4 (0.5%)","values":[-0.029055572778700835,-0.01530467389426742,0.065772041238163687,-0.23679093419922692,-0.00017063327835343896,-0.11237165320609235,-0.098126619630648185,-0.25719103219149553,-0.078674612970112023,0.11098207103557557,0.12104055183185582,0.078019844449191203,0.16306147816482494,0.14044086877442882,0.32955172837114244,0.21962126272174487,-0.1576819072855814,-0.30921957302165681,0.053846096505175134,-0.045824754886562659,0.1854292643758787,0.060959117083655721,-0.14022795440833705,0.16304097743024254,-0.060371969624338127,-0.24070498648334138,0.14750384647269604,0.0040266077496087221,0.05282732303699731,-0.23152405340399759,-0.022336462609153274,-0.25290192339528056,0.12819306556340193,-0.19099635791451045,-0.50543441178580184,0.30982804463443159,0.055541969126135744,-0.22120293694259185,0.020461787158674971,0.21062178578807303,0.27765377738756469,0.50530496693927263,-0.01530467389426742,0.057912747686553967,0.24109100048127999,0.42619594002562666,0.25436744199040956,0.13700127386561792,0.044595304708260231,-0.15503862823011283]}],"name":"virginica","marker":{"color":"rgba(0,204,150,1)","line":{"color":"rgba(0,204,150,1)"}},"frame":null,"diagonal":{"visible":false}}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Visualize a subset of the principal components</h3>

<p>When you will have too many features to visualize, you might be interested in only visualizing the most relevant components. Those components often capture a majority of the <a href="https://en.wikipedia.org/wiki/Explained_variation">explained variance</a>, which is a good way to tell if those components are sufficient for modelling this dataset.</p>

<p>In the example below, our dataset contains 10 features, but we only select the first 4 components, since they explain 99% of the total variance.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">MASS</span><span class="p">)</span><span class="w">

</span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Boston</span><span class="w">

</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">db</span><span class="p">,</span><span class="w"> </span><span class="n">rank.</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">

</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">db</span><span class="o">$</span><span class="n">medv</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">
</span><span class="n">colnames</span><span class="p">(</span><span class="n">components</span><span class="p">)[</span><span class="m">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Median_Price'</span><span class="w">

</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">tot_explained_variance_ratio</span><span class="p">)</span><span class="w">

</span><span class="n">tit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Total Explained Variance = 99.56'</span><span class="w">

</span><span class="n">axis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">zeroline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w">
            </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">components</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_trace</span><span class="p">(</span><span class="w">
    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'splom'</span><span class="p">,</span><span class="w">
    </span><span class="n">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC1'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC1</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC2'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC2</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC3'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC3</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC4'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC4</span><span class="p">)</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">color</span><span class="o">=~</span><span class="n">Median_Price</span><span class="p">,</span><span class="w">
    </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w">
    </span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">style</span><span class="p">(</span><span class="n">diagonal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="n">tit</span><span class="p">,</span><span class="w">
    </span><span class="n">hovermode</span><span class="o">=</span><span class="s1">'closest'</span><span class="p">,</span><span class="w">
    </span><span class="n">dragmode</span><span class="o">=</span><span class="w"> </span><span class="s1">'select'</span><span class="p">,</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'rgba(240,240,240, 0.95)'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">xaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis4</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis4</span><span class="o">=</span><span class="n">axis</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">warn</span><span class="o">=</span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-177a0748227f670ea87b" style="width:672px;height:480px;"></div>

<script type="application/json" data-for="htmlwidget-177a0748227f670ea87b">{"x":{"visdat":{"2e6751f58e1b":["function () ","plotlyVisDat"]},"cur_data":"2e6751f58e1b","attrs":{"2e6751f58e1b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"splom","dimensions":[{"label":"PC1","values":{}},{"label":"PC2","values":{}},{"label":"PC3","values":{}},{"label":"PC4","values":{}}],"color":{},"marker":{"size":7},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[],"automargin":true,"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis":{"domain":[],"automargin":true,"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"title":"Total Explained Variance = 99.56","dragmode":"select","plot_bgcolor":"rgba(240,240,240, 0.95)","xaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"splom","dimensions":[{"label":"PC1","values":[-119.817596211001,-168.80933779931522,-169.56557100589254,-190.44464858369096,-190.41880069761632,-189.04458206996713,-104.31151277385474,-102.17687465576024,-98.340477015441735,-99.903850518855236,-100.71380528433363,-103.20892911287643,-105.02782353831634,-108.35920607712676,-101.44190638305749,-108.41073565210409,-108.2446561740685,-103.51082248342156,-78.95043472014649,-105.84817537733893,-98.912488372660647,-104.63584134680102,-105.46342491074049,-104.04512646785662,-104.59680209328339,-78.777587044409955,-99.897337922264299,-79.382642274213367,-102.86330201369384,-101.28940314009158,-94.419039308139716,-99.006424949197608,-58.17220557627833,-94.040367918380639,-61.669407617957482,-134.37113605637623,-129.29588182310152,-136.68185053687864,-136.67653829913698,-167.40931827645889,-168.06692957994773,-180.55234095007748,-179.59232289557687,-182.77661531159902,-178.36174361291503,-180.99739689397416,-180.96624179263964,-175.19867069331903,-175.25815674117641,-178.50891704804297,-170.98069979140851,-169.18510528446828,-173.75282073140417,-173.61406813148537,40.978393720109025,-192.91743516076428,-109.08766827092111,-162.36600295247214,-132.25463504044242,-132.40716201008601,-130.1840671902653,-122.84889678106913,-130.81020119496969,-132.47921692744615,-195.2707402064969,-87.400213775447966,-86.054508325246559,-76.148028452360151,-74.826372604322287,-75.332818443980628,-111.12688129872571,-108.09921226448967,-113.10847087139706,-109.20762667347744,-26.030104997611073,-19.247217122542615,-13.885011756431144,-20.217905031210709,-19.363886785750701,-23.653623591441676,-136.89008825655137,-133.28501299325825,-136.88392203228622,-133.7817040684877,-166.71648732013455,-164.8373646355009,-166.58113382927817,-165.44695652485598,-141.83495580326914,-143.65640578545103,-142.04590176883946,-141.79136749420294,-144.74133449583934,-147.2899340052337,-143.19444983968663,-127.29733455168136,-135.88006172211806,-137.42848730853416,-139.86302672845142,-138.3724345980595,-33.218359189206211,-34.192607441151239,61.82926906205374,-32.202083050586616,-31.512469901126337,-31.235524220079991,-32.057920325004169,-30.423516142335711,-31.655668793132374,-30.892440623931293,-34.751521219939306,12.458798351967451,13.834959208755489,13.50041638876135,14.791750190856257,28.015453971469732,12.449727565351903,12.953841512293142,28.517390966422365,12.448590592113488,-217.92712440120658,-213.33867967213217,-212.64466752339311,-209.7802388437496,-212.74160089241923,-215.13067033338177,-206.59678338471787,20.030690954185133,18.783767010629891,18.619174229996268,19.23741268758787,18.601585005803361,21.730960397149737,20.868024359515886,57.930428577628163,19.421369635366105,23.820417306924217,19.576554182824161,20.404247743530071,18.791782595422138,21.22113774206068,19.455027646892162,-12.980593673496298,-13.023809718500495,-13.082403071812546,52.223288450309674,52.974580272428611,-11.825619928030395,-1.9862085991225178,-0.48269105695197334,-6.7393856809239532,2.5971236943633191,1.1769332945755331,25.745176747530582,8.3592680957952545,75.18118521267705,76.012877561212434,-4.7419867197694696,-1.2651795986995182,-4.2497163716082511,2.381991302232743,-8.778902071359596,-12.56574028132677,-12.566140244212605,-13.770554439192949,31.367450421673119,-6.7733012523905076,33.918116941928382,15.092972390272424,5.4699878398402895,16.57137529752055,0.47203910124093451,-116.58662158034713,-116.69216102338109,-117.27976612940527,-119.87284845556846,-119.08860981905217,-117.71021106997233,-116.48426146444184,-217.6086571115425,-215.14462618920447,-217.16124398235326,-213.99368912415855,-214.36120888108488,-212.78234036465571,-213.5099321678257,-217.11055977601208,-25.238527087300877,-23.026427984220035,-26.413867705888244,-22.345015298092932,-24.913941505509392,-25.709816025059837,-154.85279382496668,-149.21840325992159,-164.09051115713839,-94.063604529348581,-81.272314430572862,-92.318736370695149,-26.946868519544616,-23.347190358714602,-74.516862874585769,-77.45000842326516,-193.52757538869881,-193.04727324567091,-140.09472357767899,-137.02202540569908,-133.53604383598963,-132.44161607134131,-133.2396375340148,-133.02296742555924,-133.6718481893881,-135.59694620669973,-136.20430735461505,-126.76417829363305,-137.5534955600188,-136.86019367105692,-134.64833867160513,-134.74217148257,-134.15130397849069,-104.63188796504645,-105.02989071868275,-105.16388930050178,-106.91995579195655,-104.14153299606902,-102.97620282747478,-103.97345334990523,-99.841186928097173,-107.12931956052951,-107.19547187002276,-102.34387107002236,-101.30410271186224,-104.76797750057182,-103.12424418780391,-97.398883151135806,-102.44603436519452,-104.65552564668165,-105.8119110016643,-115.02200057121829,-114.27877969177611,-115.31733402028513,-115.32270518518852,-110.06069677724484,-114.57933438226455,-78.949982438029522,-84.208621679435595,-87.82511670255478,-79.916636753122717,-82.133880576198408,-90.428708216340809,-91.512237719644659,-86.322667638809023,-89.262998204381148,-92.606670836825131,-105.98973259415699,-107.64843357926235,-172.27975240473899,-146.79077889469988,-143.40752467348582,-145.79349539762507,-147.60613702345657,-145.97225271348938,-145.53586787167791,-146.60650131594278,-145.45851013929018,-148.76890634204571,-144.62417807122984,-146.9039416757615,-149.72087317753463,-187.37450488298683,-188.23597987018113,-193.05223813382216,-188.89308806446502,-188.55344808551129,-163.33615893644492,-162.51074666847094,-159.72855917046152,-162.78334977028706,-163.23413285034195,-198.69172613733329,-193.49614628313745,-196.94015767377454,-191.78730735992224,-219.73628087811821,-136.62615163240733,-119.68073343619004,-161.20479964839745,-126.63795738467249,-125.40837603757728,-119.99537393269266,-173.98844959403542,-174.22359590393913,-174.31772241187926,-129.04605841185267,-126.94915041377034,-128.15921802280175,-125.25370395850258,-125.47883296216467,-58.458088286348222,-60.447609589952776,-62.795982339585343,-90.396177075435986,-88.830821936319651,-91.134065511782481,-191.78557068373058,-190.02314471709531,-190.08246692348337,-190.05982669968805,-109.58330987524349,-109.68972657928822,-99.369606730986192,-112.00253157260684,-108.49913036441033,-108.43416635466765,-108.75165293144798,-109.52672950897573,-107.28393762314352,-110.15915173097591,-110.24861524389695,-111.14072043757083,-128.25047754145351,-128.07244982635041,-128.34827871575922,-124.48784867059011,-129.32232684254154,-130.53164232027015,-130.21281402966881,-128.8037162075872,9.5036870076668727,10.744501395711794,14.039334983430772,-114.7549040216777,-106.0959315799484,-187.22597312823757,-187.0397811479933,-189.53593008422669,-188.46212324013555,-186.7009234471673,-189.04874074347569,-188.52278853311941,-187.42965393390344,-132.90436322169597,2.4074215814406537,-51.633665306683056,-51.650520897272152,-63.546141232085894,-57.047069263957844,-72.129170922080249,-138.82703103016829,-84.34630588299936,-85.473112406382725,-7.2099946098523269,-14.746244559075652,-225.29302443990554,-85.620470958062569,-83.969506997186599,242.75801073139112,237.90776219163337,236.05310298325841,237.246891571681,242.35297730883207,249.83239368865199,241.36569832177182,249.06464850089782,247.74450311018759,248.05781631656646,259.88354272396276,314.60151296322567,242.3546510337944,242.17352755311086,237.37199301588876,245.3535174984203,249.76094810706488,237.95997327595748,238.25107927482037,237.5092282766341,247.11668030825146,237.52066621354854,237.76986418709379,238.86878414470419,239.24322209498223,237.77984104454052,237.70765342095294,237.66950377002783,269.85942217766194,238.0436433486625,238.2827822994274,237.5155795003956,245.03080955130258,237.51628219584748,237.86228031286538,241.10321184255847,237.61473849608603,236.81334279377569,237.18268945052463,238.82931501635281,237.1465979203831,238.66413072022314,238.88402884005154,253.25012411912581,238.38994444650663,237.88401177239609,243.67581536990639,237.81859588537705,257.22908229624778,243.0493811639428,245.7969493295746,255.9744696442271,261.34632048195721,300.70190682469263,353.34397505147012,343.00605294362117,345.2545388334774,292.20828878116481,329.06207950947811,345.82875111312711,346.41799198633345,315.86313205309915,350.36416624195039,337.33099299813199,260.18106017079219,259.39056645340816,266.96660244490573,351.16876918367342,349.58106643846389,350.94225991627718,342.66062435216577,346.6474848839195,323.18199532903662,335.28524531359307,327.57141137802438,328.97697706866768,322.17358239136439,322.7331105152183,323.48602391567988,320.83002314376773,344.77625058117729,350.86621947181033,332.62983179563037,237.14698816361764,239.01981800374301,240.42876041184465,237.61106808499204,240.47431802454219,283.07808481905602,340.33835577468011,260.0631055789604,239.68251371675774,237.40079277667809,264.35907089835234,352.28984712491194,249.32250398174909,240.06670707070941,243.41370803888074,350.63508029221981,336.98608158407154,348.93153508684037,350.36258471698858,272.33928546123911,235.8985397454465,277.69104323737776,237.79296844474251,235.77324330276372,237.1192159360323,234.26840642816191,250.95050675575803,345.07501708369523,255.95381014426374,243.33502605193368,233.76418438142906,235.83007445558974,236.76707751381298,235.9543976851576,240.58046645923955,250.00005682411512,264.77524802905106,236.99016406649889,251.46943212321437,242.25373305025141,240.30701617077617,234.04992069298962,235.92805234819173,235.41002557926359,233.09952789549186,239.78169391678173,235.36585778233578,236.7339650854918,235.666367163307,279.22743396976097,294.90388828841026,302.44240692476063,281.22648046041542,277.69406848689869,-29.084710174087334,-30.067921896110676,-30.048482706505297,-27.239751165225425,-27.559726942366343,-28.102058560262428,-26.943933712813884,-26.754063842431947,-138.64797226226415,-139.40833249910924,-138.37536642798759,-137.44500196677126,-138.87215155926995]},{"label":"PC2","values":[-5.5389891836686687,10.174459215097219,14.021696852330649,18.260113831527399,16.031457000033615,18.728796262496282,-8.7082662342990158,-10.116623099293092,-0.16349320516519039,-0.25537354961498371,-5.8035368190736198,-10.003240670834341,-3.6456661193439075,-8.7732536963259538,7.2668871889828077,-7.5138223127215298,0.9892427964974424,0.88120469323791339,94.560764026722708,-3.0913133792355296,10.594681065468514,-4.7105933961404514,-8.8329138326377379,-6.6126408003040051,-6.4102336703499079,80.569595944276386,10.276658646619808,77.719458061570549,-0.34742893149281695,7.0379589881970537,26.313334381479535,10.377621233849881,148.37351628258006,27.618464211041736,133.22506975677342,-0.59093869054283543,17.938442487376935,-0.46253561240610275,2.895122294204211,8.7722202852717999,8.766286120676563,24.149993662030841,26.096296073925881,15.509080341392211,20.208518281774825,13.084409636507004,13.104084421280378,16.841793669915067,12.897975795813799,12.958423213168809,11.410415812819931,12.801421086186854,10.174991483908762,10.205506906527823,-55.944472850205472,16.066847572389761,-10.277215338315218,10.123767863192565,4.0662580102443115,-1.9371943340405664,-0.30288345178179127,15.855418501732093,-2.0915539068335991,-0.69886969381173958,21.325147908463379,-17.228919535519001,-17.236162442805949,-18.993912581458673,-19.671189545787207,-19.705415623368719,4.6631316858979419,11.133481276203943,-2.2028856420714922,10.949637890666443,-33.266842351046371,-22.275891678993851,-13.264479341162716,-25.833769627002134,-25.334709082324196,-34.483873740107931,-1.0413171378225108,0.010288141622156041,-0.99750116512225906,4.9262223493001471,8.8718590009678806,13.181819312682057,9.7893143618082696,10.50273284136736,1.9166655896482225,2.8078662159702739,6.5718997878562497,5.2194134351376169,3.8867021438984084,2.7352353357305388,1.9792150056629148,37.499261333630628,5.1584374119254601,0.081138619883160443,3.4764445433940199,0.21752945129880577,-29.436181151421895,-30.172693305357875,280.34328459251259,-29.105577888292835,-27.432684951630364,-28.741996876655843,-30.250489426691349,-22.617686309629509,-29.908704106766002,-26.017896026581607,-28.005232010801134,-44.250122088064693,-43.632328400948161,-45.504086903344778,-37.676250102591744,4.237755671741021,-41.983860226142156,-43.190512278675094,10.306628372101118,-40.195550285648494,33.371346483102627,44.279429516355862,43.847357958520128,51.334164500044501,42.610517265179382,37.221902041417884,61.904209998543116,-42.418859931150273,-47.039966070662466,-46.963303956714213,-45.288857172987974,-47.060110474385063,-36.451429985317013,-39.176958613188525,81.244626046411057,-44.894691316007737,-29.165380904823717,-44.338087970206708,-42.314885474580478,-47.013946120203357,-38.492049512462351,-46.896510819378221,-36.950417326830575,-36.96685794489553,-36.913087851845333,177.19334834364741,180.59112144252839,-31.965254771532837,1.2044480251643674,6.096510995055092,-14.050143451745909,15.774212732671458,14.264929439875282,91.953607218268303,35.505998362132495,258.37937012362522,257.74285801473775,-5.325251460578003,3.942205041904423,-6.0047945322809522,18.266757418929075,-15.896036393898576,-30.447513762639321,-29.307734194505244,-35.369293103283816,112.73873290365654,-11.006926634597111,124.83242448135219,58.306643043768716,26.825270188394047,62.972853839887307,9.5495952429690849,-5.6738726592722415,-4.3475557908127103,-2.077550486492588,0.21046502141561099,-1.9574846027425543,-4.4071110123459212,-0.31615074711075553,24.484108697792887,25.61543517177639,24.496609775070276,26.942332962889836,24.317784689922046,30.093255006950173,33.898887189537554,28.477601767277662,-32.427590763223179,-21.806303994091454,-35.344604307573029,-16.889736268619306,-28.389168967800142,-29.171746870911424,7.2051058753690116,23.105732862377856,9.0165552918782836,-15.034532002566877,25.722563892291877,-10.561739290119133,-36.306683236868963,-24.235364777304156,-17.532337593385144,-19.12797548861403,19.491974577338471,21.612685785530239,0.21778524259039006,1.9722717522365321,7.1161587721642414,14.909847553606152,-0.12888992070723626,3.3553547512244379,1.5339592512459279,5.7686148902209471,10.706464884496677,46.25046858010235,3.2008517488594923,4.2271969252155808,4.0114013067425578,0.134093860882286,3.1072180183118379,-4.0191134491862277,-7.3069652781378078,-2.709110899773949,-8.9872633556507608,2.2046353510721803,5.0522946034517364,-0.011364017473543214,14.725590376829006,9.7440012890657552,7.1473560712246345,8.8941009701408706,10.854331837981727,1.4307028054639359,8.049871860012459,26.192769683650855,10.458198369568725,-0.8290312613886448,-2.434166192745578,10.24348959207107,5.9401267611970807,-1.2354342566880203,-4.4964380612597985,16.456900221378312,14.791646712663535,7.811345777277471,-8.0350645087297554,-8.9420638805889912,4.267278537624037,5.7665179789196372,-12.279340706874359,-14.670599426296466,3.7021466563332521,-4.952499784327415,-15.41089372986672,-6.9872288505284432,-9.0789449195717253,19.820477428104088,10.326763283283812,16.519726539646658,8.3062133955725628,7.5603176553048863,11.656710379229398,13.030436657814962,6.9316057296607472,12.166258705626127,8.1540015149996314,15.949944139746693,15.386612773835399,9.9939328536692607,21.196119143281766,23.872683081827791,16.057815324725269,17.684528541985852,21.628688518987456,6.8273012771454216,6.7717650487707308,14.057815650902976,10.153671874399654,6.8824643621227501,17.928780387759247,26.815521161270567,22.360257112524462,36.680327795057181,24.543038202991237,0.040118930851714911,-4.3565475749282028,63.766961734810685,-4.4699168421310924,-4.5405968221955391,19.651206738092011,9.5714452628652005,9.4964898566742129,9.6102415067090572,-3.306494866330453,-3.4125605323504424,-3.4330837558855549,0.34489717071135634,-3.4573630683853875,4.0127790405454578,0.81840510489951657,-17.782553638308627,-13.966540755441894,-2.2781513237510556,-8.8756270272627198,19.197047493584957,19.485469604669479,15.964305497046315,16.025204711154498,-8.059183049905057,-7.3428178921612348,36.723832316529212,-7.8740238817019677,-7.460706959657263,-4.6766553275206428,-6.9117545185623124,-7.4758967626464345,-2.0125299149908105,-7.9067162164001283,-6.3258508700197504,-7.2203299025865952,-2.9062824533176292,-2.9133159709306287,-2.8585012790222568,2.5587541949080328,-2.8525037023939235,0.36733897911935387,-2.7709329493731709,-2.810058215226626,-30.69176526392474,-23.774787272806069,-17.47699961867777,-4.815856752412536,25.540117471205278,22.501436186619962,22.814921747061959,15.670776647516849,15.627786426354442,17.563619789737739,16.388314669394543,15.637013885671655,15.562527439788708,0.078437649271946616,-35.680355707180659,-27.138426921645735,-18.518860533729622,-11.033812491342653,9.0656995682859094,-17.097899749567564,5.0876233868975769,-10.035234278031897,-16.798492913044054,-14.035734807374336,-34.478057834670103,38.410656842268537,-2.8337560152311276,3.607761887556137,-95.805426816700333,-108.87461353002273,-112.75186664692261,-108.25446009328898,-92.871144901460255,-69.952021380029166,-98.829271016917914,-72.192851968530391,-73.705067772895077,-73.910508841196375,-36.875372383135449,139.62415203256043,-94.103211746099518,-93.89494659909397,-109.88283439320482,-85.079250770057186,-67.563319382081616,-113.99935865766753,-113.93177992948422,-114.06419837531433,-81.609203519434729,-114.07446053951259,-113.95159425666783,-110.97614098023907,-113.50486096630858,-114.01554204338235,-114.05452585045761,-114.06578819642003,-7.6799062497279049,-113.914890377616,-113.9192097645987,-113.82233542412814,-91.043676656539645,-114.07290117236909,-111.76191586803408,-96.407629450752211,-113.99539177529799,-114.0867495963668,-114.05078777950661,-109.40016695901744,-114.08868697670037,-110.42185125221857,-113.76375793975748,-57.683155795896752,-113.87976379812712,-114.00333521043672,-94.201184825707529,-113.92332385098233,-49.232403750180588,-102.20485383704323,-88.477448596396542,-52.287410340944191,-35.44505366540794,93.79641628298485,263.08807452832389,231.86200288589475,237.94809399394876,63.770473727016878,181.37296034314824,239.48007920046552,244.89303819372691,143.84076710426157,250.11211926943813,219.25645501639906,-39.423036088924029,-40.573433956634567,-13.38310285940441,263.0462914360466,262.03937213819228,258.16454239693269,242.05204582976154,247.67434813823667,173.02894968331844,207.3983551325457,185.63399596138564,187.64026287508401,171.7751769462335,169.59356863795747,169.20485401765157,160.40600725264682,239.17931981362963,256.57438049658032,199.66997802208209,-114.03577410248369,-108.71630953577527,-103.65021620952484,-113.02426076077303,-104.38955885706136,35.503089512785159,224.27490389245366,-38.695028469375345,-106.07106078699287,-114.10221406831081,-25.478288083954858,265.07109600752267,-74.355563982544709,-102.82276730848658,-94.047220043225806,258.99483689586589,216.71393126365086,255.38574478867199,262.10681554752892,5.1656797619308819,-114.10964313032962,21.331993738143947,-108.90340110555299,-114.1022578885807,-111.23000657768159,-114.01540835551251,-54.176630434032496,244.30822786387628,-51.409723845531289,-87.02435902716887,-113.91075626220238,-114.11346860853843,-112.66981564708212,-110.73289636802923,-92.888827354805983,-71.716923436789799,-24.069373097585984,-113.46291756881074,-68.662427920841566,-97.645632839591585,-101.11844637994228,-114.05323614069027,-110.4738168593376,-112.61409926725952,-110.12046698269694,-88.890107082244455,-106.06334265836428,-110.0464036682349,-105.67065712139409,-125.45427541158884,-76.581934444432804,-52.062530385760439,-120.7137115611372,-127.20301710711489,-33.328265380350601,-33.277296102416713,-29.712334900310804,-33.363469690539148,-33.378821314083893,-33.381435460773766,-32.302963335059857,-33.41636751123653,5.8236105179710371,1.0982449096864124,0.96806797458038873,4.2981628688945417,1.1449421241002997]},{"label":"PC3","values":[-3.2679204144924858,-31.076086868574627,-16.132237089679457,-6.0877486724015863,-12.485524594373683,-16.344555517714447,-7.5399862782586951,-30.081040060956326,-34.55835134119161,-22.533027426003745,-29.611137102624291,-20.180817873885914,12.949471881414496,-12.170866218392478,-29.194381690197666,-8.2176223292237065,12.875784412322176,-27.735275915634002,9.080932622985932,-18.307959790323249,-40.739576406547272,-33.300174494909243,-36.081335476091738,-42.422940508115722,-37.541103142357464,-29.111622758529133,-34.021539148079171,-31.523779750019131,-37.066099586400533,-31.27558292642809,-37.51740889075743,-41.332379119429532,-25.710748447241269,-37.747823157941369,-36.603169684429474,-19.73397902553797,-14.22127289427161,0.62183393322290603,9.3485726779608083,61.798900537214983,66.838572735087709,26.36309056371228,23.439070480375364,23.04080851086912,-2.4976860579954963,1.7491010806843712,1.8034070411373895,-38.034644003374417,-46.807347114884728,-19.987488988650099,6.9853563204047484,-5.5514565590432357,26.629058564360655,25.984741141148003,61.107648994485821,69.328900736710935,63.225521251813738,64.394358212726615,26.912842383976368,12.679394000754598,-1.9998254832449625,-22.381995948843077,-2.3785715704519212,15.991809025289076,-6.1702268057456457,75.507400812671577,64.668281192433042,30.192402486917331,17.77461049108889,21.299942060924959,29.745139905415396,21.225602350471597,28.673473256006474,30.070162335814008,38.54533095019297,9.0977878219620223,-13.272503199390362,8.214174011464273,2.1588806350521295,15.002504721482548,23.646315356851883,-4.5719762108322168,24.252090096640856,13.281798982248032,-7.0116277584646234,-12.51553220576506,-5.2345121775502346,-13.650350322825034,-33.22919247151551,-15.396277192690343,-18.317453152757373,-24.2066854962744,7.8021371374103419,26.692889013858395,-10.480185767508434,-9.9607787752894659,-20.6393106233377,-23.626062033207639,6.3123236816630062,-14.061829833680004,-18.103512923590447,-11.55600332878184,-14.983624024316798,-24.728936829303713,-26.489359378663405,-32.016605499556626,-28.648543273269482,-22.911962638218135,-31.909080798136333,-27.708403339201162,0.34836541773730345,-15.340486252867187,-24.713180725964389,-26.725016006828135,-17.491600703366807,-19.925716579221859,-8.7327688467215445,-16.344483626704385,-8.2161427957476132,-3.4845903069037951,-31.351892065868324,-42.019856301602381,-48.989614295612178,-52.833359962656267,-51.299301465698946,-45.418523453871565,-51.811951984824361,-27.907183645876053,-29.826086708104661,-27.295359123808211,-29.489008803371828,-28.574695773288187,-28.081509565830025,-26.974466797436829,-26.545076944032239,-29.450807060432183,-25.558453662884094,-29.443900320555599,-30.169589114098496,-29.465115708696871,-26.829515358053047,-32.836006952211271,-35.169339736661833,-34.974066482978991,-33.85950624724245,-29.659666802684193,-28.375621230545914,-31.957860458811552,-29.313148362459451,-29.541015668711808,-30.702169191398145,-32.024786156649697,-23.240095885719278,-29.179057065006621,-28.859218087125594,-13.118542649239961,-21.992252185311465,-28.169544738498477,-31.322128945962049,-31.743686787358847,-25.093965480588988,-22.562649129389335,-28.525824758704768,-25.382190511146586,-26.76746745080035,-23.499916806768429,-26.686506204756878,-13.095171934146428,-27.453830365996112,-27.718500731365555,-26.96590737610007,-30.044532486808162,-33.394810215744243,-29.469858177198489,-17.956314010330914,9.817605006954178,-1.7400629835963968,-21.057058028246018,-21.388499929876545,-18.465972415177319,-37.217080535648016,-21.831458880236408,-43.762938041990374,-46.864395292815523,-43.58669872036473,-27.359281981678684,-13.732605951627351,42.049284333912695,51.424856349507216,44.001356003794605,57.836291785220808,50.101518586598118,54.075575240852622,62.583422493633456,56.213906579478937,59.427859895329739,63.489205546615445,62.013355764083428,60.299916957481635,94.111344539723731,95.341832632539038,62.6068576916743,81.399698871948075,64.678041729594327,65.910817658733691,14.391165511372545,-8.1405910492522935,-24.019872349152234,-13.127023600746478,-45.43409989192574,-38.716369124103331,-36.959111928151664,-9.6826317517384037,7.6887133849651308,23.27525753264084,-0.34250411465991543,-11.459054396741699,-32.578301882368933,-40.563954534328388,-38.59532423552465,-31.656387612733536,-35.328138128637463,-23.444825314997654,-25.527430041138391,-21.951121354883188,-25.077274359964974,-28.598950965532431,-24.004641777070457,24.540050390668814,20.051846383481447,-16.305317293504721,-21.71433817077062,-18.239816733359632,-15.547205765532006,-13.962315831636921,-11.246343823777771,-22.593717364558326,-18.016619637870267,39.981619888327565,21.915597220925473,12.157913849380856,3.7078635920209213,13.728506022487537,48.297115884207749,-6.7543021411033433,-2.9252530495807503,24.922748929349567,-8.4330577130643096,14.595510141794517,38.307661443217725,41.541492239359769,45.350021240119581,47.136042213370807,46.63457303683991,62.607963432655723,71.929321646142299,62.506037059017856,-19.512330668287614,-30.494002097889926,-31.053803502811476,-17.356667918350894,-22.059427575742166,-23.044777744150561,-27.295251422352102,-24.277859528715297,-3.9551796060888909,-19.970536863307522,-4.6043929946816213,6.0335462640250013,-7.5525376219153513,7.2236424763028646,27.3444703050105,-4.6989210338626215,1.5217903837278199,31.318048028732559,23.901015598126001,19.246683640068774,35.418563891977804,31.332966655946901,15.963210519884788,-7.2105651029992472,12.417398777041921,4.3156949643553508,65.632581639877984,75.081118381483591,45.307610758853293,56.614662714143122,43.378322192670311,32.509085995618626,50.217537288882468,59.401530499291241,60.176658511900968,62.612468575718466,18.588255459435636,0.27014426270692071,9.6186041948040106,-5.4707317021114878,-12.127121274772762,70.236026609208082,78.255203857614049,49.200650900307821,27.841957737316861,45.097138730147222,46.309882027074309,18.079878911787635,4.5094141088834068,-5.370441096843531,-4.6473062204469953,-27.685923457120492,-24.014821882825405,5.7708775167840365,-5.5624509642459889,-34.567530321729869,-28.232873025219654,-31.629899349237402,-25.180094946061626,-29.704345122562877,-20.829843701589269,-16.651938021548581,-10.716658706636096,-6.4898068006923042,-8.0151864123417038,-4.9768073153911319,-23.716870811727869,2.8864610931932422,22.180740547090252,11.195347136084424,-0.62960799058506411,27.255095282806458,34.399184706932495,22.934479035598919,34.548970347188153,39.780793407843262,-1.3257740840898482,-1.8304277658205623,0.88076344419591568,-8.3197456627670334,-18.40360664819989,-1.3435962101271071,-7.6919205307053788,-17.528527280164241,19.146326014959797,0.89044569180384392,33.504639220035756,55.833177325430306,2.4820543569755658,-0.081768014961797725,72.470742233908098,61.41070958365269,37.987384236471144,30.080739130831933,57.211991441717302,69.14543436085161,54.945818960880551,72.0119317766069,74.397215477747636,-6.3960219433367493,-1.1413538876297211,4.7110830690194732,6.289944590281678,2.2868896596076644,-0.43612609593087109,-4.5866754496428142,0.7894076604459358,6.626642494482069,3.0466192345613812,0.33215779627630665,-1.5449193949609332,-4.5671060668246364,-2.1996384787511363,-3.0835185890440102,-4.9824622327764052,3.3647114590033382,-10.822474914816214,-11.22024050803336,-7.2155386945704008,-3.8743807767415417,-8.6401695612851661,-7.0977594845417986,-9.8416602698825102,-4.2267172735415928,-9.0935587975158683,-9.902378066942358,-9.9078863550614624,-1.5203679551957494,-9.5569680748162327,-10.597089740550347,-3.2499068167562735,-10.118954222436535,-8.7809465139112728,-6.6465613243263437,5.132150076326556,-7.9823921475327184,-3.3322724398261672,-5.1636116715028084,-8.11413669747283,-6.3549312807929654,-8.8152861779091687,-11.382300588442066,7.2767444158834271,-10.809038446434455,-9.9490293542967194,-9.0142463194183655,-6.932613548560048,1.8039842722936896,-10.722071333804513,-9.335786706205619,-6.0363586912501654,-6.0991945125200058,-3.0201731081806491,0.91296165193764534,-0.32820449912863764,-1.434765268549443,-4.8277243834051209,-4.2761950075104256,-1.6468439344242805,5.8358462411827725,4.4278029787872821,-1.1326838261599383,16.271967201106552,-6.7612996965459962,-3.4556195108606036,3.6203341808070255,11.318160686240333,22.635499743882075,2.8495208205742255,30.302841821371562,16.003280609525468,14.234185539540693,1.5849574840017824,9.1611139628044409,2.8050062524846329,17.98524460121417,7.5586287156886671,2.0086791436201645,1.4685508227914241,4.6592573966733388,-0.80880284360216437,6.090505052656912,-5.1256014375734171,-4.106536584288194,-6.6924627320779857,-8.6222253240642264,-8.8859816395196312,-3.5497220531817733,2.788078954550786,-4.3620031341782033,-6.3397656433090015,-8.168152945893203,-5.7424384637166694,6.3045712428915905,-6.5884699258059305,-2.3989266337993893,-7.6674426022126001,4.9818378623394413,9.6535196946367297,9.4212250607138905,15.534082531675482,6.4915154221002735,3.4001617417367642,2.2930994329936065,0.39410457371755586,4.4879357878418658,-0.21142719220794676,17.939018738291693,32.29284901055123,12.205460617066331,-3.2462501258900445,13.692405919232119,24.172424642458591,3.5873125086320896,-1.1058359401597004,10.876570464236963,17.621668620132709,-4.5900273475820832,-5.4479567918448915,-4.1177624098950165,-6.8159246632823498,-6.2054406916655926,1.1575974915473304,18.863463455595738,11.61903310888076,10.153492263731211,37.328092125607419,36.298399258002767,28.634708566559233,6.9242504046351732,27.486397997523788,-0.065950901567348785,-4.1797489950409554,-3.7784872516669563,-4.645446658670779,7.633818155439088,1.2346441160432755,9.8606522575632845,19.869604650737351,-13.990775096521537,-11.688817655491858,-7.3963461963519102,-14.018486417320386,-18.683896814216212,-21.201062779827698,-27.128221541030985,-37.321263601466143,-36.167196052001962,-30.728436990686166]},{"label":"PC4","values":[5.2477792232595259,1.1971298086773348,-9.7046565765745978,-19.213927175805523,-13.575880815245581,-11.120698731637717,1.7502501639421395,21.152229536130921,23.469735596635079,14.057976977898512,19.382428178842506,12.013850355350279,-15.881750011654825,-11.249892551768678,3.1986033628564421,-14.66914497910704,-32.011311958756465,1.5671439078795539,-27.612133712355696,-6.3359878686771021,12.090134681981189,6.4720169838552417,8.0539840469672797,13.363557480073952,9.4954401164186493,3.7399874941848013,6.9981049757839946,5.8208303225586917,9.6841424236813349,5.2266142109696183,9.488025074902886,13.044523179539192,1.5679449600165511,9.911806856433655,10.891301984686988,-6.5851020852090283,-10.873732807054651,-23.610271545330523,-30.601409232120929,21.9886041307158,18.277592472231987,-47.265659005587416,-44.937465387124902,-44.932917825152792,-23.59713204266917,-27.624215050545342,-27.747955270249633,5.6822823925934207,12.330275442244988,-9.3122149646560768,-3.9829383506295315,6.9771608536584182,-19.772590166257565,-19.545067828457633,34.018034031992627,34.278164813133273,37.16885806629589,53.085665414344888,-12.528529096966396,-1.0892237747736884,11.184899076680178,28.460617529241723,12.153265756710926,-3.2148605466220475,3.2300862183476364,21.279781612513851,29.796021681890892,-28.157311911575228,-18.340825744321183,-20.754648299782129,-46.454789350543656,-39.504961699654238,-45.789418478860895,-46.741176286061197,-48.623004067376336,-23.736774338047166,-4.8255325372377404,-23.193760469382248,-18.028963936382343,-29.133204048127137,-9.4058804775564173,14.081473788321372,-10.358567554667211,-1.1626496512818276,-18.556827390814096,-13.357991292514352,-20.367241121589093,-13.06777304943126,5.413264945849587,-9.1653596017824874,-7.4687452065982463,-2.5249831148782351,5.6902653719098408,-10.093698110949928,20.849066410839054,-12.776637874562828,-5.3062302364663827,-0.52091064921571462,-25.329634152220059,-9.3948096820581206,-0.73841687004023504,-6.3696715137355238,1.3131277939486454,3.7770580157281315,5.4340024149612187,9.8603184829658357,6.8791485832511219,2.4287845411530937,9.9733674235504637,6.2923092560196032,-17.254931768213869,-0.73127443838019168,6.5242369715759922,8.1656546247758293,0.68728276297942348,3.3097901653598565,-6.5826287080207795,-0.28754074691152781,-6.2859606808443118,-11.307935719723105,-3.7466855029979742,5.345536334298906,11.141295119460962,13.867977806526804,12.89611441024628,8.2070544685525562,12.926841511387558,8.0736226446377302,9.915135822618014,7.2144019345034778,9.928212960006821,9.1946783326632691,9.4118467912273012,7.7156104447227998,9.1893019309138868,9.5975892668459011,6.4850704269922943,9.5698319511193777,9.4904071142918802,9.4538436915952406,6.68549277620086,11.270923672980727,11.837950771957628,11.96104282266764,10.4223674606062,11.162915659315917,10.795218713125852,9.2124464671888759,8.0110236295524402,8.3070577236790744,9.9261543734459856,11.411179581463676,3.4380543707162388,10.30361074428666,8.7187102001422296,-0.63637123201951218,6.5429167802373511,10.652791640615634,11.433160203272116,11.455486051147092,6.7551395911455323,6.829083307978725,11.638080658553005,8.9315958975568925,6.4555827187329866,6.7997703580306288,10.367405171054937,-2.0825535374589075,8.9390561186952784,8.3995581407259099,7.7174413486095119,9.6502481747241067,6.630348328480002,3.6130676364823975,-6.2935343377577047,-28.903431069626336,-20.012852401880657,-3.2968634548515263,-2.3533397797102826,-10.266771335424423,5.9271129390004598,-7.7162483222509914,11.407658583820242,13.331681504890355,9.5904788728251447,-3.7300646160423665,-12.676060996692131,8.8672149871255765,0.94142847021916642,7.5779604976507304,-3.5251887537814883,2.0987300738555978,-0.52974754291663073,2.8348881484583108,8.3466682861354791,33.418351125753631,32.56924563409892,34.051250367232797,35.416808501581443,30.513925471123269,29.464221544749019,36.405062253903679,22.695711584111898,46.137314906306528,45.342692248599789,-35.720926411321763,-16.273489006594762,-3.1739259221070455,-11.944771438769848,14.405094372941752,9.1900964863234478,7.0928981670764983,-15.363943155041483,-29.107300427717348,-43.075587451779363,-22.777181403342436,-13.975104710725567,4.8126786102057881,10.33247401167268,9.2144373695021233,6.3052887758964173,8.3039489848002823,-0.55805799863393279,1.4942469953023096,0.51915950123190846,3.8311577307592986,5.3480515032779641,0.86875313997108561,-38.682349179765964,-36.692074606138185,-6.8599772439235549,-1.0753006158410741,-2.9078652877527431,-4.3765413404819293,-7.8274749777082082,-11.144729965197516,-1.4818843404936515,-4.4558911688487273,-15.769190288731641,-0.55339926563609354,7.3137557328133571,14.175011597780593,6.3597844143380442,-22.683315682177049,14.48298968769452,10.787133450991691,-11.871230444161244,16.292251747146807,-2.801669228691503,-23.006978192621084,-26.009394356479739,-28.766180075215338,-29.821143493266,-28.027104181886401,30.820456898645553,22.614843611852908,42.248812900353201,22.692138466025913,30.400771444799542,30.068563725337945,18.720808227896867,23.990315673279095,25.592617526030537,26.780245366488426,25.070413135151412,5.9786124255917326,20.530573958283203,10.01795829764869,0.28150450403164179,5.7459838533455798,-6.6896137632992616,-23.224558549098589,3.9324527452179425,0.052695359082675274,2.3697107877834034,8.6689025316079995,12.808799281425332,-0.97131700229740048,1.8217657466363877,-12.2987635350267,8.8821266544621089,-9.1061748208788096,-0.6274014218467534,37.61732096893585,32.517778212655273,12.095358061072035,31.877821127536425,9.7896923085052503,18.920502274526061,4.5123082128045944,29.612774189207293,29.975817299793029,26.750687171896608,-38.425418956518975,-23.16293202379013,-30.120731185634259,-17.425409630813924,-12.962953355667725,14.626641115504048,8.5161205444970527,32.359276769483444,0.82204717281720496,-13.102728641717814,-13.313506011924172,3.196970246272786,13.741772287038227,22.772463069703377,21.502622705540336,2.1113049903303187,-1.5337406067820394,-26.670823649594638,-16.891988250537601,7.2612036377949867,2.3530214070794728,5.4229815897956604,-1.0573268844913397,2.8106370927052731,-4.5256601824157991,-7.4500393611566933,-12.846517919912817,-16.780445750703809,-15.550496312530967,-18.480487713806507,-2.8142069309792999,-24.568930157870611,-40.916242276369971,-31.851730380969695,-22.152254556888469,-36.525204818315686,-41.979877309454402,-32.475258979235981,-5.6952559927281454,-9.1206990767950735,-24.829917483425906,-24.613966212055786,-27.082794351493103,-19.54183403906918,-11.051894602641365,-25.300840387684527,-20.147444447501709,-11.789838574885232,8.7664813458061257,-14.725089295615964,26.344144410163615,8.4839027049727722,-20.605952692942939,-18.169720370625789,31.135072500546965,30.077972476509615,1.6574340477494676,7.8220589457858152,16.132511228864413,4.8428123966011656,43.807610868830558,23.593073182906444,22.068977681599346,4.5697597385703608,0.42446372977488084,-4.4151292221419354,-5.758547395816354,-1.5735508194348231,0.29467588893184549,3.5372780348313082,-1.1865335934287045,-5.1851822161714534,-1.6111037688693834,0.4647458206544901,5.6640151345470322,7.2944597352892568,5.2941906398347252,5.7891851244130068,7.6324878522899589,0.86015536594477182,6.807507807859257,7.1177203882218638,4.9068073721850141,2.0695407741842811,5.4509860116964095,4.2203152488222413,6.2627568632816555,2.7201074380918544,5.6582356338135664,6.1813294025063081,6.2436365560781937,0.60234114785909532,5.2203703300805255,6.7044194721982713,-0.085694746230144891,6.4514984465133702,5.3507977824462287,4.1446007760724664,-4.7283079915175765,4.3132635169901485,1.2310958760893349,2.6811823462794915,5.2303496146850694,3.4369684335031554,5.1281482573582196,6.8563243593491885,-8.2251205095690842,6.4026382047903478,5.9602943218525688,6.0430234731748653,3.6975696653452772,-2.5684032492727593,7.2653133988593952,6.4010024033606552,6.4897092913114856,4.9611646228002764,6.3565705283447098,5.6482983053344062,5.3811750308261344,6.0322673440602275,6.2097675191489552,6.4157474291099543,5.2260525117355803,-0.98112334520561906,-1.1669099771523499,6.3447272341294783,-10.10355164909274,5.9370706797857666,2.7156366877576086,-1.887279389504751,-4.5720712606456377,-14.153742075966541,2.0308058757867813,-21.120294491003953,-8.3296291625876293,-8.9479834885029419,2.2192416282026723,-3.8004254278900698,1.5487816294811139,-11.180997389080025,-2.7341463795762007,1.8416911010151511,1.9637076164850114,0.53372584782713184,5.0712183068983299,-2.2429836940303938,2.3327488509437617,1.5207757839935767,4.525491384006866,6.1998330798424153,6.2088303264774112,3.5780899090457075,1.8058988727567298,3.5194473601735825,3.7856680028978276,5.2914275298681481,4.6818058847767361,-0.011978521667305852,4.7866178383860492,0.80149038174594489,5.735095092019197,1.1726772425886265,-3.7433057802188365,-3.0221594894857939,-7.8625188033646483,-4.7867859350325226,-3.7489372926002051,-0.78835238374263261,-1.4084020294671455,-4.7035242888854345,-0.42267719928392961,-15.87570381139545,-27.260333434837872,-4.7889216389071514,2.6656082920942499,-12.11325535199847,-21.32888561428528,-4.0082936981973774,0.11838719294670176,-9.7007085999981282,-14.219244501079201,2.9829395143581037,4.277869097338308,2.0745583333363355,4.5379034814062145,4.0011696132559518,-1.2829403878383905,-16.386252887821968,-9.9459488005701076,-8.5493125788643436,-32.18580980575873,-31.191541498678376,-24.769825750678518,-6.7735718391912041,-23.910820861021808,0.64551478061586709,3.8598585618250918,3.8724015684959547,4.4528687886868266,-5.1607231326856668,-17.648172047144534,-24.736832811769315,-33.508161144984534,-5.2888675416172983,-7.117427603149288,-10.402008806448714,-5.2714910067192324,-1.3607491748366269,-5.7793501935167697,-1.0204372663906423,8.1880282796395267,7.0185616421448005,1.0843571924690532]}],"marker":{"colorbar":{"title":"Median_Price","ticklen":2},"cmin":5,"cmax":50,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[24,21.600000000000001,34.700000000000003,33.399999999999999,36.200000000000003,28.699999999999999,22.899999999999999,27.100000000000001,16.5,18.899999999999999,15,18.899999999999999,21.699999999999999,20.399999999999999,18.199999999999999,19.899999999999999,23.100000000000001,17.5,20.199999999999999,18.199999999999999,13.6,19.600000000000001,15.199999999999999,14.5,15.6,13.9,16.600000000000001,14.800000000000001,18.399999999999999,21,12.699999999999999,14.5,13.199999999999999,13.1,13.5,18.899999999999999,20,21,24.699999999999999,30.800000000000001,34.899999999999999,26.600000000000001,25.300000000000001,24.699999999999999,21.199999999999999,19.300000000000001,20,16.600000000000001,14.4,19.399999999999999,19.699999999999999,20.5,25,23.399999999999999,18.899999999999999,35.399999999999999,24.699999999999999,31.600000000000001,23.300000000000001,19.600000000000001,18.699999999999999,16,22.199999999999999,25,33,23.5,19.399999999999999,22,17.399999999999999,20.899999999999999,24.199999999999999,21.699999999999999,22.800000000000001,23.399999999999999,24.100000000000001,21.399999999999999,20,20.800000000000001,21.199999999999999,20.300000000000001,28,23.899999999999999,24.800000000000001,22.899999999999999,23.899999999999999,26.600000000000001,22.5,22.199999999999999,23.600000000000001,28.699999999999999,22.600000000000001,22,22.899999999999999,25,20.600000000000001,28.399999999999999,21.399999999999999,38.700000000000003,43.799999999999997,33.200000000000003,27.5,26.5,18.600000000000001,19.300000000000001,20.100000000000001,19.5,19.5,20.399999999999999,19.800000000000001,19.399999999999999,21.699999999999999,22.800000000000001,18.800000000000001,18.699999999999999,18.5,18.300000000000001,21.199999999999999,19.199999999999999,20.399999999999999,19.300000000000001,22,20.300000000000001,20.5,17.300000000000001,18.800000000000001,21.399999999999999,15.699999999999999,16.199999999999999,18,14.300000000000001,19.199999999999999,19.600000000000001,23,18.399999999999999,15.6,18.100000000000001,17.399999999999999,17.100000000000001,13.300000000000001,17.800000000000001,14,14.4,13.4,15.6,11.800000000000001,13.800000000000001,15.6,14.6,17.800000000000001,15.4,21.5,19.600000000000001,15.300000000000001,19.399999999999999,17,15.6,13.1,41.299999999999997,24.300000000000001,23.300000000000001,27,50,50,50,22.699999999999999,25,50,23.800000000000001,23.800000000000001,22.300000000000001,17.399999999999999,19.100000000000001,23.100000000000001,23.600000000000001,22.600000000000001,29.399999999999999,23.199999999999999,24.600000000000001,29.899999999999999,37.200000000000003,39.799999999999997,36.200000000000003,37.899999999999999,32.5,26.399999999999999,29.600000000000001,50,32,29.800000000000001,34.899999999999999,37,30.5,36.399999999999999,31.100000000000001,29.100000000000001,50,33.299999999999997,30.300000000000001,34.600000000000001,34.899999999999999,32.899999999999999,24.100000000000001,42.299999999999997,48.5,50,22.600000000000001,24.399999999999999,22.5,24.399999999999999,20,21.699999999999999,19.300000000000001,22.399999999999999,28.100000000000001,23.699999999999999,25,23.300000000000001,28.699999999999999,21.5,23,26.699999999999999,21.699999999999999,27.5,30.100000000000001,44.799999999999997,50,37.600000000000001,31.600000000000001,46.700000000000003,31.5,24.300000000000001,31.699999999999999,41.700000000000003,48.299999999999997,29,24,25.100000000000001,31.5,23.699999999999999,23.300000000000001,22,20.100000000000001,22.199999999999999,23.699999999999999,17.600000000000001,18.5,24.300000000000001,20.5,24.5,26.199999999999999,24.399999999999999,24.800000000000001,29.600000000000001,42.799999999999997,21.899999999999999,20.899999999999999,44,50,36,30.100000000000001,33.799999999999997,43.100000000000001,48.799999999999997,31,36.5,22.800000000000001,30.699999999999999,50,43.5,20.699999999999999,21.100000000000001,25.199999999999999,24.399999999999999,35.200000000000003,32.399999999999999,32,33.200000000000003,33.100000000000001,29.100000000000001,35.100000000000001,45.399999999999999,35.399999999999999,46,50,32.200000000000003,22,20.100000000000001,23.199999999999999,22.300000000000001,24.800000000000001,28.5,37.299999999999997,27.899999999999999,23.899999999999999,21.699999999999999,28.600000000000001,27.100000000000001,20.300000000000001,22.5,29,24.800000000000001,22,26.399999999999999,33.100000000000001,36.100000000000001,28.399999999999999,33.399999999999999,28.199999999999999,22.800000000000001,20.300000000000001,16.100000000000001,22.100000000000001,19.399999999999999,21.600000000000001,23.800000000000001,16.199999999999999,17.800000000000001,19.800000000000001,23.100000000000001,21,23.800000000000001,23.100000000000001,20.399999999999999,18.5,25,24.600000000000001,23,22.199999999999999,19.300000000000001,22.600000000000001,19.800000000000001,17.100000000000001,19.399999999999999,22.199999999999999,20.699999999999999,21.100000000000001,19.5,18.5,20.600000000000001,19,18.699999999999999,32.700000000000003,16.5,23.899999999999999,31.199999999999999,17.5,17.199999999999999,23.100000000000001,24.5,26.600000000000001,22.899999999999999,24.100000000000001,18.600000000000001,30.100000000000001,18.199999999999999,20.600000000000001,17.800000000000001,21.699999999999999,22.699999999999999,22.600000000000001,25,19.899999999999999,20.800000000000001,16.800000000000001,21.899999999999999,27.5,21.899999999999999,23.100000000000001,50,50,50,50,50,13.800000000000001,13.800000000000001,15,13.9,13.300000000000001,13.1,10.199999999999999,10.4,10.9,11.300000000000001,12.300000000000001,8.8000000000000007,7.2000000000000002,10.5,7.4000000000000004,10.199999999999999,11.5,15.1,23.199999999999999,9.6999999999999993,13.800000000000001,12.699999999999999,13.1,12.5,8.5,5,6.2999999999999998,5.5999999999999996,7.2000000000000002,12.1,8.3000000000000007,8.5,5,11.9,27.899999999999999,17.199999999999999,27.5,15,17.199999999999999,17.899999999999999,16.300000000000001,7,7.2000000000000002,7.5,10.4,8.8000000000000007,8.4000000000000004,16.699999999999999,14.199999999999999,20.800000000000001,13.4,11.699999999999999,8.3000000000000007,10.199999999999999,10.9,11,9.5,14.5,14.1,16.100000000000001,14.300000000000001,11.699999999999999,13.4,9.5999999999999996,8.6999999999999993,8.4000000000000004,12.800000000000001,10.5,17.100000000000001,18.399999999999999,15.4,10.800000000000001,11.800000000000001,14.9,12.6,14.1,13,13.4,15.199999999999999,16.100000000000001,17.800000000000001,14.9,14.1,12.699999999999999,13.5,14.9,20,16.399999999999999,17.699999999999999,19.5,20.199999999999999,21.399999999999999,19.899999999999999,19,19.100000000000001,19.100000000000001,20.100000000000001,19.899999999999999,19.600000000000001,23.199999999999999,29.800000000000001,13.800000000000001,13.300000000000001,16.699999999999999,12,14.6,21.399999999999999,23,23.699999999999999,25,21.800000000000001,20.600000000000001,21.199999999999999,19.100000000000001,20.600000000000001,15.199999999999999,7,8.0999999999999996,13.6,20.100000000000001,21.800000000000001,24.5,23.100000000000001,19.699999999999999,18.300000000000001,21.199999999999999,17.5,16.800000000000001,22.399999999999999,20.600000000000001,23.899999999999999,22,11.9],"size":7,"line":{"colorbar":{"title":"","ticklen":2},"cmin":5,"cmax":50,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[24,21.600000000000001,34.700000000000003,33.399999999999999,36.200000000000003,28.699999999999999,22.899999999999999,27.100000000000001,16.5,18.899999999999999,15,18.899999999999999,21.699999999999999,20.399999999999999,18.199999999999999,19.899999999999999,23.100000000000001,17.5,20.199999999999999,18.199999999999999,13.6,19.600000000000001,15.199999999999999,14.5,15.6,13.9,16.600000000000001,14.800000000000001,18.399999999999999,21,12.699999999999999,14.5,13.199999999999999,13.1,13.5,18.899999999999999,20,21,24.699999999999999,30.800000000000001,34.899999999999999,26.600000000000001,25.300000000000001,24.699999999999999,21.199999999999999,19.300000000000001,20,16.600000000000001,14.4,19.399999999999999,19.699999999999999,20.5,25,23.399999999999999,18.899999999999999,35.399999999999999,24.699999999999999,31.600000000000001,23.300000000000001,19.600000000000001,18.699999999999999,16,22.199999999999999,25,33,23.5,19.399999999999999,22,17.399999999999999,20.899999999999999,24.199999999999999,21.699999999999999,22.800000000000001,23.399999999999999,24.100000000000001,21.399999999999999,20,20.800000000000001,21.199999999999999,20.300000000000001,28,23.899999999999999,24.800000000000001,22.899999999999999,23.899999999999999,26.600000000000001,22.5,22.199999999999999,23.600000000000001,28.699999999999999,22.600000000000001,22,22.899999999999999,25,20.600000000000001,28.399999999999999,21.399999999999999,38.700000000000003,43.799999999999997,33.200000000000003,27.5,26.5,18.600000000000001,19.300000000000001,20.100000000000001,19.5,19.5,20.399999999999999,19.800000000000001,19.399999999999999,21.699999999999999,22.800000000000001,18.800000000000001,18.699999999999999,18.5,18.300000000000001,21.199999999999999,19.199999999999999,20.399999999999999,19.300000000000001,22,20.300000000000001,20.5,17.300000000000001,18.800000000000001,21.399999999999999,15.699999999999999,16.199999999999999,18,14.300000000000001,19.199999999999999,19.600000000000001,23,18.399999999999999,15.6,18.100000000000001,17.399999999999999,17.100000000000001,13.300000000000001,17.800000000000001,14,14.4,13.4,15.6,11.800000000000001,13.800000000000001,15.6,14.6,17.800000000000001,15.4,21.5,19.600000000000001,15.300000000000001,19.399999999999999,17,15.6,13.1,41.299999999999997,24.300000000000001,23.300000000000001,27,50,50,50,22.699999999999999,25,50,23.800000000000001,23.800000000000001,22.300000000000001,17.399999999999999,19.100000000000001,23.100000000000001,23.600000000000001,22.600000000000001,29.399999999999999,23.199999999999999,24.600000000000001,29.899999999999999,37.200000000000003,39.799999999999997,36.200000000000003,37.899999999999999,32.5,26.399999999999999,29.600000000000001,50,32,29.800000000000001,34.899999999999999,37,30.5,36.399999999999999,31.100000000000001,29.100000000000001,50,33.299999999999997,30.300000000000001,34.600000000000001,34.899999999999999,32.899999999999999,24.100000000000001,42.299999999999997,48.5,50,22.600000000000001,24.399999999999999,22.5,24.399999999999999,20,21.699999999999999,19.300000000000001,22.399999999999999,28.100000000000001,23.699999999999999,25,23.300000000000001,28.699999999999999,21.5,23,26.699999999999999,21.699999999999999,27.5,30.100000000000001,44.799999999999997,50,37.600000000000001,31.600000000000001,46.700000000000003,31.5,24.300000000000001,31.699999999999999,41.700000000000003,48.299999999999997,29,24,25.100000000000001,31.5,23.699999999999999,23.300000000000001,22,20.100000000000001,22.199999999999999,23.699999999999999,17.600000000000001,18.5,24.300000000000001,20.5,24.5,26.199999999999999,24.399999999999999,24.800000000000001,29.600000000000001,42.799999999999997,21.899999999999999,20.899999999999999,44,50,36,30.100000000000001,33.799999999999997,43.100000000000001,48.799999999999997,31,36.5,22.800000000000001,30.699999999999999,50,43.5,20.699999999999999,21.100000000000001,25.199999999999999,24.399999999999999,35.200000000000003,32.399999999999999,32,33.200000000000003,33.100000000000001,29.100000000000001,35.100000000000001,45.399999999999999,35.399999999999999,46,50,32.200000000000003,22,20.100000000000001,23.199999999999999,22.300000000000001,24.800000000000001,28.5,37.299999999999997,27.899999999999999,23.899999999999999,21.699999999999999,28.600000000000001,27.100000000000001,20.300000000000001,22.5,29,24.800000000000001,22,26.399999999999999,33.100000000000001,36.100000000000001,28.399999999999999,33.399999999999999,28.199999999999999,22.800000000000001,20.300000000000001,16.100000000000001,22.100000000000001,19.399999999999999,21.600000000000001,23.800000000000001,16.199999999999999,17.800000000000001,19.800000000000001,23.100000000000001,21,23.800000000000001,23.100000000000001,20.399999999999999,18.5,25,24.600000000000001,23,22.199999999999999,19.300000000000001,22.600000000000001,19.800000000000001,17.100000000000001,19.399999999999999,22.199999999999999,20.699999999999999,21.100000000000001,19.5,18.5,20.600000000000001,19,18.699999999999999,32.700000000000003,16.5,23.899999999999999,31.199999999999999,17.5,17.199999999999999,23.100000000000001,24.5,26.600000000000001,22.899999999999999,24.100000000000001,18.600000000000001,30.100000000000001,18.199999999999999,20.600000000000001,17.800000000000001,21.699999999999999,22.699999999999999,22.600000000000001,25,19.899999999999999,20.800000000000001,16.800000000000001,21.899999999999999,27.5,21.899999999999999,23.100000000000001,50,50,50,50,50,13.800000000000001,13.800000000000001,15,13.9,13.300000000000001,13.1,10.199999999999999,10.4,10.9,11.300000000000001,12.300000000000001,8.8000000000000007,7.2000000000000002,10.5,7.4000000000000004,10.199999999999999,11.5,15.1,23.199999999999999,9.6999999999999993,13.800000000000001,12.699999999999999,13.1,12.5,8.5,5,6.2999999999999998,5.5999999999999996,7.2000000000000002,12.1,8.3000000000000007,8.5,5,11.9,27.899999999999999,17.199999999999999,27.5,15,17.199999999999999,17.899999999999999,16.300000000000001,7,7.2000000000000002,7.5,10.4,8.8000000000000007,8.4000000000000004,16.699999999999999,14.199999999999999,20.800000000000001,13.4,11.699999999999999,8.3000000000000007,10.199999999999999,10.9,11,9.5,14.5,14.1,16.100000000000001,14.300000000000001,11.699999999999999,13.4,9.5999999999999996,8.6999999999999993,8.4000000000000004,12.800000000000001,10.5,17.100000000000001,18.399999999999999,15.4,10.800000000000001,11.800000000000001,14.9,12.6,14.1,13,13.4,15.199999999999999,16.100000000000001,17.800000000000001,14.9,14.1,12.699999999999999,13.5,14.9,20,16.399999999999999,17.699999999999999,19.5,20.199999999999999,21.399999999999999,19.899999999999999,19,19.100000000000001,19.100000000000001,20.100000000000001,19.899999999999999,19.600000000000001,23.199999999999999,29.800000000000001,13.800000000000001,13.300000000000001,16.699999999999999,12,14.6,21.399999999999999,23,23.699999999999999,25,21.800000000000001,20.600000000000001,21.199999999999999,19.100000000000001,20.600000000000001,15.199999999999999,7,8.0999999999999996,13.6,20.100000000000001,21.800000000000001,24.5,23.100000000000001,19.699999999999999,18.300000000000001,21.199999999999999,17.5,16.800000000000001,22.399999999999999,20.600000000000001,23.899999999999999,22,11.9]}},"frame":null,"diagonal":{"visible":false}},{"x":[null,null],"y":[null,null],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"Median_Price","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":5,"cmax":50,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[5,50],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null,"diagonal":{"visible":false}}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>2D PCA Scatter Plot</h2>

<p>In the previous examples, you saw how to visualize high-dimensional PCs. In this example, we show you how to simply visualize the first two principal components of a PCA, by reducing a dataset of 4 dimensions to 2D.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">rank.</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC2</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">),</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'color'</span><span class="p">)),</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'#e5ecf6'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinecolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#ffff"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w">
      </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinecolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#ffff"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w">
      </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-8a26ecabd7acd0e0089d" style="width:672px;height:480px;"></div>

<script type="application/json" data-for="htmlwidget-8a26ecabd7acd0e0089d">{"x":{"visdat":{"2e677cb3d5cf":["function () ","plotlyVisDat"]},"cur_data":"2e677cb3d5cf","attrs":{"2e677cb3d5cf":{"x":{},"y":{},"mode":"markers","color":{},"colors":["#636EFA","#EF553B","#00CC96"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"title":{"text":"color"}},"plot_bgcolor":"#e5ecf6","xaxis":{"domain":[0,1],"automargin":true,"title":"0","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"#ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"1","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"#ffff"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[-2.6841256259695352,-2.7141416872943243,-2.8889905690592954,-2.7453428556414088,-2.7287165365545287,-2.2808596328444906,-2.8205377507406078,-2.6261449731466318,-2.8863827317805519,-2.6727557978209524,-2.5069470906518547,-2.6127552309087219,-2.7861092661880162,-3.2238037438656511,-2.6447503899420282,-2.3860390335311319,-2.6235278752244251,-2.6482967062543801,-2.1998203236175784,-2.5879863998787673,-2.3102562152425166,-2.5437052287571551,-3.2159394156486107,-2.3027331822262056,-2.3557540491237714,-2.5066689069258206,-2.4688200731213379,-2.5623199061960147,-2.6395347153845412,-2.6319893872743449,-2.587398476689351,-2.4099324970021736,-2.6488623343499107,-2.5987367491005857,-2.6369268781057977,-2.8662416521186684,-2.6252380498503713,-2.8006841154482203,-2.9805020437819922,-2.5900063139680949,-2.7701024260279006,-2.8493687050431022,-2.997406546594906,-2.4056144850974843,-2.2094892377836781,-2.7144514267577065,-2.5381482589989388,-2.8394621676428491,-2.5430857498303916,-2.7033597823351583],"y":[0.31939724658510144,-0.17700122506478014,-0.14494942608555739,-0.31829897925191603,0.32675451293492036,0.74133044906291556,-0.089461384528568666,0.16338495969832903,-0.578311754186704,-0.11377424587411666,0.64506889864857431,0.014729939161374777,-0.23511200020171835,-0.5113945870063823,1.1787646364375759,1.3380623304006536,0.81067951418125839,0.31184914459335511,0.8728390389622116,0.51356030874927749,0.39134593565389458,0.43299606327902868,0.133468069538526,0.098708854814099661,-0.03728185967738222,-0.14601688049526751,0.13095148943525065,0.36771885743420035,0.31203998023528323,-0.19696122492431448,-0.20431849127413329,0.41092426422957329,0.81336382029696286,1.0931457594493579,-0.121322347865863,0.069364471580080786,0.59937002137942408,0.26864373779798267,-0.48795834442861535,0.22904383682701293,0.26352753374425686,-0.9409605736411969,-0.34192605747160981,0.18887142893026074,0.43666314163918846,-0.25020820418521106,0.50377114446143811,-0.22794556949382763,0.57941002151988985,0.10770608249941191],"mode":"markers","type":"scatter","name":"setosa","marker":{"color":"rgba(99,110,250,1)","line":{"color":"rgba(99,110,250,1)"}},"textfont":{"color":"rgba(99,110,250,1)"},"error_y":{"color":"rgba(99,110,250,1)"},"error_x":{"color":"rgba(99,110,250,1)"},"line":{"color":"rgba(99,110,250,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1.284825688858354,0.93248853231232087,1.4643023219913964,0.1833177199583729,1.0881032577116683,0.64166908425808,1.0950606626324493,-0.74912266982965525,1.044131826053438,-0.0087454040828936954,-0.50784088383532378,0.51169855744759984,0.26497650811204881,0.98493451047089275,-0.17392537168176564,0.92786078094424995,0.66028376169693948,0.2361049933176739,0.94473372801981581,0.045226976298702128,1.1162831773500523,0.35788841799730969,1.2981838753589163,0.92172892244703941,0.71485332591141404,0.90017437317216975,1.332024436722091,1.557802155066073,0.81329064981754395,-0.30558377802430686,-0.068126492068361341,-0.18962247237849972,0.13642871155801722,1.3800264359155134,0.58800644333986596,0.80685831250041473,1.2206908824443554,0.81509523576660226,0.24595767988669479,0.16641321714545915,0.46480028840378157,0.8908151984694519,0.23054802355945769,-0.7045317592446616,0.3569814947010494,0.3319344799450607,0.37621565106667276,0.6425760075543403,-0.90646986494883397,0.29900084187814563],"y":[0.68516047046730955,0.31833363826262961,0.50426281530920503,-0.82795901182063203,0.074590675197716769,-0.41824687156867829,0.28346827006152986,-1.0048909611818955,0.22836189978839622,-0.72308190500483405,-1.2659711905263935,-0.10398123549903991,-0.55003646368047454,-0.12481785412635681,-0.25485420870258896,0.46717949444151136,-0.35296966572384997,-0.33361076682491503,-0.54314555077976623,-0.58383437747186417,-0.084616852194787373,-0.068925031656013491,-0.32778730833391695,-0.18273779362136691,0.14905594436978531,0.32850447383432396,0.24444087601634412,0.26749544731025543,-0.16335030068761575,-0.36826218975458774,-0.70517213179946514,-0.68028676352813322,-0.31403243824923643,-0.4209542873138814,-0.48428741998121788,0.19418231471315156,0.40761959361100797,-0.37203705990950142,-0.26852439662201444,-0.68192672486362638,-0.6707115445117201,-0.034464444368268239,-0.40438584800732486,-1.0122482275317142,-0.50491009333710835,-0.21265468378116933,-0.29321892925141846,0.017738190112416855,-0.75609336659901405,-0.34889780645033552],"mode":"markers","type":"scatter","name":"versicolor","marker":{"color":"rgba(239,85,59,1)","line":{"color":"rgba(239,85,59,1)"}},"textfont":{"color":"rgba(239,85,59,1)"},"error_y":{"color":"rgba(239,85,59,1)"},"error_x":{"color":"rgba(239,85,59,1)"},"line":{"color":"rgba(239,85,59,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.531192727803631,1.415235876703905,2.6166760159956928,1.9715310530434382,2.3500059200446426,3.3970387360532612,0.52123224390977607,2.9325870689936919,2.321228816573381,2.9167509667860756,1.661774153636534,1.8034019529650938,2.1655917960801476,1.3461635794584539,1.5859282238732235,1.9044563747934296,1.9496890593990719,3.4870553642902822,3.7956454220728872,1.3007917126376596,2.4278179130660482,1.1990011054655629,3.4999200389245408,1.3887661316914679,2.2754305038722076,2.6140904738108341,1.2585081605114903,1.2911320591150235,2.1236087227738976,2.3880030160034704,2.8416727781038733,3.2306736614320952,2.1594376424890527,1.444161242329512,1.7812948100451147,3.0764999316871906,2.1442433143020847,1.9050981488140784,1.1693263393415028,2.1076111432572446,2.3141547052356026,1.9222678009026037,1.415235876703905,2.5630133750774786,2.418746182732828,1.9441097945469707,1.52716661481452,1.7643457170444317,1.9009416142184261,1.3901888619479164],"y":[-0.0098491094988011618,-0.57491634754648901,0.34390315134173521,-0.17972790435224476,-0.040260947142530285,0.5508366730280565,-1.1927587270006452,0.35550000297749734,-0.24383150231069003,0.78279194881527958,0.24222840775506779,-0.21563761733355485,0.2162755850740255,-0.7768183473443393,-0.53964071402671832,0.11925069209197341,0.041943259663212148,1.1757393297134309,0.25732297342048038,-0.76114963643506317,0.37819601261705155,-0.60609152775793007,0.4606740989118962,-0.20439932735215041,0.33499060582167828,0.56090135512307882,-0.17970479472274611,-0.11666865117401083,-0.20972947667730213,0.46463980470873734,0.37526916719510417,1.3741650867930491,-0.21727757866904848,-0.1434134104575801,-0.49990168107813593,0.68808567757117667,0.14006420108979073,0.049300526013030962,-0.16499026202310901,0.37228787196079854,0.18365127916901977,0.40920346681606296,-0.57491634754648901,0.27786260292919557,0.30479819785469286,0.18753230280060593,-0.37531698258048801,0.078858854518476448,0.11662795851202444,-0.28266093799054998],"mode":"markers","type":"scatter","name":"virginica","marker":{"color":"rgba(0,204,150,1)","line":{"color":"rgba(0,204,150,1)"}},"textfont":{"color":"rgba(0,204,150,1)"},"error_y":{"color":"rgba(0,204,150,1)"},"error_x":{"color":"rgba(0,204,150,1)"},"line":{"color":"rgba(0,204,150,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>Visualize PCA with scatter3d</h2>

<p>With scatter3d, you can visualize an additional dimension, which let you capture even more variance.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">data</span><span class="p">(</span><span class="s2">"iris"</span><span class="p">)</span><span class="w">

</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">

</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">rank.</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">

</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">

</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">tot_explained_variance_ratio</span><span class="p">)</span><span class="w">

</span><span class="n">tit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Total Explained Variance = 99.48'</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC2</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC3</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_markers</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">12</span><span class="p">)</span><span class="w">


</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tit</span><span class="p">,</span><span class="w">
    </span><span class="n">scene</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">bgcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#e5ecf6"</span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-4691ab41024d59600cea" style="width:672px;height:480px;"></div>

<script type="application/json" data-for="htmlwidget-4691ab41024d59600cea">{"x":{"visdat":{"2e6755543a2":["function () ","plotlyVisDat"]},"cur_data":"2e6755543a2","attrs":{"2e6755543a2":{"x":{},"y":{},"z":{},"color":{},"colors":["#636EFA","#EF553B","#00CC96"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d","mode":"markers","size":12,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Explained Variance = 99.48","scene":{"bgcolor":"#e5ecf6","xaxis":{"title":"PC1"},"yaxis":{"title":"PC2"},"zaxis":{"title":"PC3"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[-2.6841256259695352,-2.7141416872943243,-2.8889905690592954,-2.7453428556414088,-2.7287165365545287,-2.2808596328444906,-2.8205377507406078,-2.6261449731466318,-2.8863827317805519,-2.6727557978209524,-2.5069470906518547,-2.6127552309087219,-2.7861092661880162,-3.2238037438656511,-2.6447503899420282,-2.3860390335311319,-2.6235278752244251,-2.6482967062543801,-2.1998203236175784,-2.5879863998787673,-2.3102562152425166,-2.5437052287571551,-3.2159394156486107,-2.3027331822262056,-2.3557540491237714,-2.5066689069258206,-2.4688200731213379,-2.5623199061960147,-2.6395347153845412,-2.6319893872743449,-2.587398476689351,-2.4099324970021736,-2.6488623343499107,-2.5987367491005857,-2.6369268781057977,-2.8662416521186684,-2.6252380498503713,-2.8006841154482203,-2.9805020437819922,-2.5900063139680949,-2.7701024260279006,-2.8493687050431022,-2.997406546594906,-2.4056144850974843,-2.2094892377836781,-2.7144514267577065,-2.5381482589989388,-2.8394621676428491,-2.5430857498303916,-2.7033597823351583],"y":[0.31939724658510144,-0.17700122506478014,-0.14494942608555739,-0.31829897925191603,0.32675451293492036,0.74133044906291556,-0.089461384528568666,0.16338495969832903,-0.578311754186704,-0.11377424587411666,0.64506889864857431,0.014729939161374777,-0.23511200020171835,-0.5113945870063823,1.1787646364375759,1.3380623304006536,0.81067951418125839,0.31184914459335511,0.8728390389622116,0.51356030874927749,0.39134593565389458,0.43299606327902868,0.133468069538526,0.098708854814099661,-0.03728185967738222,-0.14601688049526751,0.13095148943525065,0.36771885743420035,0.31203998023528323,-0.19696122492431448,-0.20431849127413329,0.41092426422957329,0.81336382029696286,1.0931457594493579,-0.121322347865863,0.069364471580080786,0.59937002137942408,0.26864373779798267,-0.48795834442861535,0.22904383682701293,0.26352753374425686,-0.9409605736411969,-0.34192605747160981,0.18887142893026074,0.43666314163918846,-0.25020820418521106,0.50377114446143811,-0.22794556949382763,0.57941002151988985,0.10770608249941191],"z":[-0.027914827589413632,-0.21046427237824353,0.017900256320890456,0.031559373605681534,0.090079240551201339,0.16867765820910458,0.25789215825561829,-0.021879317886719457,0.020759570264780619,-0.1976327249881461,-0.075318009379120282,0.10215025995659013,-0.20684443044964418,0.061299672457099608,-0.15162752361780971,0.27777690270313532,0.13818322788071918,0.026668315612593984,-0.12030552339473115,0.21366517222471582,-0.2394440432449533,0.20845723241671504,0.29239675074524246,0.039123258742880938,0.12502108270287907,-0.25342004234465726,0.094910576099392061,-0.078494205137924183,-0.1459088957300291,0.0407710790671795,-0.077222989073435416,-0.14552497200513081,0.22566914972011937,0.15781081295821978,-0.14304958178613861,-0.16433230665302542,-0.26835037569393644,0.093699082479800244,0.072927045692692954,-0.080082303017325912,0.077247693161104039,-0.34923037730596579,0.1925092117127101,0.26386794551341575,0.29874274575510867,-0.097678144045629064,0.16670563660480456,0.083726849033593759,-0.017115024248513272,-0.089294008478824433],"type":"scatter3d","mode":"markers","name":"setosa","marker":{"color":"rgba(99,110,250,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(99,110,250,1)"}},"textfont":{"color":"rgba(99,110,250,1)","size":55},"error_y":{"color":"rgba(99,110,250,1)","width":55},"error_x":{"color":"rgba(99,110,250,1)","width":55},"line":{"color":"rgba(99,110,250,1)","width":55},"frame":null},{"x":[1.284825688858354,0.93248853231232087,1.4643023219913964,0.1833177199583729,1.0881032577116683,0.64166908425808,1.0950606626324493,-0.74912266982965525,1.044131826053438,-0.0087454040828936954,-0.50784088383532378,0.51169855744759984,0.26497650811204881,0.98493451047089275,-0.17392537168176564,0.92786078094424995,0.66028376169693948,0.2361049933176739,0.94473372801981581,0.045226976298702128,1.1162831773500523,0.35788841799730969,1.2981838753589163,0.92172892244703941,0.71485332591141404,0.90017437317216975,1.332024436722091,1.557802155066073,0.81329064981754395,-0.30558377802430686,-0.068126492068361341,-0.18962247237849972,0.13642871155801722,1.3800264359155134,0.58800644333986596,0.80685831250041473,1.2206908824443554,0.81509523576660226,0.24595767988669479,0.16641321714545915,0.46480028840378157,0.8908151984694519,0.23054802355945769,-0.7045317592446616,0.3569814947010494,0.3319344799450607,0.37621565106667276,0.6425760075543403,-0.90646986494883397,0.29900084187814563],"y":[0.68516047046730955,0.31833363826262961,0.50426281530920503,-0.82795901182063203,0.074590675197716769,-0.41824687156867829,0.28346827006152986,-1.0048909611818955,0.22836189978839622,-0.72308190500483405,-1.2659711905263935,-0.10398123549903991,-0.55003646368047454,-0.12481785412635681,-0.25485420870258896,0.46717949444151136,-0.35296966572384997,-0.33361076682491503,-0.54314555077976623,-0.58383437747186417,-0.084616852194787373,-0.068925031656013491,-0.32778730833391695,-0.18273779362136691,0.14905594436978531,0.32850447383432396,0.24444087601634412,0.26749544731025543,-0.16335030068761575,-0.36826218975458774,-0.70517213179946514,-0.68028676352813322,-0.31403243824923643,-0.4209542873138814,-0.48428741998121788,0.19418231471315156,0.40761959361100797,-0.37203705990950142,-0.26852439662201444,-0.68192672486362638,-0.6707115445117201,-0.034464444368268239,-0.40438584800732486,-1.0122482275317142,-0.50491009333710835,-0.21265468378116933,-0.29321892925141846,0.017738190112416855,-0.75609336659901405,-0.34889780645033552],"z":[-0.40656802546769399,-0.018014186646239945,-0.33832576498089589,-0.17959139187535453,-0.30775789623478433,0.041076090823956656,0.16981023986057561,0.012302919237596209,-0.41533608475939726,0.28114143117641061,-0.26981718276885164,0.1305477502404867,-0.69414683014441836,-0.062114408322260527,0.090457690725705059,-0.31462097583217202,0.32802752837859583,-0.27116183725106618,-0.49951904648511208,-0.23500210497205515,0.45962099135910461,-0.22985388760895104,-0.34785435225730749,-0.23107177773628423,-0.32180093724447351,-0.31620907371157381,-0.5217027796644188,-0.16492098374357991,0.035424504846160741,-0.31849158062304639,-0.24421381043355372,-0.30642056121765765,-0.1772427660112437,0.016167127520729494,0.44443349863980852,0.38896306309821105,-0.23716700988387537,-0.61472084259182158,0.18836681164619531,-0.060009225855337356,-0.024306855718950981,-0.0099469328943483266,-0.22941024143915595,-0.1056911489030188,0.016617170198266199,0.083204290895677213,0.077996351087676233,-0.20539496698326026,-0.012599647557889398,0.010581660495571268],"type":"scatter3d","mode":"markers","name":"versicolor","marker":{"color":"rgba(239,85,59,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(239,85,59,1)"}},"textfont":{"color":"rgba(239,85,59,1)","size":55},"error_y":{"color":"rgba(239,85,59,1)","width":55},"error_x":{"color":"rgba(239,85,59,1)","width":55},"line":{"color":"rgba(239,85,59,1)","width":55},"frame":null},{"x":[2.531192727803631,1.415235876703905,2.6166760159956928,1.9715310530434382,2.3500059200446426,3.3970387360532612,0.52123224390977607,2.9325870689936919,2.321228816573381,2.9167509667860756,1.661774153636534,1.8034019529650938,2.1655917960801476,1.3461635794584539,1.5859282238732235,1.9044563747934296,1.9496890593990719,3.4870553642902822,3.7956454220728872,1.3007917126376596,2.4278179130660482,1.1990011054655629,3.4999200389245408,1.3887661316914679,2.2754305038722076,2.6140904738108341,1.2585081605114903,1.2911320591150235,2.1236087227738976,2.3880030160034704,2.8416727781038733,3.2306736614320952,2.1594376424890527,1.444161242329512,1.7812948100451147,3.0764999316871906,2.1442433143020847,1.9050981488140784,1.1693263393415028,2.1076111432572446,2.3141547052356026,1.9222678009026037,1.415235876703905,2.5630133750774786,2.418746182732828,1.9441097945469707,1.52716661481452,1.7643457170444317,1.9009416142184261,1.3901888619479164],"y":[-0.0098491094988011618,-0.57491634754648901,0.34390315134173521,-0.17972790435224476,-0.040260947142530285,0.5508366730280565,-1.1927587270006452,0.35550000297749734,-0.24383150231069003,0.78279194881527958,0.24222840775506779,-0.21563761733355485,0.2162755850740255,-0.7768183473443393,-0.53964071402671832,0.11925069209197341,0.041943259663212148,1.1757393297134309,0.25732297342048038,-0.76114963643506317,0.37819601261705155,-0.60609152775793007,0.4606740989118962,-0.20439932735215041,0.33499060582167828,0.56090135512307882,-0.17970479472274611,-0.11666865117401083,-0.20972947667730213,0.46463980470873734,0.37526916719510417,1.3741650867930491,-0.21727757866904848,-0.1434134104575801,-0.49990168107813593,0.68808567757117667,0.14006420108979073,0.049300526013030962,-0.16499026202310901,0.37228787196079854,0.18365127916901977,0.40920346681606296,-0.57491634754648901,0.27786260292919557,0.30479819785469286,0.18753230280060593,-0.37531698258048801,0.078858854518476448,0.11662795851202444,-0.28266093799054998],"z":[0.76016542724589609,0.29632252738796533,-0.11078788321910843,0.10842466246342365,0.28538956318444203,-0.34843755579746699,0.54565929564681381,-0.4202399357679677,-0.34830439493484422,0.42333541768255883,0.24244018972576958,-0.037648168231481781,0.033326641844325822,0.28190288211846576,0.62902932640801146,0.47963981962659125,0.044186167630122633,0.13389487393609831,-0.51376776381780398,-0.3449950383134171,0.21911932430194381,0.51185550869700192,-0.57318224256800232,-0.064522756631267594,0.28615009116915036,-0.20553452435362451,0.045847703927250641,0.2312564626599711,0.15418002392883084,-0.44953019194184946,-0.49889807587076818,-0.11454820547541915,0.20876316713083845,-0.15323388806308944,-0.17287518911341901,-0.33559229243454058,0.73487893672551163,0.16218023577073762,0.28183584020848107,0.027291132141631261,0.32269374717305971,0.11358659579935715,0.29632252738796533,0.29256952459674335,0.50448266397718056,0.17782509063265811,-0.1218981718671809,0.13048163128784876,0.72325156348991781,0.36290964808537646],"type":"scatter3d","mode":"markers","name":"virginica","marker":{"color":"rgba(0,204,150,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(0,204,150,1)"}},"textfont":{"color":"rgba(0,204,150,1)","size":55},"error_y":{"color":"rgba(0,204,150,1)","width":55},"error_x":{"color":"rgba(0,204,150,1)","width":55},"line":{"color":"rgba(0,204,150,1)","width":55},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>Plotting explained variance</h2>

<p>Often, you might be interested in seeing how much variance PCA is able to explain as you increase the number of components, in order to decide how many dimensions to ultimately keep or analyze. This example shows you how to quickly plot the cumulative sum of explained variance for a high-dimensional dataset like <a href="https://rdrr.io/cran/mlbench/man/PimaIndiansDiabetes.html">PimaIndiansDiabetes</a>.</p>

<p>With a higher explained variance, you are able to capture more variability in your dataset, which could potentially lead to better performance when training your model. For a more mathematical explanation, see this <a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">Q&amp;A thread</a>.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">base</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">mlbench</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">PimaIndiansDiabetes</span><span class="p">)</span><span class="w">

</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">PimaIndiansDiabetes</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">diabetes</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="w">
</span><span class="n">explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">cumsum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cumsum</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">cumsum</span><span class="p">,</span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">cumsum</span><span class="p">),</span><span class="w"> </span><span class="m">1</span><span class="p">))</span><span class="w">
</span><span class="n">colnames</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Explained_Variance'</span><span class="p">,</span><span class="s1">'Components'</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Components</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Explained_Variance</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'lines'</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'tozeroy'</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"# Components"</span><span class="p">,</span><span class="w"> </span><span class="n">tickvals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">cumsum</span><span class="p">),</span><span class="w"> </span><span class="m">1</span><span class="p">)),</span><span class="w">
    </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Explained Variance"</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-3fda32b9121226d9843d" style="width:672px;height:480px;"></div>

<script type="application/json" data-for="htmlwidget-3fda32b9121226d9843d">{"x":{"visdat":{"2e6721fc274":["function () ","plotlyVisDat"]},"cur_data":"2e6721fc274","attrs":{"2e6721fc274":{"x":{},"y":{},"mode":"lines","fill":"tozeroy","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"# Components","tickvals":[1,2,3,4,5,6,7,8]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Explained Variance"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":[1,2,3,4,5,6,7,8],"y":[0.88854999999999995,0.95013999999999998,0.97592999999999996,0.9890199999999999,0.9964599999999999,0.99948999999999999,1,1.0000099999999998],"mode":"lines","fill":"tozeroy","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>Visualize Loadings</h2>

<p>It is also possible to visualize loadings using <code>shapes</code>, and use <code>annotations</code> to indicate which feature a certain loading original belong to. Here, we define loadings as:</p>

<p>$$
loadings = eigenvectors \cdot \sqrt{eigenvalues}
$$</p>

<p>For more details about the linear algebra behind eigenvectors and loadings, see this <a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">Q&amp;A thread</a>.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">
</span><span class="n">explained_variance</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"sdev"</span><span class="p">]]</span><span class="w">
</span><span class="n">explained_variance</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">explained_variance</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">]</span><span class="w">
</span><span class="n">comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"rotation"</span><span class="p">]]</span><span class="w">
</span><span class="n">comp</span><span class="p">[,</span><span class="s1">'PC2'</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">comp</span><span class="p">[,</span><span class="s1">'PC2'</span><span class="p">]</span><span class="w">
</span><span class="n">loadings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">comp</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">explained_variance</span><span class="p">)){</span><span class="w">
  </span><span class="n">loadings</span><span class="p">[,</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">comp</span><span class="p">[,</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">explained_variance</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'sepal_length'</span><span class="p">,</span><span class="w"> </span><span class="s1">'sepal_width'</span><span class="p">,</span><span class="w"> </span><span class="s1">'petal_length'</span><span class="p">,</span><span class="w"> </span><span class="s1">'petal_width'</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC2</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">),</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'color'</span><span class="p">)),</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#e5ecf6"</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0"</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="p">))</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">4</span><span class="p">)){</span><span class="w">
  </span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">add_segments</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">xend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">yend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'black'</span><span class="p">),</span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">add_annotations</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="n">ax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">ay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">features</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">xanchor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'center'</span><span class="p">,</span><span class="w"> </span><span class="n">yanchor</span><span class="o">=</span><span class="w"> </span><span class="s1">'bottom'</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-bff293563b7da98a5958" style="width:672px;height:480px;"></div>

<script type="application/json" data-for="htmlwidget-bff293563b7da98a5958">{"x":{"visdat":{"2e6723322e6b":["function () ","plotlyVisDat"]},"cur_data":"2e6723322e6b","attrs":{"2e6723322e6b":{"x":{},"y":{},"mode":"markers","color":{},"colors":["#636EFA","#EF553B","#00CC96"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2e6723322e6b.1":{"x":0,"y":0,"xend":0.74310800226532092,"yend":0.32344628375164058,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false},"2e6723322e6b.2":{"x":0,"y":0,"xend":-0.1738010153134493,"yend":0.35968937171605847,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false},"2e6723322e6b.3":{"x":0,"y":0,"xend":1.761545107254247,"yend":-0.085406187156600213,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false},"2e6723322e6b.4":{"x":0,"y":0,"xend":0.73673892607134117,"yend":-0.037183175305051719,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"title":{"text":"color"}},"plot_bgcolor":"#e5ecf6","xaxis":{"domain":[0,1],"automargin":true,"title":"0"},"yaxis":{"domain":[0,1],"automargin":true,"title":"1"},"annotations":[{"text":"sepal_length","x":0.74310800226532092,"y":0.32344628375164058,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"},{"text":"sepal_width","x":-0.1738010153134493,"y":0.35968937171605847,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"},{"text":"petal_length","x":1.761545107254247,"y":-0.085406187156600213,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"},{"text":"petal_width","x":0.73673892607134117,"y":-0.037183175305051719,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"}],"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[-2.6841256259695352,-2.7141416872943243,-2.8889905690592954,-2.7453428556414088,-2.7287165365545287,-2.2808596328444906,-2.8205377507406078,-2.6261449731466318,-2.8863827317805519,-2.6727557978209524,-2.5069470906518547,-2.6127552309087219,-2.7861092661880162,-3.2238037438656511,-2.6447503899420282,-2.3860390335311319,-2.6235278752244251,-2.6482967062543801,-2.1998203236175784,-2.5879863998787673,-2.3102562152425166,-2.5437052287571551,-3.2159394156486107,-2.3027331822262056,-2.3557540491237714,-2.5066689069258206,-2.4688200731213379,-2.5623199061960147,-2.6395347153845412,-2.6319893872743449,-2.587398476689351,-2.4099324970021736,-2.6488623343499107,-2.5987367491005857,-2.6369268781057977,-2.8662416521186684,-2.6252380498503713,-2.8006841154482203,-2.9805020437819922,-2.5900063139680949,-2.7701024260279006,-2.8493687050431022,-2.997406546594906,-2.4056144850974843,-2.2094892377836781,-2.7144514267577065,-2.5381482589989388,-2.8394621676428491,-2.5430857498303916,-2.7033597823351583],"y":[0.31939724658510144,-0.17700122506478014,-0.14494942608555739,-0.31829897925191603,0.32675451293492036,0.74133044906291556,-0.089461384528568666,0.16338495969832903,-0.578311754186704,-0.11377424587411666,0.64506889864857431,0.014729939161374777,-0.23511200020171835,-0.5113945870063823,1.1787646364375759,1.3380623304006536,0.81067951418125839,0.31184914459335511,0.8728390389622116,0.51356030874927749,0.39134593565389458,0.43299606327902868,0.133468069538526,0.098708854814099661,-0.03728185967738222,-0.14601688049526751,0.13095148943525065,0.36771885743420035,0.31203998023528323,-0.19696122492431448,-0.20431849127413329,0.41092426422957329,0.81336382029696286,1.0931457594493579,-0.121322347865863,0.069364471580080786,0.59937002137942408,0.26864373779798267,-0.48795834442861535,0.22904383682701293,0.26352753374425686,-0.9409605736411969,-0.34192605747160981,0.18887142893026074,0.43666314163918846,-0.25020820418521106,0.50377114446143811,-0.22794556949382763,0.57941002151988985,0.10770608249941191],"mode":"markers","type":"scatter","name":"setosa","marker":{"color":"rgba(99,110,250,1)","line":{"color":"rgba(99,110,250,1)"}},"textfont":{"color":"rgba(99,110,250,1)"},"error_y":{"color":"rgba(99,110,250,1)"},"error_x":{"color":"rgba(99,110,250,1)"},"line":{"color":"rgba(99,110,250,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1.284825688858354,0.93248853231232087,1.4643023219913964,0.1833177199583729,1.0881032577116683,0.64166908425808,1.0950606626324493,-0.74912266982965525,1.044131826053438,-0.0087454040828936954,-0.50784088383532378,0.51169855744759984,0.26497650811204881,0.98493451047089275,-0.17392537168176564,0.92786078094424995,0.66028376169693948,0.2361049933176739,0.94473372801981581,0.045226976298702128,1.1162831773500523,0.35788841799730969,1.2981838753589163,0.92172892244703941,0.71485332591141404,0.90017437317216975,1.332024436722091,1.557802155066073,0.81329064981754395,-0.30558377802430686,-0.068126492068361341,-0.18962247237849972,0.13642871155801722,1.3800264359155134,0.58800644333986596,0.80685831250041473,1.2206908824443554,0.81509523576660226,0.24595767988669479,0.16641321714545915,0.46480028840378157,0.8908151984694519,0.23054802355945769,-0.7045317592446616,0.3569814947010494,0.3319344799450607,0.37621565106667276,0.6425760075543403,-0.90646986494883397,0.29900084187814563],"y":[0.68516047046730955,0.31833363826262961,0.50426281530920503,-0.82795901182063203,0.074590675197716769,-0.41824687156867829,0.28346827006152986,-1.0048909611818955,0.22836189978839622,-0.72308190500483405,-1.2659711905263935,-0.10398123549903991,-0.55003646368047454,-0.12481785412635681,-0.25485420870258896,0.46717949444151136,-0.35296966572384997,-0.33361076682491503,-0.54314555077976623,-0.58383437747186417,-0.084616852194787373,-0.068925031656013491,-0.32778730833391695,-0.18273779362136691,0.14905594436978531,0.32850447383432396,0.24444087601634412,0.26749544731025543,-0.16335030068761575,-0.36826218975458774,-0.70517213179946514,-0.68028676352813322,-0.31403243824923643,-0.4209542873138814,-0.48428741998121788,0.19418231471315156,0.40761959361100797,-0.37203705990950142,-0.26852439662201444,-0.68192672486362638,-0.6707115445117201,-0.034464444368268239,-0.40438584800732486,-1.0122482275317142,-0.50491009333710835,-0.21265468378116933,-0.29321892925141846,0.017738190112416855,-0.75609336659901405,-0.34889780645033552],"mode":"markers","type":"scatter","name":"versicolor","marker":{"color":"rgba(239,85,59,1)","line":{"color":"rgba(239,85,59,1)"}},"textfont":{"color":"rgba(239,85,59,1)"},"error_y":{"color":"rgba(239,85,59,1)"},"error_x":{"color":"rgba(239,85,59,1)"},"line":{"color":"rgba(239,85,59,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.531192727803631,1.415235876703905,2.6166760159956928,1.9715310530434382,2.3500059200446426,3.3970387360532612,0.52123224390977607,2.9325870689936919,2.321228816573381,2.9167509667860756,1.661774153636534,1.8034019529650938,2.1655917960801476,1.3461635794584539,1.5859282238732235,1.9044563747934296,1.9496890593990719,3.4870553642902822,3.7956454220728872,1.3007917126376596,2.4278179130660482,1.1990011054655629,3.4999200389245408,1.3887661316914679,2.2754305038722076,2.6140904738108341,1.2585081605114903,1.2911320591150235,2.1236087227738976,2.3880030160034704,2.8416727781038733,3.2306736614320952,2.1594376424890527,1.444161242329512,1.7812948100451147,3.0764999316871906,2.1442433143020847,1.9050981488140784,1.1693263393415028,2.1076111432572446,2.3141547052356026,1.9222678009026037,1.415235876703905,2.5630133750774786,2.418746182732828,1.9441097945469707,1.52716661481452,1.7643457170444317,1.9009416142184261,1.3901888619479164],"y":[-0.0098491094988011618,-0.57491634754648901,0.34390315134173521,-0.17972790435224476,-0.040260947142530285,0.5508366730280565,-1.1927587270006452,0.35550000297749734,-0.24383150231069003,0.78279194881527958,0.24222840775506779,-0.21563761733355485,0.2162755850740255,-0.7768183473443393,-0.53964071402671832,0.11925069209197341,0.041943259663212148,1.1757393297134309,0.25732297342048038,-0.76114963643506317,0.37819601261705155,-0.60609152775793007,0.4606740989118962,-0.20439932735215041,0.33499060582167828,0.56090135512307882,-0.17970479472274611,-0.11666865117401083,-0.20972947667730213,0.46463980470873734,0.37526916719510417,1.3741650867930491,-0.21727757866904848,-0.1434134104575801,-0.49990168107813593,0.68808567757117667,0.14006420108979073,0.049300526013030962,-0.16499026202310901,0.37228787196079854,0.18365127916901977,0.40920346681606296,-0.57491634754648901,0.27786260292919557,0.30479819785469286,0.18753230280060593,-0.37531698258048801,0.078858854518476448,0.11662795851202444,-0.28266093799054998],"mode":"markers","type":"scatter","name":"virginica","marker":{"color":"rgba(0,204,150,1)","line":{"color":"rgba(0,204,150,1)"}},"textfont":{"color":"rgba(0,204,150,1)"},"error_y":{"color":"rgba(0,204,150,1)"},"error_x":{"color":"rgba(0,204,150,1)"},"line":{"color":"rgba(0,204,150,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,0.74310800226532092],"y":[0,0.32344628375164058],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,-0.1738010153134493],"y":[0,0.35968937171605847],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1.761545107254247],"y":[0,-0.085406187156600213],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,0.73673892607134117],"y":[0,-0.037183175305051719],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>References</h2>

<p>Learn more about <code>scatter3d</code>, and <code>splom</code> here:</p>

<ul>
<li><p>https://plot.ly/r/3d-scatter-plots/</p></li>
<li><p>https://plot.ly/r/splom/</p></li>
</ul>

<p>The following resources offer an in-depth overview of PCA and explained variance:</p>

<ul>
<li><p>https://en.wikipedia.org/wiki/Explained_variation</p></li>
<li><p>https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579</p></li>
<li><p>https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another</p></li>
<li><p>https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained</p></li>
</ul>

<h3>What About Dash?</h3>

<p><a href="https://dashr.plot.ly/">Dash for R</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. </p>

<p>Learn about how to install Dash for R at https://dashr.plot.ly/installation.</p>

<p>Everywhere in this page that you see <code>fig</code>, you can display the same figure in a Dash for R application by passing it to the <code>figure</code> argument of the <a href="https://dashr.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dashCoreComponents</code> package like this:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> 
</span><span class="c1"># fig &lt;- fig %&gt;% add_trace( ... )</span><span class="w">
</span><span class="c1"># fig &lt;- fig %&gt;% layout( ... ) </span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashCoreComponents</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashHtmlComponents</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Dash</span><span class="o">$</span><span class="n">new</span><span class="p">()</span><span class="w">
</span><span class="n">app</span><span class="o">$</span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">htmlDiv</span><span class="p">(</span><span class="w">
        </span><span class="nf">list</span><span class="p">(</span><span class="w">
            </span><span class="n">dccGraph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span><span class="w"> 
        </span><span class="p">)</span><span class="w">
     </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="o">$</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">dev_tools_hot_reload</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>

        </section>

        

        <!--End Plotly Basics Section-->
      </section>


    </div>
  </main>


  <script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $("#nav_header_insertion_list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>



  <footer class="--footer-main">
  <section class="--footer-top">
    <div class="--wrap">
      <ul class="--footer-body">
        <li class="--footer-column">
          <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
          <ul>
            &#x9;&#x9;&#x9;&#x9;
            <li>
              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly — from Dash Club to product
                updates, webinars, and more!</p>
              <a href="https://go.plot.ly/subscription" class="subscribe-button" target="_blank">
                Subscribe
              </a>
            </li>
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
            &#x9;&#x9;&#x9;&#x9;
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
            &#x9;&#x9;&#x9;&#x9;
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://plotly.com/careers" target="_self">Careers</a></li>
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
            &#x9;&#x9;&#x9;&#x9;
          </ul>
        </li>
        &#x9;&#x9;
        <li class="--footer-column">
          <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
          <ul>
            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
            &#x9;&#x9;&#x9;&#x9;
            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
            &#x9;&#x9;&#x9;&#x9;
          </ul>
        </li>
      </ul>
    </div>
  </section>
  <section class="--footer-meta">
    <div class="--wrap">
      <div class="left">
        <article class="--copyright">Copyright &copy; 2024 Plotly. All rights reserved.</article>
      </div>
      <div class="right">
        <article class="--tos"><a href="https://community.plotly.com/tos" target="_blank">Terms of Service</a>
        </article>
        <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
        </article>
      </div>
    </div>
    <div id="markprompt" />
  </section>
</footer>



<div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder="" />
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  window.plotly_doc_language = "r";

</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'r_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }

</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

<!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
<!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
<script src="/all_static/javascripts/improve.js?version=2024-08-29-19-03"></script>
<!-- code highlighting -->

<!--<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
<script src="/all_static/javascripts/highlight.line-numbers.js"></script>-->
<script src="/all_static/javascripts/highlight/highlight.min.js"></script>
<script src="/all_static/javascripts/highlight/julia.min.js"></script>
<script src="/all_static/javascripts/highlight.line-numbers.js"></script>








</body>

</html>
