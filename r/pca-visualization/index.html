<!DOCTYPE html>
<html>

<head>
      <!-- This page was last built at 2021-08-18 03:54 -->

      <meta charset="utf-8"/>

      <link rel="canonical" href="https://plotly.com/r/pca-visualization/"/>

      <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
      <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

      
        
        <!-- code highlighting -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        

        <!-- Mathjax -->
        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>

        

        
        <!-- Plotly.js hardcoded to 1.x due to Plotly.plot() -->
        <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
          <script src="/all_static/r_files/r_dependencies.js"></script>
        
      
      <!--
      //// Stylesheets
      -->

      <!-- Fonts -->
      <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css"/>

      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

      <!-- Main Stylesheets -->
      <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=../all_sta">

      <!-- LOCAL DEV STYLESHEET -->
      <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

      <!-- Icon -->
      <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

      <!-- Google Tags-->
      <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



    <!-- META TAGS -->
    <!-- SEO Tags - title, meta_description -->
<title>PCA Visualization | R | Plotly  </title>
<meta name="description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in R with Plotly.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="PCA Visualization"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta property="og:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in R with Plotly."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="PCA Visualization"/>
    <meta name="twitter:url" content="https://plotly.com/r/pca-visualization/"/>
    <meta name="twitter:description" content="Visualize Principle Component Analysis (PCA) of your high-dimensional data in R with Plotly."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/ml-pca.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div class="header-container">
    <div id="campaign-zero-banner">
        ‚úäüèø Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july" style="color:deeppink">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/r">R</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/r/#ai-ml">Artificial Intelligence and Machine Learning</a>

                        

                        
                        &gt;<a href="#">PCA Visualization</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li><a style="font-family: verdana, tahoma, open sans, sans-serif; font-size: 14px; font-weight: bold;" href="https://plotly.com/get-pricing/">PRICING</a></li>
                        <li><a href="https://plotly.com/get-demo" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">GET DEMO</a></li>
                            <li><a href="http://plotly.cloud" data-mode="1" target="_blank" id="teal-background" class="typeform-share button --enterprise-quaternary"
                                style="font-family: verdana, tahoma, open sans, sans-serif;">DASH CLOUD</a></li>
                            
<iframe src="https://ghbtns.com/github-btn.html?user=ropensci&repo=plotly&type=star&count=true&size=large" style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>
                   
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


<main class="--page page--single --index">

	<div class="--wrap">
		<!-- aside - Main Sidebar-->
		<aside class="--sidebar-container">
			<div class="--sidebar-fixed reference" data-spy="affix" id="where">
				
                        <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
                            <input id="modal-input" style="border-radius: 5px; width: 100%;"  type="text" placeholder="   Search..." readonly/>
                          </button>
                    
				<header class="--sidebar-header">On This Page</header>
				<nav class="--sidebar-body watch"   id="where">
		  <ul class="--sidebar-list"></ul>


				</nav>
			</div>
		</aside>
		<!-- Main-->
		<section class="--page-body --tutorial-index --base">
			<header class="--welcome">
				<div class="--welcome-body">
					<!--div.--wrap-inner-->
					<div class="--title">
						<div class="--body">
							<div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                
                <a id="forklink" href= "https://github.com/plotly/plotly.r-docs/edit/master/r/2021-07-27-ml-pca.Rmd" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>

							
							<h1>
								PCA Visualization
								
								in R
								
							</h1>
							<p>Visualize Principle Component Analysis (PCA) of your high-dimensional data in R with Plotly. </p>
							<br>

							
							


<div class="dash-plug">
  <p>Write, deploy, & scale Dash apps and R data visualizations on a Kubernetes Dash Enterprise cluster.
    <br>
    <a href="https://plotly.com/get-pricing/" class="plotly-red">Get Pricing</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/get-demo/" class="plotly-red">Demo Dash Enterprise</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/dash/" class="plotly-red">Dash Enterprise Overview</a>
  </p>
</div>
<br>





<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/r/is-plotly-free/">free and open-source</a> graphing library for R. We recommend you read our <a href="/r/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/r/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/r/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>



						</div>
					</div>
				</div>
			</header>

			<!-- Start Plotly Basics Section -->
			<section class="tutorial-content">

				






				<h2>PCA Visualization in Python</h2>

<p>Visualize Principle Component Analysis (PCA) of your high-dimensional data in R with Plotly.</p>

<p>This page first shows how to visualize higher dimension data using various Plotly figures combined with dimensionality reduction (aka projection). Then, we dive into the specific details of our projection algorithm.</p>

<p>We will use <a href="https://www.tidymodels.org/">Tidymodels</a> or <a href="https://cran.r-project.org/web/packages/caret/vignettes/caret.html#">Caret</a> to load one of the datasets, and apply dimensionality reduction. Tidymodels is a popular Machine Learning (ML) library that offers various tools for creating and training ML algorithms, feature engineering, data cleaning, and evaluating and testing models.</p>

<h2>High-dimensional PCA Analysis with  <code>splom</code></h2>

<p>The dimensionality reduction technique we will be using is called the <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/prcomp">Principal Component Analysis (PCA)</a>. It is a powerful technique that arises from linear algebra and probability theory. In essence, it computes a matrix that represents the variation of your data (<a href="https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues#:%7E:text=As%20it%20is%20a%20square%20symmetric%20matrix%2C%20it%20can%20be%20diagonalized%20by%20choosing%20a%20new%20orthogonal%20coordinate%20system%2C%20given%20by%20its%20eigenvectors%20(incidentally%2C%20this%20is%20called%20spectral%20theorem)%3B%20corresponding%20eigenvalues%20will%20then%20be%20located%20on%20the%20diagonal.%20In%20this%20new%20coordinate%20system%2C%20the%20covariance%20matrix%20is%20diagonal%20and%20looks%20like%20that%3A">covariance matrix/eigenvectors</a>), and rank them by their relevance (explained variance/eigenvalues).</p>

<h3>Visualize all the original dimensions</h3>

<p>First, let&#39;s plot all the features and see how the <code>species</code> in the Iris dataset are grouped. In a <a href="https://plot.ly/r/splom/">Scatter Plot Matrix (splom)</a>, each subplot displays a feature against another, so if we have $N$ features we have a $N \times N$ matrix.</p>

<p>In our example, we are plotting all 4 features from the Iris dataset, thus we can see how <code>sepal_width</code> is compared against <code>sepal_length</code>, then against <code>petal_width</code>, and so forth. Keep in mind how some pairs of features can more easily separate different species.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">

</span><span class="n">axis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">zeroline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w">
            </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w">
            </span><span class="n">titlefont</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="m">13</span><span class="p">))</span><span class="w">


</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">iris</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">plot_ly</span><span class="p">()</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_trace</span><span class="p">(</span><span class="w">
    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'splom'</span><span class="p">,</span><span class="w">
    </span><span class="n">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'sepal length'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Sepal.Length</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'sepal width'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Sepal.Width</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'petal length'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Petal.Length</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'petal width'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">Petal.Width</span><span class="p">)</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w">
      </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
        </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
        </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'rgb(230,230,230)'</span><span class="w">
      </span><span class="p">)</span><span class="w">
    </span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">style</span><span class="p">(</span><span class="n">diagonal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">hovermode</span><span class="o">=</span><span class="s1">'closest'</span><span class="p">,</span><span class="w">
    </span><span class="n">dragmode</span><span class="o">=</span><span class="w"> </span><span class="s1">'select'</span><span class="p">,</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'rgba(240,240,240, 0.95)'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">xaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis4</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis4</span><span class="o">=</span><span class="n">axis</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-441fba2aeae941ce9798" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-441fba2aeae941ce9798">{"x":{"visdat":{"3e255aab8b4":["function () ","plotlyVisDat"]},"cur_data":"3e255aab8b4","attrs":{"3e255aab8b4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"splom","dimensions":[{"label":"sepal length","values":{}},{"label":"sepal width","values":{}},{"label":"petal length","values":{}},{"label":"petal width","values":{}}],"color":{},"colors":["#636EFA","#EF553B","#00CC96"],"marker":{"size":7,"line":{"width":1,"color":"rgb(230,230,230)"}},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"dragmode":"select","plot_bgcolor":"rgba(240,240,240, 0.95)","xaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"splom","dimensions":[{"label":"sepal length","values":[5.1,4.9,4.7,4.6,5,5.4,4.6,5,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5,5,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5,5.5,4.9,4.4,5.1,5,4.5,4.4,5,5.1,4.8,5.1,4.6,5.3,5]},{"label":"sepal width","values":[3.5,3,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3,3,4,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3,3.4,3.5,2.3,3.2,3.5,3.8,3,3.8,3.2,3.7,3.3]},{"label":"petal length","values":[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.3,1.4,1.3,1.5,1.3,1.3,1.3,1.6,1.9,1.4,1.6,1.4,1.5,1.4]},{"label":"petal width","values":[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.2,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.2,0.1,0.2,0.2,0.3,0.3,0.2,0.6,0.4,0.3,0.2,0.2,0.2,0.2]}],"marker":{"color":"rgba(99,110,250,1)","size":7,"line":{"color":"rgb(230,230,230)","width":1}},"name":"setosa","frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"sepal length","values":[7,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5,5.9,6,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6,5.7,5.5,5.5,5.8,6,5.4,6,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5,5.6,5.7,5.7,6.2,5.1,5.7]},{"label":"sepal width","values":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2,3,2.2,2.9,2.9,3.1,3,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3,2.8,3,2.9,2.6,2.4,2.4,2.7,2.7,3,3.4,3.1,2.3,3,2.5,2.6,3,2.6,2.3,2.7,3,2.9,2.9,2.5,2.8]},{"label":"petal length","values":[4.7,4.5,4.9,4,4.6,4.5,4.7,3.3,4.6,3.9,3.5,4.2,4,4.7,3.6,4.4,4.5,4.1,4.5,3.9,4.8,4,4.9,4.7,4.3,4.4,4.8,5,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.5,4.7,4.4,4.1,4,4.4,4.6,4,3.3,4.2,4.2,4.2,4.3,3,4.1]},{"label":"petal width","values":[1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3]}],"marker":{"color":"rgba(239,85,59,1)","size":7,"line":{"color":"rgb(230,230,230)","width":1}},"name":"versicolor","frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"sepal length","values":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9]},{"label":"sepal width","values":[3.3,2.7,3,2.9,3,3,2.5,2.9,2.5,3.6,3.2,2.7,3,2.5,2.8,3.2,3,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3,2.8,3,2.8,3.8,2.8,2.8,2.6,3,3.4,3.1,3,3.1,3.1,3.1,2.7,3.2,3.3,3,2.5,3,3.4,3]},{"label":"petal length","values":[6,5.1,5.9,5.6,5.8,6.6,4.5,6.3,5.8,6.1,5.1,5.3,5.5,5,5.1,5.3,5.5,6.7,6.9,5,5.7,4.9,6.7,4.9,5.7,6,4.8,4.9,5.6,5.8,6.1,6.4,5.6,5.1,5.6,6.1,5.6,5.5,4.8,5.4,5.6,5.1,5.1,5.9,5.7,5.2,5,5.2,5.4,5.1]},{"label":"petal width","values":[2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8]}],"marker":{"color":"rgba(0,204,150,1)","size":7,"line":{"color":"rgb(230,230,230)","width":1}},"name":"virginica","frame":null,"diagonal":{"visible":false}}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Visualize all the principal components</h3>

<p>Now, we apply <code>PCA</code> to the same dataset, and retrieve <strong>all</strong> the components. We use the same <code>splom</code> trace to display our results, but this time our features are the resulting <em>principal components</em>, ordered by how much variance they are able to explain.</p>

<p>The importance of explained variance is demonstrated in the example below. The subplot between PC3 and PC4 is clearly unable to separate each class, whereas the subplot between PC1 and PC2 shows a clear separation between each species.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="w">
</span><span class="n">explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">explained_variance_ratio</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">

</span><span class="n">axis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">zeroline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w">
            </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w">
            </span><span class="n">titlefont</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="m">13</span><span class="p">))</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">components</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">plot_ly</span><span class="p">()</span><span class="w">  </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_trace</span><span class="p">(</span><span class="w">
    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'splom'</span><span class="p">,</span><span class="w">
    </span><span class="n">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 1 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC1</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 2 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">2</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC2</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 3 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">3</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC3</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s1">'PC 4 ('</span><span class="p">,</span><span class="n">toString</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">[</span><span class="m">4</span><span class="p">],</span><span class="m">1</span><span class="p">)),</span><span class="s1">'%)'</span><span class="p">,</span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC4</span><span class="p">)</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">style</span><span class="p">(</span><span class="n">diagonal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'color'</span><span class="p">)),</span><span class="w">
    </span><span class="n">hovermode</span><span class="o">=</span><span class="s1">'closest'</span><span class="p">,</span><span class="w">
    </span><span class="n">dragmode</span><span class="o">=</span><span class="w"> </span><span class="s1">'select'</span><span class="p">,</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'rgba(240,240,240, 0.95)'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">xaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis4</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis4</span><span class="o">=</span><span class="n">axis</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-0384741fb6de764982e6" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-0384741fb6de764982e6">{"x":{"visdat":{"3e25d4e8301":["function () ","plotlyVisDat"]},"cur_data":"3e25d4e8301","attrs":{"3e25d4e8301":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":{}},{"label":"PC 2 (5.3%)","values":{}},{"label":"PC 3 (1.7%)","values":{}},{"label":"PC 4 (0.5%)","values":{}}],"color":{},"colors":["#636EFA","#EF553B","#00CC96"],"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"legend":{"title":{"text":"color"}},"dragmode":"select","plot_bgcolor":"rgba(240,240,240, 0.95)","xaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis":{"domain":[],"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"xaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}},"yaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4,"titlefont":{"size":13}}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":[-2.68412562596953,-2.71414168729432,-2.88899056905929,-2.74534285564141,-2.72871653655453,-2.28085963284449,-2.82053775074061,-2.62614497314663,-2.88638273178055,-2.67275579782095,-2.50694709065185,-2.61275523090872,-2.78610926618802,-3.22380374386565,-2.64475038994203,-2.38603903353113,-2.62352787522442,-2.64829670625438,-2.19982032361758,-2.58798639987877,-2.31025621524252,-2.54370522875715,-3.21593941564861,-2.30273318222621,-2.35575404912377,-2.50666890692582,-2.46882007312134,-2.56231990619601,-2.63953471538454,-2.63198938727434,-2.58739847668935,-2.40993249700217,-2.64886233434991,-2.59873674910058,-2.6369268781058,-2.86624165211867,-2.62523804985037,-2.80068411544822,-2.98050204378199,-2.59000631396809,-2.7701024260279,-2.8493687050431,-2.99740654659491,-2.40561448509748,-2.20948923778368,-2.71445142675771,-2.53814825899894,-2.83946216764285,-2.54308574983039,-2.70335978233516]},{"label":"PC 2 (5.3%)","values":[0.319397246585101,-0.17700122506478,-0.144949426085557,-0.318298979251916,0.32675451293492,0.741330449062915,-0.0894613845285689,0.163384959698329,-0.578311754186704,-0.113774245874117,0.645068898648574,0.0147299391613746,-0.235112000201718,-0.511394587006383,1.17876463643758,1.33806233040065,0.810679514181258,0.311849144593355,0.872839038962211,0.513560308749277,0.391345935653894,0.432996063279028,0.133468069538526,0.0987088548140995,-0.0372818596773824,-0.146016880495268,0.13095148943525,0.3677188574342,0.312039980235283,-0.196961224924315,-0.204318491274133,0.410924264229573,0.813363820296962,1.09314575944936,-0.121322347865863,0.0693644715800805,0.599370021379424,0.268643737797982,-0.487958344428615,0.229043836827013,0.263527533744256,-0.940960573641197,-0.34192605747161,0.18887142893026,0.436663141639188,-0.250208204185211,0.503771144461438,-0.227945569493828,0.579410021519889,0.107706082499412]},{"label":"PC 3 (1.7%)","values":[-0.0279148275894133,-0.210464272378243,0.0179002563208909,0.0315593736056818,0.0900792405512017,0.168677658209105,0.257892158255619,-0.0218793178867192,0.0207595702647811,-0.197632724988146,-0.0753180093791198,0.10215025995659,-0.206844430449644,0.0612996724571,-0.151627523617809,0.277776902703135,0.138183227880719,0.0266683156125943,-0.120305523394731,0.213665172224716,-0.239444043244953,0.208457232416715,0.292396750745243,0.0391232587428813,0.125021082702879,-0.253420042344657,0.0949105760993922,-0.0784942051379239,-0.145908895730029,0.0407710790671798,-0.077222989073435,-0.14552497200513,0.22566914972012,0.15781081295822,-0.143049581786138,-0.164332306653025,-0.268350375693936,0.0936990824798006,0.0729270456926933,-0.0800823030173256,0.0772476931611043,-0.349230377305965,0.19250921171271,0.263867945513416,0.298742745755109,-0.0976781440456286,0.166705636604805,0.0837268490335941,-0.017115024248513,-0.0892940084788241]},{"label":"PC 4 (0.5%)","values":[0.00226243707131672,0.0990265503235862,0.0199683897090287,-0.0755758166136831,-0.0612585925856937,-0.0242008575695233,-0.0481431064876536,-0.0452978705519313,-0.0267447357617887,-0.0562954012688946,-0.0150199244901797,-0.15637920783219,-0.00788791149321592,-0.0216798118468135,0.159209717669962,0.00655154586753182,0.167734737228331,0.0776281795977214,0.0270518681418778,-0.0662726502015807,-0.0150707907892679,0.0410654026914366,0.00448212505056959,0.148352589285366,-0.30033090393058,0.0346074722150567,0.0574497158014143,-0.0141727423377491,0.0657834667283273,-0.123983306389362,-0.0604622767323515,0.231628491662468,-0.281372347063831,-0.0953488583333832,0.0190703412575099,0.162598446279685,0.176441212932371,-0.168173054402496,-0.0107331474289381,-0.0137491512615338,0.0940633590067874,0.319987486954154,-0.0746777681621639,0.17620889048761,-0.18284250247303,0.142843573559593,-0.189622291427449,-0.0595642282808326,-0.0465686437805774,0.0346583385141451]}],"name":"setosa","marker":{"color":"rgba(99,110,250,1)","line":{"color":"rgba(99,110,250,1)"}},"frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":[1.28482568885835,0.932488532312321,1.4643023219914,0.183317719958373,1.08810325771167,0.64166908425808,1.09506066263245,-0.749122669829655,1.04413182605344,-0.00874540408289369,-0.507840883835324,0.5116985574476,0.264976508112049,0.984934510470893,-0.173925371681766,0.92786078094425,0.660283761696939,0.236104993317674,0.944733728019815,0.0452269762987021,1.11628317735005,0.35788841799731,1.29818387535892,0.921728922447039,0.714853325911414,0.90017437317217,1.33202443672209,1.55780215506607,0.813290649817544,-0.305583778024307,-0.0681264920683613,-0.1896224723785,0.136428711558017,1.38002643591551,0.588006443339866,0.806858312500415,1.22069088244436,0.815095235766602,0.245957679886695,0.166413217145459,0.464800288403782,0.890815198469452,0.230548023559458,-0.704531759244661,0.356981494701049,0.331934479945061,0.376215651066673,0.64257600755434,-0.906469864948834,0.299000841878146]},{"label":"PC 2 (5.3%)","values":[0.685160470467309,0.31833363826263,0.504262815309205,-0.827959011820632,0.0745906751977169,-0.418246871568678,0.28346827006153,-1.0048909611819,0.228361899788396,-0.723081905004834,-1.26597119052639,-0.10398123549904,-0.550036463680474,-0.124817854126357,-0.254854208702589,0.467179494441511,-0.35296966572385,-0.333610766824915,-0.543145550779766,-0.583834377471864,-0.0846168521947873,-0.0689250316560134,-0.327787308333917,-0.182737793621367,0.149055944369785,0.328504473834324,0.244440876016344,0.267495447310255,-0.163350300687616,-0.368262189754588,-0.705172131799465,-0.680286763528133,-0.314032438249236,-0.420954287313881,-0.484287419981218,0.194182314713152,0.407619593611008,-0.372037059909501,-0.268524396622014,-0.681926724863626,-0.67071154451172,-0.0344644443682682,-0.404385848007325,-1.01224822753171,-0.504910093337108,-0.212654683781169,-0.293218929251418,0.0177381901124169,-0.756093366599014,-0.348897806450335]},{"label":"PC 3 (1.7%)","values":[-0.406568025467694,-0.0180141866462401,-0.338325764980896,-0.179591391875354,-0.307757896234784,0.0410760908239565,0.169810239860575,0.0123029192375963,-0.415336084759397,0.28114143117641,-0.269817182768851,0.130547750240487,-0.694146830144418,-0.0621144083222606,0.0904576907257051,-0.314620975832172,0.328027528378596,-0.271161837251066,-0.499519046485112,-0.235002104972055,0.459620991359104,-0.229853887608951,-0.347854352257308,-0.231071777736284,-0.321800937244473,-0.316209073711574,-0.521702779664419,-0.16492098374358,0.0354245048461606,-0.318491580623046,-0.244213810433554,-0.306420561217657,-0.177242766011244,0.0161671275207293,0.444433498639808,0.388963063098211,-0.237167009883876,-0.614720842591821,0.188366811646195,-0.0600092258553373,-0.024306855718951,-0.00994693289434844,-0.229410241439156,-0.105691148903019,0.0166171701982662,0.0832042908956771,0.0779963510876761,-0.20539496698326,-0.0125996475578892,0.0105816604955712]},{"label":"PC 4 (0.5%)","values":[0.0185252879232699,0.000566512106216165,-0.00165317587303701,0.0935668402366623,0.112020574163602,-0.243116766512924,-0.0835565724233167,-0.0179077225553054,-0.0391345019654225,-0.00561891787511412,0.0455624408026166,0.0507192324858445,0.0571855194760492,-0.16949625459047,0.125217292125236,0.0998031365170804,-0.187878621483739,-0.213757369637274,0.25719217719155,-0.0415766475595117,-0.0750315528649483,0.122997604145983,0.000888370584254809,-0.288255429276666,0.0417197555521729,0.100226727593296,0.0353331921094631,0.0699692822661266,-0.0297114339555354,0.0745696136357223,0.00683084221616726,-0.0205510016107741,0.0329419128144621,-0.178304462892686,-0.250976060064534,-0.114207243262195,0.0312171829450948,0.154020999761989,-0.146674511738694,0.0296222195034364,-0.269651428187435,-0.153484666257619,0.0169303244816116,0.045613307101705,-0.0987414793383189,-0.238475433674164,-0.131137380781147,-0.0213776830286223,0.232534844283671,-0.0511811717150703]}],"name":"versicolor","marker":{"color":"rgba(239,85,59,1)","line":{"color":"rgba(239,85,59,1)"}},"frame":null,"diagonal":{"visible":false}},{"type":"splom","dimensions":[{"label":"PC 1 (92.5%)","values":[2.53119272780363,1.4152358767039,2.61667601599569,1.97153105304344,2.35000592004464,3.39703873605326,0.521232243909776,2.93258706899369,2.32122881657338,2.91675096678608,1.66177415363653,1.80340195296509,2.16559179608015,1.34616357945845,1.58592822387322,1.90445637479343,1.94968905939907,3.48705536429028,3.79564542207289,1.30079171263766,2.42781791306605,1.19900110546556,3.49992003892454,1.38876613169147,2.27543050387221,2.61409047381083,1.25850816051149,1.29113205911502,2.1236087227739,2.38800301600347,2.84167277810387,3.23067366143209,2.15943764248905,1.44416124232951,1.78129481004511,3.07649993168719,2.14424331430208,1.90509814881408,1.1693263393415,2.10761114325724,2.3141547052356,1.9222678009026,1.4152358767039,2.56301337507748,2.41874618273283,1.94410979454697,1.52716661481452,1.76434571704443,1.90094161421843,1.39018886194792]},{"label":"PC 2 (5.3%)","values":[-0.00984910949880102,-0.574916347546489,0.343903151341735,-0.179727904352245,-0.0402609471425301,0.550836673028056,-1.19275872700064,0.355500002977497,-0.24383150231069,0.782791948815279,0.242228407755068,-0.215637617333555,0.216275585074026,-0.776818347344339,-0.539640714026718,0.119250692091973,0.0419432596632123,1.17573932971343,0.257322973420481,-0.761149636435063,0.378196012617052,-0.60609152775793,0.460674098911896,-0.20439932735215,0.334990605821678,0.560901355123079,-0.179704794722746,-0.116668651174011,-0.209729476677302,0.464639804708737,0.375269167195104,1.37416508679305,-0.217277578669048,-0.14341341045758,-0.499901681078136,0.688085677571177,0.140064201089791,0.0493005260130311,-0.164990262023109,0.372287871960798,0.18365127916902,0.409203466816063,-0.574916347546489,0.277862602929196,0.304798197854693,0.187532302800606,-0.375316982580488,0.0788588545184766,0.116627958512024,-0.28266093799055]},{"label":"PC 3 (1.7%)","values":[0.760165427245895,0.296322527387965,-0.110787883219109,0.108424662463423,0.285389563184442,-0.348437555797467,0.545659295646814,-0.420239935767968,-0.348304394934844,0.423335417682558,0.242440189725769,-0.0376481682314819,0.0333266418443256,0.281902882118466,0.629029326408011,0.479639819626591,0.0441861676301224,0.133894873936098,-0.513767763817804,-0.344995038313417,0.219119324301943,0.511855508697001,-0.573182242568002,-0.0645227566312678,0.28615009116915,-0.205534524353625,0.0458477039272506,0.231256462659971,0.154180023928831,-0.44953019194185,-0.498898075870768,-0.11454820547542,0.208763167130838,-0.15323388806309,-0.172875189113419,-0.335592292434541,0.734878936725511,0.162180235770737,0.281835840208481,0.027291132141631,0.322693747173059,0.113586595799357,0.296322527387965,0.292569524596743,0.50448266397718,0.177825090632658,-0.121898171867181,0.130481631287848,0.723251563489917,0.362909648085376]},{"label":"PC 4 (0.5%)","values":[-0.0290555727787005,-0.0153046738942673,0.0657720412381637,-0.236790934199227,-0.000170633278353217,-0.112371653206092,-0.098126619630648,-0.257191032191495,-0.0786746129701118,0.110982071035576,0.121040551831856,0.0780198444491913,0.163061478164825,0.140440868774429,0.329551728371143,0.219621262721745,-0.157681907285581,-0.309219573021657,0.0538460965051751,-0.0458247548865625,0.185429264375879,0.0609591170836559,-0.140227954408337,0.163040977430243,-0.060371969624338,-0.240704986483341,0.147503846472696,0.00402660774960884,0.0528273230369975,-0.231524053403998,-0.0223364626091533,-0.25290192339528,0.128193065563402,-0.19099635791451,-0.505434411785802,0.309828044634432,0.0555419691261359,-0.221202936942592,0.0204617871586751,0.210621785788073,0.277653777387565,0.505304966939273,-0.0153046738942673,0.0579127476865541,0.24109100048128,0.426195940025627,0.25436744199041,0.137001273865618,0.0445953047082603,-0.155038628230113]}],"name":"virginica","marker":{"color":"rgba(0,204,150,1)","line":{"color":"rgba(0,204,150,1)"}},"frame":null,"diagonal":{"visible":false}}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Visualize a subset of the principal components</h3>

<p>When you will have too many features to visualize, you might be interested in only visualizing the most relevant components. Those components often capture a majority of the <a href="https://en.wikipedia.org/wiki/Explained_variation">explained variance</a>, which is a good way to tell if those components are sufficient for modelling this dataset.</p>

<p>In the example below, our dataset contains 10 features, but we only select the first 4 components, since they explain 99% of the total variance.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">MASS</span><span class="p">)</span><span class="w">

</span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Boston</span><span class="w">

</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">db</span><span class="p">,</span><span class="w"> </span><span class="n">rank.</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">

</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">db</span><span class="o">$</span><span class="n">medv</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">
</span><span class="n">colnames</span><span class="p">(</span><span class="n">components</span><span class="p">)[</span><span class="m">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Median_Price'</span><span class="w">

</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">tot_explained_variance_ratio</span><span class="p">)</span><span class="w">

</span><span class="n">tit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Total Explained Variance = 99.56'</span><span class="w">

</span><span class="n">axis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">zeroline</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
            </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w">
            </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">components</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_trace</span><span class="p">(</span><span class="w">
    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'splom'</span><span class="p">,</span><span class="w">
    </span><span class="n">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC1'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC1</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC2'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC2</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC3'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC3</span><span class="p">),</span><span class="w">
      </span><span class="nf">list</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">'PC4'</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="o">=~</span><span class="n">PC4</span><span class="p">)</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">color</span><span class="o">=~</span><span class="n">Median_Price</span><span class="p">,</span><span class="w">
    </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w">
    </span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">style</span><span class="p">(</span><span class="n">diagonal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="n">tit</span><span class="p">,</span><span class="w">
    </span><span class="n">hovermode</span><span class="o">=</span><span class="s1">'closest'</span><span class="p">,</span><span class="w">
    </span><span class="n">dragmode</span><span class="o">=</span><span class="w"> </span><span class="s1">'select'</span><span class="p">,</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'rgba(240,240,240, 0.95)'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">showline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">zeroline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">,</span><span class="w"> </span><span class="n">ticklen</span><span class="o">=</span><span class="m">4</span><span class="p">),</span><span class="w">
    </span><span class="n">xaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis4</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis2</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis3</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span><span class="w">
    </span><span class="n">yaxis4</span><span class="o">=</span><span class="n">axis</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">warn</span><span class="o">=</span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-493ed8fb6d12f7cd513f" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-493ed8fb6d12f7cd513f">{"x":{"visdat":{"3e25566744e2":["function () ","plotlyVisDat"]},"cur_data":"3e25566744e2","attrs":{"3e25566744e2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"splom","dimensions":[{"label":"PC1","values":{}},{"label":"PC2","values":{}},{"label":"PC3","values":{}},{"label":"PC4","values":{}}],"color":{},"marker":{"size":7},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[],"automargin":true,"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis":{"domain":[],"automargin":true,"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"title":"Total Explained Variance = 99.56","dragmode":"select","plot_bgcolor":"rgba(240,240,240, 0.95)","xaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"xaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis2":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis3":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4},"yaxis4":{"showline":false,"zeroline":false,"gridcolor":"#ffff","ticklen":4}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"splom","dimensions":[{"label":"PC1","values":[-119.817596211001,-168.809337799315,-169.565571005893,-190.444648583691,-190.418800697616,-189.044582069967,-104.311512773855,-102.17687465576,-98.3404770154418,-99.9038505188553,-100.713805284334,-103.208929112876,-105.027823538316,-108.359206077127,-101.441906383058,-108.410735652104,-108.244656174069,-103.510822483422,-78.9504347201465,-105.848175377339,-98.9124883726607,-104.635841346801,-105.463424910741,-104.045126467857,-104.596802093283,-78.77758704441,-99.8973379222643,-79.3826422742134,-102.863302013694,-101.289403140092,-94.4190393081398,-99.0064249491977,-58.1722055762784,-94.0403679183807,-61.6694076179575,-134.371136056376,-129.295881823102,-136.681850536879,-136.676538299137,-167.409318276459,-168.066929579948,-180.552340950078,-179.592322895577,-182.776615311599,-178.361743612915,-180.997396893974,-180.96624179264,-175.198670693319,-175.258156741177,-178.508917048043,-170.980699791409,-169.185105284468,-173.752820731404,-173.614068131485,40.978393720109,-192.917435160764,-109.087668270921,-162.366002952472,-132.254635040442,-132.407162010086,-130.184067190265,-122.848896781069,-130.81020119497,-132.479216927446,-195.270740206497,-87.400213775448,-86.0545083252466,-76.1480284523602,-74.8263726043223,-75.3328184439807,-111.126881298726,-108.09921226449,-113.108470871397,-109.207626673477,-26.0301049976111,-19.2472171225426,-13.8850117564312,-20.2179050312107,-19.3638867857507,-23.6536235914417,-136.890088256551,-133.285012993258,-136.883922032286,-133.781704068488,-166.716487320135,-164.837364635501,-166.581133829278,-165.446956524856,-141.834955803269,-143.656405785451,-142.04590176884,-141.791367494203,-144.741334495839,-147.289934005234,-143.194449839687,-127.297334551681,-135.880061722118,-137.428487308534,-139.863026728451,-138.37243459806,-33.2183591892062,-34.1926074411513,61.8292690620538,-32.2020830505866,-31.5124699011264,-31.23552422008,-32.0579203250042,-30.4235161423357,-31.6556687931324,-30.8924406239313,-34.7515212199393,12.4587983519675,13.8349592087555,13.5004163887614,14.7917501908563,28.0154539714697,12.4497275653519,12.9538415122931,28.5173909664224,12.4485905921135,-217.927124401207,-213.338679672132,-212.644667523393,-209.78023884375,-212.741600892419,-215.130670333382,-206.596783384718,20.0306909541851,18.7837670106299,18.6191742299963,19.2374126875879,18.6015850058034,21.7309603971497,20.8680243595159,57.9304285776282,19.4213696353661,23.8204173069242,19.5765541828242,20.4042477435301,18.7917825954221,21.2211377420607,19.4550276468922,-12.9805936734963,-13.0238097185005,-13.0824030718126,52.2232884503097,52.9745802724286,-11.8256199280304,-1.98620859912252,-0.482691056951973,-6.73938568092396,2.59712369436332,1.17693329457553,25.7451767475306,8.35926809579526,75.1811852126771,76.0128775612125,-4.74198671976947,-1.26517959869952,-4.24971637160825,2.38199130223275,-8.7789020713596,-12.5657402813268,-12.5661402442126,-13.770554439193,31.3674504216731,-6.77330125239051,33.9181169419284,15.0929723902724,5.46998783984029,16.5713752975206,0.472039101240935,-116.586621580347,-116.692161023381,-117.279766129405,-119.872848455569,-119.088609819052,-117.710211069972,-116.484261464442,-217.608657111543,-215.144626189205,-217.161243982353,-213.993689124159,-214.361208881085,-212.782340364656,-213.509932167826,-217.110559776012,-25.2385270873009,-23.02642798422,-26.4138677058883,-22.3450152980929,-24.9139415055094,-25.7098160250599,-154.852793824967,-149.218403259922,-164.090511157138,-94.0636045293486,-81.2723144305729,-92.3187363706952,-26.9468685195446,-23.3471903587146,-74.5168628745858,-77.4500084232652,-193.527575388699,-193.047273245671,-140.094723577679,-137.022025405699,-133.53604383599,-132.441616071341,-133.239637534015,-133.022967425559,-133.671848189388,-135.5969462067,-136.204307354615,-126.764178293633,-137.553495560019,-136.860193671057,-134.648338671605,-134.74217148257,-134.151303978491,-104.631887965046,-105.029890718683,-105.163889300502,-106.919955791957,-104.141532996069,-102.976202827475,-103.973453349905,-99.8411869280972,-107.12931956053,-107.195471870023,-102.343871070022,-101.304102711862,-104.767977500572,-103.124244187804,-97.3988831511358,-102.446034365195,-104.655525646682,-105.811911001664,-115.022000571218,-114.278779691776,-115.317334020285,-115.322705185189,-110.060696777245,-114.579334382265,-78.9499824380296,-84.2086216794356,-87.8251167025548,-79.9166367531228,-82.1338805761985,-90.4287082163409,-91.5122377196447,-86.3226676388091,-89.2629982043812,-92.6066708368252,-105.989732594157,-107.648433579262,-172.279752404739,-146.7907788947,-143.407524673486,-145.793495397625,-147.606137023457,-145.972252713489,-145.535867871678,-146.606501315943,-145.45851013929,-148.768906342046,-144.62417807123,-146.903941675762,-149.720873177535,-187.374504882987,-188.235979870181,-193.052238133822,-188.893088064465,-188.553448085511,-163.336158936445,-162.510746668471,-159.728559170462,-162.783349770287,-163.234132850342,-198.691726137333,-193.496146283138,-196.940157673775,-191.787307359922,-219.736280878118,-136.626151632407,-119.68073343619,-161.204799648398,-126.637957384673,-125.408376037577,-119.995373932693,-173.988449594036,-174.223595903939,-174.317722411879,-129.046058411853,-126.94915041377,-128.159218022802,-125.253703958503,-125.478832962165,-58.4580882863483,-60.4476095899528,-62.7959823395854,-90.396177075436,-88.8308219363197,-91.1340655117825,-191.785570683731,-190.023144717095,-190.082466923483,-190.059826699688,-109.583309875244,-109.689726579288,-99.3696067309862,-112.002531572607,-108.49913036441,-108.434166354668,-108.751652931448,-109.526729508976,-107.283937623144,-110.159151730976,-110.248615243897,-111.140720437571,-128.250477541454,-128.07244982635,-128.348278715759,-124.48784867059,-129.322326842542,-130.53164232027,-130.212814029669,-128.803716207587,9.50368700766688,10.7445013957118,14.0393349834308,-114.754904021678,-106.095931579948,-187.225973128238,-187.039781147993,-189.535930084227,-188.462123240136,-186.700923447167,-189.048740743476,-188.52278853312,-187.429653933904,-132.904363221696,2.40742158144065,-51.6336653066831,-51.6505208972722,-63.5461412320859,-57.0470692639579,-72.1291709220803,-138.827031030168,-84.3463058829994,-85.4731124063828,-7.20999460985233,-14.7462445590757,-225.293024439906,-85.6204709580626,-83.9695069971866,242.758010731391,237.907762191633,236.053102983258,237.246891571681,242.352977308832,249.832393688652,241.365698321772,249.064648500898,247.744503110188,248.057816316567,259.883542723963,314.601512963226,242.354651033795,242.173527553111,237.371993015889,245.35351749842,249.760948107065,237.959973275958,238.25107927482,237.509228276634,247.116680308252,237.520666213549,237.769864187094,238.868784144704,239.243222094982,237.779841044541,237.707653420953,237.669503770028,269.859422177662,238.043643348663,238.282782299427,237.515579500396,245.030809551303,237.516282195848,237.862280312866,241.103211842559,237.614738496086,236.813342793776,237.182689450525,238.829315016353,237.146597920383,238.664130720223,238.884028840052,253.250124119126,238.389944446507,237.884011772396,243.675815369907,237.818595885377,257.229082296248,243.049381163943,245.796949329575,255.974469644227,261.346320481957,300.701906824693,353.34397505147,343.006052943621,345.254538833478,292.208288781165,329.062079509478,345.828751113127,346.417991986334,315.863132053099,350.364166241951,337.330992998132,260.181060170792,259.390566453408,266.966602444906,351.168769183674,349.581066438464,350.942259916277,342.660624352166,346.64748488392,323.181995329037,335.285245313593,327.571411378024,328.976977068668,322.173582391365,322.733110515218,323.48602391568,320.830023143768,344.776250581177,350.86621947181,332.629831795631,237.146988163618,239.019818003743,240.428760411845,237.611068084992,240.474318024542,283.078084819056,340.33835577468,260.063105578961,239.682513716758,237.400792776678,264.359070898352,352.289847124912,249.322503981749,240.06670707071,243.413708038881,350.63508029222,336.986081584072,348.931535086841,350.362584716989,272.339285461239,235.898539745447,277.691043237378,237.792968444743,235.773243302764,237.119215936032,234.268406428162,250.950506755758,345.075017083695,255.953810144264,243.335026051934,233.764184381429,235.83007445559,236.767077513813,235.954397685158,240.58046645924,250.000056824115,264.775248029051,236.990164066499,251.469432123214,242.253733050252,240.307016170776,234.04992069299,235.928052348192,235.410025579264,233.099527895492,239.781693916782,235.365857782336,236.733965085492,235.666367163307,279.227433969761,294.90388828841,302.442406924761,281.226480460416,277.694068486899,-29.0847101740874,-30.0679218961107,-30.0484827065053,-27.2397511652254,-27.5597269423664,-28.1020585602624,-26.9439337128139,-26.754063842432,-138.647972262264,-139.408332499109,-138.375366427988,-137.445001966771,-138.87215155927]},{"label":"PC2","values":[-5.53898918366867,10.1744592150972,14.0216968523306,18.2601138315274,16.0314570000336,18.7287962624963,-8.70826623429902,-10.1166230992931,-0.163493205165195,-0.255373549614987,-5.80353681907363,-10.0032406708343,-3.64566611934391,-8.77325369632596,7.26688718898281,-7.51382231272153,0.989242796497447,0.881204693237913,94.5607640267227,-3.09131337923553,10.5946810654685,-4.71059339614045,-8.83291383263774,-6.61264080030401,-6.41023367034991,80.5695959442764,10.2766586466198,77.7194580615706,-0.347428931492821,7.03795898819706,26.3133343814795,10.3776212338499,148.37351628258,27.6184642110417,133.225069756773,-0.59093869054283,17.9384424873769,-0.462535612406097,2.89512229420422,8.77222028527179,8.76628612067656,24.1499936620309,26.0962960739259,15.5090803413922,20.2085182817748,13.084409636507,13.1040844212804,16.8417936699151,12.8979757958138,12.9584232131688,11.4104158128199,12.8014210861869,10.1749914839088,10.2055069065278,-55.9444728502055,16.0668475723898,-10.2772153383152,10.1237678631926,4.06625801024431,-1.93719433404057,-0.302883451781793,15.8554185017321,-2.09155390683361,-0.698869693811741,21.3251479084634,-17.228919535519,-17.236162442806,-18.9939125814587,-19.6711895457872,-19.7054156233687,4.66313168589794,11.133481276204,-2.20288564207149,10.9496378906664,-33.2668423510464,-22.2758916789939,-13.2644793411627,-25.8337696270021,-25.3347090823242,-34.4838737401079,-1.04131713782251,0.0102881416221549,-0.99750116512226,4.92622234930015,8.87185900096788,13.1818193126821,9.78931436180827,10.5027328413674,1.91666558964822,2.80786621597027,6.57189978785625,5.21941343513762,3.88670214389841,2.73523533573054,1.97921500566291,37.4992613336306,5.15843741192546,0.08113861988316,3.47644454339402,0.217529451298812,-29.4361811514219,-30.1726933053579,280.343284592513,-29.1055778882928,-27.4326849516304,-28.7419968766559,-30.2504894266914,-22.6176863096295,-29.908704106766,-26.0178960265816,-28.0052320108011,-44.2501220880647,-43.6323284009482,-45.5040869033448,-37.6762501025918,4.23775567174102,-41.9838602261422,-43.1905122786751,10.3066283721011,-40.1955502856485,33.3713464831026,44.2794295163559,43.8473579585201,51.3341645000445,42.6105172651794,37.2219020414179,61.9042099985431,-42.4188599311503,-47.0399660706625,-46.9633039567142,-45.288857172988,-47.0601104743851,-36.451429985317,-39.1769586131885,81.2446260464111,-44.8946913160077,-29.1653809048237,-44.3380879702067,-42.3148854745805,-47.0139461202034,-38.4920495124624,-46.8965108193782,-36.9504173268306,-36.9668579448955,-36.9130878518453,177.193348343647,180.591121442528,-31.9652547715328,1.20444802516437,6.09651099505509,-14.0501434517459,15.7742127326715,14.2649294398753,91.9536072182683,35.5059983621325,258.379370123625,257.742858014738,-5.325251460578,3.94220504190442,-6.00479453228095,18.2667574189291,-15.8960363938986,-30.4475137626393,-29.3077341945052,-35.3692931032838,112.738732903657,-11.0069266345971,124.832424481352,58.3066430437687,26.8252701883941,62.9728538398873,9.54959524296909,-5.67387265927224,-4.34755579081271,-2.07755048649259,0.210465021415618,-1.95748460274256,-4.40711101234592,-0.316150747110755,24.4841086977929,25.6154351717764,24.4966097750703,26.9423329628898,24.317784689922,30.0932550069502,33.8988871895376,28.4776017672777,-32.4275907632232,-21.8063039940915,-35.344604307573,-16.8897362686193,-28.3891689678001,-29.1717468709114,7.20510587536901,23.1057328623779,9.01655529187829,-15.0345320025669,25.7225638922919,-10.5617392901191,-36.306683236869,-24.2353647773042,-17.5323375933852,-19.127975488614,19.4919745773385,21.6126857855302,0.217785242590395,1.97227175223653,7.11615877216424,14.9098475536062,-0.128889920707239,3.35535475122444,1.53395925124593,5.76861489022095,10.7064648844967,46.2504685801024,3.20085174885949,4.22719692521559,4.01140130674256,0.134093860882284,3.10721801831184,-4.01911344918623,-7.30696527813781,-2.70911089977395,-8.98726335565076,2.20463535107218,5.05229460345174,-0.011364017473545,14.725590376829,9.74400128906576,7.14735607122464,8.89410097014087,10.8543318379817,1.43070280546394,8.04987186001246,26.1927696836509,10.4581983695687,-0.829031261388648,-2.43416619274558,10.2434895920711,5.94012676119708,-1.23543425668802,-4.4964380612598,16.4569002213783,14.7916467126635,7.81134577727747,-8.03506450872976,-8.94206388058899,4.26727853762404,5.76651797891964,-12.2793407068744,-14.6705994262965,3.70214665633326,-4.95249978432742,-15.4108937298667,-6.98722885052845,-9.07894491957173,19.8204774281041,10.3267632832838,16.5197265396467,8.30621339557256,7.56031765530489,11.6567103792294,13.030436657815,6.93160572966075,12.1662587056261,8.15400151499963,15.9499441397467,15.3866127738354,9.99393285366926,21.1961191432818,23.8726830818278,16.0578153247253,17.6845285419859,21.6286885189875,6.82730127714542,6.77176504877072,14.057815650903,10.1536718743997,6.88246436212275,17.9287803877593,26.8155211612706,22.3602571125245,36.6803277950572,24.5430382029912,0.0401189308517073,-4.3565475749282,63.7669617348107,-4.46991684213109,-4.54059682219554,19.651206738092,9.5714452628652,9.49648985667421,9.61024150670906,-3.30649486633045,-3.41256053235044,-3.43308375588556,0.344897170711356,-3.45736306838539,4.01277904054546,0.818405104899514,-17.7825536383086,-13.9665407554419,-2.27815132375105,-8.87562702726272,19.197047493585,19.4854696046695,15.9643054970463,16.0252047111545,-8.05918304990506,-7.34281789216124,36.7238323165292,-7.87402388170197,-7.46070695965727,-4.67665532752065,-6.91175451856231,-7.47589676264644,-2.01252991499081,-7.90671621640013,-6.32585087001975,-7.2203299025866,-2.90628245331763,-2.91331597093062,-2.85850127902226,2.55875419490804,-2.85250370239392,0.36733897911936,-2.77093294937317,-2.81005821522663,-30.6917652639247,-23.7747872728061,-17.4769996186778,-4.81585675241254,25.5401174712053,22.50143618662,22.814921747062,15.6707766475169,15.6277864263544,17.5636197897377,16.3883146693945,15.6370138856717,15.5625274397887,0.0784376492719392,-35.6803557071807,-27.1384269216457,-18.5188605337296,-11.0338124913427,9.06569956828591,-17.0978997495676,5.08762338689757,-10.0352342780319,-16.7984929130441,-14.0357348073743,-34.4780578346701,38.4106568422685,-2.83375601523113,3.60776188755613,-95.8054268167003,-108.874613530023,-112.751866646923,-108.254460093289,-92.8711449014603,-69.9520213800292,-98.8292710169179,-72.1928519685304,-73.7050677728951,-73.9105088411964,-36.8753723831355,139.62415203256,-94.1032117460995,-93.894946599094,-109.882834393205,-85.0792507700572,-67.5633193820816,-113.999358657668,-113.931779929484,-114.064198375314,-81.6092035194347,-114.074460539513,-113.951594256668,-110.976140980239,-113.504860966309,-114.015542043382,-114.054525850458,-114.06578819642,-7.6799062497279,-113.914890377616,-113.919209764599,-113.822335424128,-91.0436766565397,-114.072901172369,-111.761915868034,-96.4076294507522,-113.995391775298,-114.086749596367,-114.050787779507,-109.400166959017,-114.0886869767,-110.421851252219,-113.763757939757,-57.6831557958968,-113.879763798127,-114.003335210437,-94.2011848257075,-113.923323850982,-49.2324037501806,-102.204853837043,-88.4774485963966,-52.2874103409442,-35.4450536654079,93.7964162829849,263.088074528324,231.862002885895,237.948093993949,63.7704737270169,181.372960343148,239.480079200466,244.893038193727,143.840767104262,250.112119269438,219.256455016399,-39.423036088924,-40.5734339566346,-13.3831028594044,263.046291436047,262.039372138192,258.164542396933,242.052045829762,247.674348138237,173.028949683318,207.398355132546,185.633995961386,187.640262875084,171.775176946234,169.593568637958,169.204854017652,160.406007252647,239.17931981363,256.57438049658,199.669978022082,-114.035774102484,-108.716309535775,-103.650216209525,-113.024260760773,-104.389558857061,35.5030895127852,224.274903892454,-38.6950284693754,-106.071060786993,-114.102214068311,-25.4782880839549,265.071096007523,-74.3555639825447,-102.822767308487,-94.0472200432258,258.994836895866,216.713931263651,255.385744788672,262.106815547529,5.16567976193089,-114.10964313033,21.331993738144,-108.903401105553,-114.102257888581,-111.230006577682,-114.015408355513,-54.1766304340325,244.308227863876,-51.4097238455313,-87.0243590271689,-113.910756262202,-114.113468608538,-112.669815647082,-110.732896368029,-92.888827354806,-71.7169234367898,-24.069373097586,-113.462917568811,-68.6624279208416,-97.6456328395916,-101.118446379942,-114.05323614069,-110.473816859338,-112.61409926726,-110.120466982697,-88.8901070822445,-106.063342658364,-110.046403668235,-105.670657121394,-125.454275411589,-76.5819344444328,-52.0625303857604,-120.713711561137,-127.203017107115,-33.3282653803506,-33.2772961024167,-29.7123349003108,-33.3634696905392,-33.3788213140839,-33.3814354607738,-32.3029633350599,-33.4163675112365,5.82361051797104,1.09824490968641,0.968067974580387,4.29816286889454,1.1449421241003]},{"label":"PC3","values":[-3.2679204144925,-31.0760868685747,-16.1322370896795,-6.08774867240161,-12.4855245943737,-16.3445555177145,-7.53998627825871,-30.0810400609564,-34.5583513411916,-22.5330274260038,-29.6111371026243,-20.1808178738859,12.9494718814145,-12.1708662183925,-29.1943816901977,-8.21762232922372,12.8757844123222,-27.735275915634,9.08093262298594,-18.3079597903233,-40.7395764065473,-33.3001744949093,-36.0813354760918,-42.4229405081158,-37.5411031423575,-29.1116227585291,-34.0215391480792,-31.5237797500191,-37.0660995864006,-31.2755829264281,-37.5174088907575,-41.3323791194296,-25.7107484472413,-37.7478231579414,-36.6031696844295,-19.733979025538,-14.2212728942716,0.621833933222887,9.34857267796079,61.798900537215,66.8385727350877,26.3630905637123,23.4390704803753,23.0408085108691,-2.49768605799552,1.74910108068435,1.80340704113737,-38.0346440033744,-46.8073471148848,-19.9874889886501,6.98535632040473,-5.55145655904326,26.6290585643606,25.984741141148,61.1076489944858,69.3289007367109,63.2255212518138,64.3943582127266,26.9128423839764,12.6793940007546,-1.99982548324498,-22.3819959488431,-2.37857157045194,15.9918090252891,-6.17022680574567,75.5074008126716,64.6682811924331,30.1924024869173,17.7746104910889,21.299942060925,29.7451399054154,21.2256023504716,28.6734732560065,30.070162335814,38.545330950193,9.09778782196202,-13.2725031993904,8.21417401146427,2.15888063505213,15.0025047214825,23.6463153568519,-4.57197621083223,24.2520900966408,13.281798982248,-7.01162775846464,-12.5155322057651,-5.23451217755026,-13.6503503228251,-33.2291924715155,-15.3962771926904,-18.3174531527574,-24.2066854962744,7.80213713741033,26.6928890138584,-10.4801857675085,-9.96077877528948,-20.6393106233377,-23.6260620332077,6.31232368166299,-14.06182983368,-18.1035129235905,-11.5560033287819,-14.9836240243168,-24.7289368293037,-26.4893593786634,-32.0166054995566,-28.6485432732695,-22.9119626382181,-31.9090807981363,-27.7084033392012,0.348365417737296,-15.3404862528672,-24.7131807259644,-26.7250160068281,-17.4916007033668,-19.9257165792219,-8.73276884672155,-16.3444836267044,-8.21614279574761,-3.4845903069038,-31.3518920658684,-42.0198563016024,-48.9896142956122,-52.8333599626563,-51.299301465699,-45.4185234538716,-51.8119519848244,-27.9071836458761,-29.8260867081047,-27.2953591238082,-29.4890088033718,-28.5746957732882,-28.08150956583,-26.9744667974368,-26.5450769440322,-29.4508070604322,-25.5584536628841,-29.4439003205556,-30.1695891140985,-29.4651157086969,-26.8295153580531,-32.8360069522113,-35.1693397366618,-34.974066482979,-33.8595062472425,-29.6596668026842,-28.3756212305459,-31.9578604588116,-29.3131483624595,-29.5410156687118,-30.7021691913982,-32.0247861566497,-23.2400958857193,-29.1790570650066,-28.8592180871256,-13.1185426492399,-21.9922521853114,-28.1695447384985,-31.3221289459621,-31.7436867873589,-25.093965480589,-22.5626491293893,-28.5258247587048,-25.3821905111466,-26.7674674508004,-23.4999168067684,-26.6865062047569,-13.0951719341464,-27.4538303659961,-27.7185007313656,-26.9659073761001,-30.0445324868082,-33.3948102157443,-29.4698581771985,-17.9563140103309,9.81760500695417,-1.74006298359641,-21.057058028246,-21.3884999298766,-18.4659724151773,-37.2170805356481,-21.8314588802364,-43.7629380419904,-46.8643952928156,-43.5866987203648,-27.3592819816787,-13.7326059516274,42.0492843339127,51.4248563495072,44.0013560037946,57.8362917852208,50.1015185865981,54.0755752408526,62.5834224936335,56.2139065794789,59.4278598953297,63.4892055466155,62.0133557640834,60.2999169574816,94.1113445397238,95.3418326325391,62.6068576916743,81.3996988719481,64.6780417295943,65.9108176587337,14.3911655113725,-8.14059104925231,-24.0198723491523,-13.1270236007465,-45.4340998919258,-38.7163691241034,-36.9591119281517,-9.68263175173842,7.68871338496511,23.2752575326408,-0.342504114659934,-11.4590543967417,-32.578301882369,-40.5639545343284,-38.5953242355247,-31.6563876127336,-35.3281381286375,-23.4448253149977,-25.5274300411384,-21.9511213548832,-25.077274359965,-28.5989509655325,-24.0046417770705,24.5400503906688,20.0518463834814,-16.3053172935047,-21.7143381707706,-18.2398167333597,-15.547205765532,-13.9623158316369,-11.2463438237778,-22.5937173645583,-18.0166196378703,39.9816198883276,21.9155972209255,12.1579138493808,3.70786359202091,13.7285060224875,48.2971158842078,-6.75430214110335,-2.92525304958076,24.9227489293496,-8.43305771306432,14.5955101417945,38.3076614432177,41.5414922393598,45.3500212401196,47.1360422133708,46.6345730368399,62.6079634326557,71.9293216461423,62.5060370590179,-19.5123306682876,-30.49400209789,-31.0538035028115,-17.3566679183509,-22.0594275757422,-23.0447777441506,-27.2952514223521,-24.2778595287153,-3.95517960608891,-19.9705368633075,-4.60439299468164,6.03354626402499,-7.55253762191537,7.22364247630284,27.3444703050105,-4.69892103386264,1.5217903837278,31.3180480287325,23.901015598126,19.2466836400688,35.4185638919778,31.3329666559469,15.9632105198848,-7.21056510299927,12.4173987770419,4.31569496435533,65.632581639878,75.0811183814836,45.3076107588533,56.6146627141431,43.3783221926703,32.5090859956186,50.2175372888825,59.4015304992912,60.176658511901,62.6124685757185,18.5882554594356,0.270144262706905,9.618604194804,-5.47073170211151,-12.1271212747728,70.2360266092081,78.2552038576141,49.2006509003078,27.8419577373169,45.0971387301472,46.3098820270743,18.0798789117876,4.50941410888339,-5.37044109684356,-4.64730622044702,-27.6859234571205,-24.0148218828254,5.77087751678403,-5.56245096424601,-34.5675303217299,-28.2328730252197,-31.6298993492374,-25.1800949460617,-29.7043451225629,-20.8298437015893,-16.6519380215486,-10.7166587066361,-6.48980680069232,-8.01518641234172,-4.97680731539115,-23.7168708117279,2.88646109319323,22.1807405470902,11.1953471360844,-0.629607990585081,27.2550952828065,34.3991847069325,22.9344790355989,34.5489703471881,39.7807934078433,-1.32577408408986,-1.83042776582058,0.880763444195895,-8.31974566276706,-18.4036066481999,-1.34359621012713,-7.6919205307054,-17.5285272801643,19.1463260149598,0.890445691803842,33.5046392200358,55.8331773254303,2.48205435697556,-0.0817680149618049,72.4707422339081,61.4107095836527,37.9873842364711,30.0807391308319,57.2119914417173,69.1454343608516,54.9458189608805,72.0119317766069,74.3972154777477,-6.39602194333673,-1.1413538876297,4.7110830690195,6.2899445902817,2.28688965960769,-0.436126095930845,-4.58667544964279,0.789407660445965,6.62664249448209,3.04661923456141,0.332157796276337,-1.54491939496088,-4.56710606682461,-2.19963847875112,-3.08351858904399,-4.98246223277638,3.36471145900337,-10.8224749148162,-11.2202405080333,-7.21553869457039,-3.87438077674152,-8.64016956128515,-7.09775948454178,-9.84166026988249,-4.22671727354157,-9.09355879751585,-9.90237806694234,-9.90788635506144,-1.52036795519571,-9.55696807481621,-10.5970897405503,-3.24990681675625,-10.1189542224365,-8.78094651391125,-6.64656132432633,5.13215007632658,-7.9823921475327,-3.33227243982615,-5.16361167150279,-8.11413669747281,-6.35493128079295,-8.81528617790915,-11.382300588442,7.27674441588346,-10.8090384464344,-9.9490293542967,-9.01424631941835,-6.93261354856003,1.80398427229372,-10.7220713338045,-9.3357867062056,-6.03635869125014,-6.09919451251998,-3.0201731081806,0.91296165193772,-0.328204499128574,-1.43476526854938,-4.82772438340508,-4.27619500751037,-1.64684393442422,5.83584624118284,4.42780297878734,-1.13268382615987,16.2719672011066,-6.76129969654597,-3.45561951086057,3.62033418080706,11.3181606862404,22.6354997438821,2.84952082057429,30.3028418213716,16.0032806095255,14.2341855395408,1.58495748400184,9.1611139628045,2.80500625248469,17.9852446012142,7.55862871568872,2.00867914362022,1.46855082279148,4.6592573966734,-0.808802843602101,6.09050505265698,-5.1256014375734,-4.10653658428817,-6.69246273207797,-8.62222532406421,-8.88598163951961,-3.54972205318173,2.78807895455085,-4.36200313417818,-6.33976564330898,-8.16815294589318,-5.74243846371664,6.30457124289166,-6.58846992580591,-2.39892663379937,-7.66744260221258,4.98183786233951,9.6535196946368,9.42122506071396,15.5340825316755,6.49151542210031,3.40016174173679,2.29309943299364,0.394104573717577,4.48793578784189,-0.211427192207926,17.9390187382917,32.2928490105513,12.2054606170664,-3.24625012589002,13.6924059192321,24.1724246424586,3.58731250863211,-1.10583594015968,10.876570464237,17.6216686201327,-4.59002734758206,-5.44795679184486,-4.117762409895,-6.81592466328232,-6.20544069166557,1.15759749154735,18.8634634555958,11.6190331088808,10.1534922637312,37.3280921256075,36.2983992580028,28.6347085665593,6.9242504046352,27.4863979975238,-0.0659509015673265,-4.17974899504092,-3.77848725166693,-4.64544665867076,7.63381815543911,1.23464411604327,9.86065225756328,19.8696046507374,-13.9907750965215,-11.6888176554919,-7.39634619635192,-14.0184864173204,-18.6838968142162,-21.2010627798277,-27.128221541031,-37.3212636014662,-36.167196052002,-30.7284369906862]},{"label":"PC4","values":[5.24777922325951,1.19712980867731,-9.70465657657463,-19.2139271758056,-13.5758808152456,-11.1206987316377,1.75025016394213,21.1522295361309,23.4697355966351,14.0579769778985,19.3824281788425,12.0138503553503,-15.8817500116548,-11.2498925517687,3.19860336285643,-14.6691449791071,-32.0113119587565,1.56714390787954,-27.6121337123557,-6.33598786867712,12.0901346819812,6.47201698385523,8.05398404696727,13.3635574800739,9.49544011641864,3.7399874941848,6.99810497578399,5.82083032255869,9.68414242368132,5.22661421096961,9.48802507490288,13.0445231795392,1.56794496001655,9.91180685643365,10.891301984687,-6.58510208520905,-10.8737328070547,-23.6102715453306,-30.601409232121,21.9886041307158,18.277592472232,-47.2656590055875,-44.937465387125,-44.9329178251528,-23.5971320426692,-27.6242150505454,-27.7479552702497,5.6822823925934,12.330275442245,-9.31221496465611,-3.98293835062956,6.9771608536584,-19.7725901662576,-19.5450678284577,34.0180340319926,34.2781648131332,37.1688580662959,53.0856654143449,-12.5285290969664,-1.08922377477371,11.1848990766802,28.4606175292417,12.1532657567109,-3.21486054662207,3.23008621834761,21.2797816125138,29.7960216818909,-28.1573119115753,-18.3408257443212,-20.7546482997822,-46.4547893505437,-39.5049616996543,-45.7894184788609,-46.7411762860612,-48.6230040673764,-23.7367743380472,-4.82553253723775,-23.1937604693823,-18.0289639363824,-29.1332040481271,-9.40588047755645,14.0814737883214,-10.3585675546672,-1.16264965128185,-18.5568273908141,-13.3579912925144,-20.3672411215891,-13.0677730494313,5.41326494584957,-9.16535960178251,-7.46874520659827,-2.52498311487825,5.69026537190982,-10.09369811095,20.849066410839,-12.7766378745629,-5.3062302364664,-0.520910649215734,-25.3296341522201,-9.39480968205814,-0.738416870040241,-6.36967151373553,1.31312779394866,3.77705801572813,5.43400241496122,9.86031848296584,6.87914858325112,2.42878454115309,9.97336742355047,6.2923092560196,-17.2549317682139,-0.73127443838019,6.524236971576,8.16565462477584,0.687282762979429,3.30979016535986,-6.58262870802078,-0.287540746911523,-6.28596068084431,-11.3079357197231,-3.746685502998,5.34553633429888,11.1412951194609,13.8679778065268,12.8961144102463,8.20705446855253,12.9268415113875,8.07362264463774,9.91513582261802,7.21440193450349,9.92821296000683,9.19467833266328,9.41184679122731,7.71561044472281,9.1893019309139,9.59758926684591,6.4850704269923,9.56983195111939,9.49040711429189,9.45384369159525,6.68549277620087,11.2709236729807,11.8379507719576,11.9610428226676,10.4223674606062,11.1629156593159,10.7952187131259,9.21244646718888,8.01102362955245,8.30705772367909,9.92615437344599,11.4111795814637,3.43805437071624,10.3036107442867,8.71871020014224,-0.6363712320195,6.54291678023736,10.6527916406156,11.4331602032721,11.4554860511471,6.75513959114553,6.82908330797872,11.638080658553,8.93159589755689,6.45558271873299,6.79977035803063,10.3674051710549,-2.0825535374589,8.93905611869529,8.39955814072592,7.71744134860952,9.65024817472411,6.63034832847999,3.61306763648238,-6.29353433775772,-28.9034310696264,-20.0128524018807,-3.29686345485154,-2.3533397797103,-10.2667713354245,5.92711293900043,-7.71624832225102,11.4076585838202,13.3316815048903,9.59047887282512,-3.7300646160424,-12.6760609966922,8.86721498712557,0.941428470219154,7.57796049765072,-3.5251887537815,2.09873007385559,-0.529747542916645,2.83488814845829,8.34666828613546,33.4183511257536,32.5692456340989,34.0512503672328,35.4168085015814,30.5139254711233,29.464221544749,36.4050622539037,22.6957115841119,46.1373149063065,45.3426922485998,-35.7209264113218,-16.2734890065948,-3.17392592210706,-11.9447714387699,14.4050943729417,9.19009648632344,7.09289816707648,-15.3639431550415,-29.1073004277174,-43.0755874517794,-22.7771814033425,-13.9751047107256,4.81267861020577,10.3324740116727,9.21443736950211,6.30528877589641,8.30394898480027,-0.558057998633946,1.4942469953023,0.519159501231895,3.83115773075929,5.34805150327795,0.868753139971073,-38.682349179766,-36.6920746061382,-6.85997724392357,-1.07530061584109,-2.90786528775276,-4.37654134048195,-7.82747497770823,-11.1447299651975,-1.48188434049366,-4.45589116884874,-15.7691902887317,-0.553399265636114,7.31375573281334,14.1750115977806,6.35978441433803,-22.6833156821771,14.4829896876945,10.7871334509917,-11.8712304441613,16.2922517471468,-2.80166922869152,-23.0069781926211,-26.0093943564798,-28.7661800752154,-29.821143493266,-28.0271041818864,30.8204568986455,22.6148436118529,42.2488129003532,22.6921384660259,30.4007714447995,30.0685637253379,18.7208082278969,23.9903156732791,25.5926175260305,26.7802453664884,25.0704131351514,5.97861242559171,20.5305739582832,10.0179582976487,0.281504504031617,5.74598385334556,-6.68961376329929,-23.2245585490986,3.93245274521792,0.0526953590826465,2.36971078778338,8.66890253160797,12.8087992814253,-0.971317002297428,1.82176574663636,-12.2987635350267,8.88212665446208,-9.10617482087885,-0.627401421846784,37.6173209689358,32.5177782126552,12.095358061072,31.8778211275364,9.78969230850523,18.920502274526,4.51230821280457,29.6127741892073,29.975817299793,26.7506871718966,-38.425418956519,-23.1629320237902,-30.1207311856343,-17.425409630814,-12.9629533556677,14.626641115504,8.51612054449703,32.3592767694834,0.822047172817191,-13.1027286417178,-13.3135060119242,3.19697024627276,13.7417722870382,22.7724630697034,21.5026227055403,2.1113049903303,-1.53374060678205,-26.6708236495947,-16.8919882505376,7.26120363779498,2.35302140707946,5.42298158979565,-1.05732688449135,2.81063709270526,-4.52566018241582,-7.45003936115671,-12.8465179199128,-16.7804457507038,-15.550496312531,-18.4804877138065,-2.81420693097932,-24.5689301578706,-40.91624227637,-31.8517303809697,-22.1522545568885,-36.5252048183157,-41.9798773094544,-32.475258979236,-5.69525599272817,-9.12069907679509,-24.8299174834259,-24.6139662120558,-27.0827943514931,-19.5418340390692,-11.0518946026414,-25.3008403876846,-20.1474444475017,-11.7898385748853,8.76648134580611,-14.725089295616,26.3441444101636,8.48390270497276,-20.605952692943,-18.1697203706258,31.135072500547,30.0779724765096,1.65743404774945,7.8220589457858,16.1325112288644,4.84281239660116,43.8076108688305,23.5930731829064,22.0689776815993,4.5697597385704,0.424463729774916,-4.4151292221419,-5.75854739581632,-1.57355081943479,0.294675888931883,3.53727803483135,-1.18653359342867,-5.18518221617142,-1.61110376886935,0.46474582065453,5.66401513454708,7.2944597352893,5.29419063983476,5.78918512441304,7.63248785229,0.860155365944808,6.8075078078593,7.1177203882219,4.90680737218505,2.06954077418432,5.45098601169645,4.22031524882228,6.2627568632817,2.72010743809189,5.65823563381361,6.18132940250635,6.24363655607823,0.602341147859136,5.22037033008057,6.70441947219831,-0.0856947462301088,6.45149844651341,5.35079778244627,4.14460077607251,-4.72830799151754,4.31326351699019,1.23109587608937,2.68118234627953,5.23034961468511,3.4369684335032,5.12814825735826,6.85632435934923,-8.22512050956905,6.40263820479039,5.96029432185261,6.04302347317491,3.69756966534532,-2.56840324927272,7.26531339885943,6.4010024033607,6.48970929131153,4.96116462280032,6.35657052834476,5.64829830533446,5.38117503082619,6.03226734406028,6.209767519149,6.41574742911,5.22605251173564,-0.98112334520557,-1.1669099771523,6.34472723412953,-10.1035516490927,5.93707067978581,2.71563668775765,-1.88727938950471,-4.57207126064559,-14.1537420759665,2.03080587578684,-21.1202944910039,-8.32962916258758,-8.9479834885029,2.21924162820272,-3.80042542789002,1.54878162948116,-11.18099738908,-2.73414637957615,1.8416911010152,1.96370761648506,0.533725847827183,5.07121830689839,-2.24298369403035,2.3327488509438,1.52077578399361,4.5254913840069,6.19983307984246,6.20883032647745,3.57808990904575,1.80589887275678,3.51944736017362,3.78566800289787,5.29142752986819,4.68180588477678,-0.0119785216672537,4.78661783838609,0.801490381745981,5.73509509201924,1.17267724258868,-3.74330578021879,-3.02215948948574,-7.8625188033646,-4.78678593503248,-3.74893729260017,-0.788352383742591,-1.40840202946711,-4.7035242888854,-0.422677199283895,-15.8757038113954,-27.2603334348378,-4.7889216389071,2.66560829209429,-12.1132553519984,-21.3288856142853,-4.00829369819734,0.118387192946736,-9.7007085999981,-14.2192445010792,2.98293951435815,4.27786909733835,2.07455833333637,4.53790348140625,4.00116961325599,-1.28294038783836,-16.3862528878219,-9.94594880057008,-8.54931257886431,-32.1858098057587,-31.1915414986784,-24.7698257506785,-6.77357183919117,-23.9108208610218,0.64551478061591,3.85985856182514,3.872401568496,4.45286878868687,-5.16072313268563,-17.6481720471445,-24.7368328117693,-33.5081611449846,-5.2888675416173,-7.11742760314929,-10.4020088064487,-5.27149100671923,-1.36074917483663,-5.77935019351679,-1.02043726639066,8.18802827963951,7.01856164214479,1.08435719246904]}],"marker":{"colorbar":{"title":"Median_Price","ticklen":2},"cmin":5,"cmax":50,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[24,21.6,34.7,33.4,36.2,28.7,22.9,27.1,16.5,18.9,15,18.9,21.7,20.4,18.2,19.9,23.1,17.5,20.2,18.2,13.6,19.6,15.2,14.5,15.6,13.9,16.6,14.8,18.4,21,12.7,14.5,13.2,13.1,13.5,18.9,20,21,24.7,30.8,34.9,26.6,25.3,24.7,21.2,19.3,20,16.6,14.4,19.4,19.7,20.5,25,23.4,18.9,35.4,24.7,31.6,23.3,19.6,18.7,16,22.2,25,33,23.5,19.4,22,17.4,20.9,24.2,21.7,22.8,23.4,24.1,21.4,20,20.8,21.2,20.3,28,23.9,24.8,22.9,23.9,26.6,22.5,22.2,23.6,28.7,22.6,22,22.9,25,20.6,28.4,21.4,38.7,43.8,33.2,27.5,26.5,18.6,19.3,20.1,19.5,19.5,20.4,19.8,19.4,21.7,22.8,18.8,18.7,18.5,18.3,21.2,19.2,20.4,19.3,22,20.3,20.5,17.3,18.8,21.4,15.7,16.2,18,14.3,19.2,19.6,23,18.4,15.6,18.1,17.4,17.1,13.3,17.8,14,14.4,13.4,15.6,11.8,13.8,15.6,14.6,17.8,15.4,21.5,19.6,15.3,19.4,17,15.6,13.1,41.3,24.3,23.3,27,50,50,50,22.7,25,50,23.8,23.8,22.3,17.4,19.1,23.1,23.6,22.6,29.4,23.2,24.6,29.9,37.2,39.8,36.2,37.9,32.5,26.4,29.6,50,32,29.8,34.9,37,30.5,36.4,31.1,29.1,50,33.3,30.3,34.6,34.9,32.9,24.1,42.3,48.5,50,22.6,24.4,22.5,24.4,20,21.7,19.3,22.4,28.1,23.7,25,23.3,28.7,21.5,23,26.7,21.7,27.5,30.1,44.8,50,37.6,31.6,46.7,31.5,24.3,31.7,41.7,48.3,29,24,25.1,31.5,23.7,23.3,22,20.1,22.2,23.7,17.6,18.5,24.3,20.5,24.5,26.2,24.4,24.8,29.6,42.8,21.9,20.9,44,50,36,30.1,33.8,43.1,48.8,31,36.5,22.8,30.7,50,43.5,20.7,21.1,25.2,24.4,35.2,32.4,32,33.2,33.1,29.1,35.1,45.4,35.4,46,50,32.2,22,20.1,23.2,22.3,24.8,28.5,37.3,27.9,23.9,21.7,28.6,27.1,20.3,22.5,29,24.8,22,26.4,33.1,36.1,28.4,33.4,28.2,22.8,20.3,16.1,22.1,19.4,21.6,23.8,16.2,17.8,19.8,23.1,21,23.8,23.1,20.4,18.5,25,24.6,23,22.2,19.3,22.6,19.8,17.1,19.4,22.2,20.7,21.1,19.5,18.5,20.6,19,18.7,32.7,16.5,23.9,31.2,17.5,17.2,23.1,24.5,26.6,22.9,24.1,18.6,30.1,18.2,20.6,17.8,21.7,22.7,22.6,25,19.9,20.8,16.8,21.9,27.5,21.9,23.1,50,50,50,50,50,13.8,13.8,15,13.9,13.3,13.1,10.2,10.4,10.9,11.3,12.3,8.8,7.2,10.5,7.4,10.2,11.5,15.1,23.2,9.7,13.8,12.7,13.1,12.5,8.5,5,6.3,5.6,7.2,12.1,8.3,8.5,5,11.9,27.9,17.2,27.5,15,17.2,17.9,16.3,7,7.2,7.5,10.4,8.8,8.4,16.7,14.2,20.8,13.4,11.7,8.3,10.2,10.9,11,9.5,14.5,14.1,16.1,14.3,11.7,13.4,9.6,8.7,8.4,12.8,10.5,17.1,18.4,15.4,10.8,11.8,14.9,12.6,14.1,13,13.4,15.2,16.1,17.8,14.9,14.1,12.7,13.5,14.9,20,16.4,17.7,19.5,20.2,21.4,19.9,19,19.1,19.1,20.1,19.9,19.6,23.2,29.8,13.8,13.3,16.7,12,14.6,21.4,23,23.7,25,21.8,20.6,21.2,19.1,20.6,15.2,7,8.1,13.6,20.1,21.8,24.5,23.1,19.7,18.3,21.2,17.5,16.8,22.4,20.6,23.9,22,11.9],"size":7,"line":{"colorbar":{"title":"","ticklen":2},"cmin":5,"cmax":50,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[24,21.6,34.7,33.4,36.2,28.7,22.9,27.1,16.5,18.9,15,18.9,21.7,20.4,18.2,19.9,23.1,17.5,20.2,18.2,13.6,19.6,15.2,14.5,15.6,13.9,16.6,14.8,18.4,21,12.7,14.5,13.2,13.1,13.5,18.9,20,21,24.7,30.8,34.9,26.6,25.3,24.7,21.2,19.3,20,16.6,14.4,19.4,19.7,20.5,25,23.4,18.9,35.4,24.7,31.6,23.3,19.6,18.7,16,22.2,25,33,23.5,19.4,22,17.4,20.9,24.2,21.7,22.8,23.4,24.1,21.4,20,20.8,21.2,20.3,28,23.9,24.8,22.9,23.9,26.6,22.5,22.2,23.6,28.7,22.6,22,22.9,25,20.6,28.4,21.4,38.7,43.8,33.2,27.5,26.5,18.6,19.3,20.1,19.5,19.5,20.4,19.8,19.4,21.7,22.8,18.8,18.7,18.5,18.3,21.2,19.2,20.4,19.3,22,20.3,20.5,17.3,18.8,21.4,15.7,16.2,18,14.3,19.2,19.6,23,18.4,15.6,18.1,17.4,17.1,13.3,17.8,14,14.4,13.4,15.6,11.8,13.8,15.6,14.6,17.8,15.4,21.5,19.6,15.3,19.4,17,15.6,13.1,41.3,24.3,23.3,27,50,50,50,22.7,25,50,23.8,23.8,22.3,17.4,19.1,23.1,23.6,22.6,29.4,23.2,24.6,29.9,37.2,39.8,36.2,37.9,32.5,26.4,29.6,50,32,29.8,34.9,37,30.5,36.4,31.1,29.1,50,33.3,30.3,34.6,34.9,32.9,24.1,42.3,48.5,50,22.6,24.4,22.5,24.4,20,21.7,19.3,22.4,28.1,23.7,25,23.3,28.7,21.5,23,26.7,21.7,27.5,30.1,44.8,50,37.6,31.6,46.7,31.5,24.3,31.7,41.7,48.3,29,24,25.1,31.5,23.7,23.3,22,20.1,22.2,23.7,17.6,18.5,24.3,20.5,24.5,26.2,24.4,24.8,29.6,42.8,21.9,20.9,44,50,36,30.1,33.8,43.1,48.8,31,36.5,22.8,30.7,50,43.5,20.7,21.1,25.2,24.4,35.2,32.4,32,33.2,33.1,29.1,35.1,45.4,35.4,46,50,32.2,22,20.1,23.2,22.3,24.8,28.5,37.3,27.9,23.9,21.7,28.6,27.1,20.3,22.5,29,24.8,22,26.4,33.1,36.1,28.4,33.4,28.2,22.8,20.3,16.1,22.1,19.4,21.6,23.8,16.2,17.8,19.8,23.1,21,23.8,23.1,20.4,18.5,25,24.6,23,22.2,19.3,22.6,19.8,17.1,19.4,22.2,20.7,21.1,19.5,18.5,20.6,19,18.7,32.7,16.5,23.9,31.2,17.5,17.2,23.1,24.5,26.6,22.9,24.1,18.6,30.1,18.2,20.6,17.8,21.7,22.7,22.6,25,19.9,20.8,16.8,21.9,27.5,21.9,23.1,50,50,50,50,50,13.8,13.8,15,13.9,13.3,13.1,10.2,10.4,10.9,11.3,12.3,8.8,7.2,10.5,7.4,10.2,11.5,15.1,23.2,9.7,13.8,12.7,13.1,12.5,8.5,5,6.3,5.6,7.2,12.1,8.3,8.5,5,11.9,27.9,17.2,27.5,15,17.2,17.9,16.3,7,7.2,7.5,10.4,8.8,8.4,16.7,14.2,20.8,13.4,11.7,8.3,10.2,10.9,11,9.5,14.5,14.1,16.1,14.3,11.7,13.4,9.6,8.7,8.4,12.8,10.5,17.1,18.4,15.4,10.8,11.8,14.9,12.6,14.1,13,13.4,15.2,16.1,17.8,14.9,14.1,12.7,13.5,14.9,20,16.4,17.7,19.5,20.2,21.4,19.9,19,19.1,19.1,20.1,19.9,19.6,23.2,29.8,13.8,13.3,16.7,12,14.6,21.4,23,23.7,25,21.8,20.6,21.2,19.1,20.6,15.2,7,8.1,13.6,20.1,21.8,24.5,23.1,19.7,18.3,21.2,17.5,16.8,22.4,20.6,23.9,22,11.9]}},"frame":null,"diagonal":{"visible":false}},{"x":[null,null],"y":[null,null],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"Median_Price","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":5,"cmax":50,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[5,50],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null,"diagonal":{"visible":false}}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>2D PCA Scatter Plot</h2>

<p>In the previous examples, you saw how to visualize high-dimensional PCs. In this example, we show you how to simply visualize the first two principal components of a PCA, by reducing a dataset of 4 dimensions to 2D.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">rank.</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC2</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">),</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'color'</span><span class="p">)),</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">'#e5ecf6'</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinecolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#ffff"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w">
      </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinecolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#ffff"</span><span class="p">,</span><span class="w">
      </span><span class="n">zerolinewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w">
      </span><span class="n">gridcolor</span><span class="o">=</span><span class="s1">'#ffff'</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-113dd7047bb0bf14741f" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-113dd7047bb0bf14741f">{"x":{"visdat":{"3e251167f672":["function () ","plotlyVisDat"]},"cur_data":"3e251167f672","attrs":{"3e251167f672":{"x":{},"y":{},"mode":"markers","color":{},"colors":["#636EFA","#EF553B","#00CC96"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"title":{"text":"color"}},"plot_bgcolor":"#e5ecf6","xaxis":{"domain":[0,1],"automargin":true,"title":"0","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"#ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"1","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"#ffff"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[-2.68412562596953,-2.71414168729432,-2.88899056905929,-2.74534285564141,-2.72871653655453,-2.28085963284449,-2.82053775074061,-2.62614497314663,-2.88638273178055,-2.67275579782095,-2.50694709065185,-2.61275523090872,-2.78610926618802,-3.22380374386565,-2.64475038994203,-2.38603903353113,-2.62352787522442,-2.64829670625438,-2.19982032361758,-2.58798639987877,-2.31025621524252,-2.54370522875715,-3.21593941564861,-2.30273318222621,-2.35575404912377,-2.50666890692582,-2.46882007312134,-2.56231990619601,-2.63953471538454,-2.63198938727434,-2.58739847668935,-2.40993249700217,-2.64886233434991,-2.59873674910058,-2.6369268781058,-2.86624165211867,-2.62523804985037,-2.80068411544822,-2.98050204378199,-2.59000631396809,-2.7701024260279,-2.8493687050431,-2.99740654659491,-2.40561448509748,-2.20948923778368,-2.71445142675771,-2.53814825899894,-2.83946216764285,-2.54308574983039,-2.70335978233516],"y":[0.319397246585101,-0.17700122506478,-0.144949426085557,-0.318298979251916,0.32675451293492,0.741330449062915,-0.0894613845285689,0.163384959698329,-0.578311754186704,-0.113774245874117,0.645068898648574,0.0147299391613746,-0.235112000201718,-0.511394587006383,1.17876463643758,1.33806233040065,0.810679514181258,0.311849144593355,0.872839038962211,0.513560308749277,0.391345935653894,0.432996063279028,0.133468069538526,0.0987088548140995,-0.0372818596773824,-0.146016880495268,0.13095148943525,0.3677188574342,0.312039980235283,-0.196961224924315,-0.204318491274133,0.410924264229573,0.813363820296962,1.09314575944936,-0.121322347865863,0.0693644715800805,0.599370021379424,0.268643737797982,-0.487958344428615,0.229043836827013,0.263527533744256,-0.940960573641197,-0.34192605747161,0.18887142893026,0.436663141639188,-0.250208204185211,0.503771144461438,-0.227945569493828,0.579410021519889,0.107706082499412],"mode":"markers","type":"scatter","name":"setosa","marker":{"color":"rgba(99,110,250,1)","line":{"color":"rgba(99,110,250,1)"}},"textfont":{"color":"rgba(99,110,250,1)"},"error_y":{"color":"rgba(99,110,250,1)"},"error_x":{"color":"rgba(99,110,250,1)"},"line":{"color":"rgba(99,110,250,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1.28482568885835,0.932488532312321,1.4643023219914,0.183317719958373,1.08810325771167,0.64166908425808,1.09506066263245,-0.749122669829655,1.04413182605344,-0.00874540408289369,-0.507840883835324,0.5116985574476,0.264976508112049,0.984934510470893,-0.173925371681766,0.92786078094425,0.660283761696939,0.236104993317674,0.944733728019815,0.0452269762987021,1.11628317735005,0.35788841799731,1.29818387535892,0.921728922447039,0.714853325911414,0.90017437317217,1.33202443672209,1.55780215506607,0.813290649817544,-0.305583778024307,-0.0681264920683613,-0.1896224723785,0.136428711558017,1.38002643591551,0.588006443339866,0.806858312500415,1.22069088244436,0.815095235766602,0.245957679886695,0.166413217145459,0.464800288403782,0.890815198469452,0.230548023559458,-0.704531759244661,0.356981494701049,0.331934479945061,0.376215651066673,0.64257600755434,-0.906469864948834,0.299000841878146],"y":[0.685160470467309,0.31833363826263,0.504262815309205,-0.827959011820632,0.0745906751977169,-0.418246871568678,0.28346827006153,-1.0048909611819,0.228361899788396,-0.723081905004834,-1.26597119052639,-0.10398123549904,-0.550036463680474,-0.124817854126357,-0.254854208702589,0.467179494441511,-0.35296966572385,-0.333610766824915,-0.543145550779766,-0.583834377471864,-0.0846168521947873,-0.0689250316560134,-0.327787308333917,-0.182737793621367,0.149055944369785,0.328504473834324,0.244440876016344,0.267495447310255,-0.163350300687616,-0.368262189754588,-0.705172131799465,-0.680286763528133,-0.314032438249236,-0.420954287313881,-0.484287419981218,0.194182314713152,0.407619593611008,-0.372037059909501,-0.268524396622014,-0.681926724863626,-0.67071154451172,-0.0344644443682682,-0.404385848007325,-1.01224822753171,-0.504910093337108,-0.212654683781169,-0.293218929251418,0.0177381901124169,-0.756093366599014,-0.348897806450335],"mode":"markers","type":"scatter","name":"versicolor","marker":{"color":"rgba(239,85,59,1)","line":{"color":"rgba(239,85,59,1)"}},"textfont":{"color":"rgba(239,85,59,1)"},"error_y":{"color":"rgba(239,85,59,1)"},"error_x":{"color":"rgba(239,85,59,1)"},"line":{"color":"rgba(239,85,59,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.53119272780363,1.4152358767039,2.61667601599569,1.97153105304344,2.35000592004464,3.39703873605326,0.521232243909776,2.93258706899369,2.32122881657338,2.91675096678608,1.66177415363653,1.80340195296509,2.16559179608015,1.34616357945845,1.58592822387322,1.90445637479343,1.94968905939907,3.48705536429028,3.79564542207289,1.30079171263766,2.42781791306605,1.19900110546556,3.49992003892454,1.38876613169147,2.27543050387221,2.61409047381083,1.25850816051149,1.29113205911502,2.1236087227739,2.38800301600347,2.84167277810387,3.23067366143209,2.15943764248905,1.44416124232951,1.78129481004511,3.07649993168719,2.14424331430208,1.90509814881408,1.1693263393415,2.10761114325724,2.3141547052356,1.9222678009026,1.4152358767039,2.56301337507748,2.41874618273283,1.94410979454697,1.52716661481452,1.76434571704443,1.90094161421843,1.39018886194792],"y":[-0.00984910949880102,-0.574916347546489,0.343903151341735,-0.179727904352245,-0.0402609471425301,0.550836673028056,-1.19275872700064,0.355500002977497,-0.24383150231069,0.782791948815279,0.242228407755068,-0.215637617333555,0.216275585074026,-0.776818347344339,-0.539640714026718,0.119250692091973,0.0419432596632123,1.17573932971343,0.257322973420481,-0.761149636435063,0.378196012617052,-0.60609152775793,0.460674098911896,-0.20439932735215,0.334990605821678,0.560901355123079,-0.179704794722746,-0.116668651174011,-0.209729476677302,0.464639804708737,0.375269167195104,1.37416508679305,-0.217277578669048,-0.14341341045758,-0.499901681078136,0.688085677571177,0.140064201089791,0.0493005260130311,-0.164990262023109,0.372287871960798,0.18365127916902,0.409203466816063,-0.574916347546489,0.277862602929196,0.304798197854693,0.187532302800606,-0.375316982580488,0.0788588545184766,0.116627958512024,-0.28266093799055],"mode":"markers","type":"scatter","name":"virginica","marker":{"color":"rgba(0,204,150,1)","line":{"color":"rgba(0,204,150,1)"}},"textfont":{"color":"rgba(0,204,150,1)"},"error_y":{"color":"rgba(0,204,150,1)"},"error_x":{"color":"rgba(0,204,150,1)"},"line":{"color":"rgba(0,204,150,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>Visualize PCA with scatter3d</h2>

<p>With scatter3d, you can visualize an additional dimension, which let you capture even more variance.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">data</span><span class="p">(</span><span class="s2">"iris"</span><span class="p">)</span><span class="w">

</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">

</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">rank.</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">

</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC3</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">

</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">tot_explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">tot_explained_variance_ratio</span><span class="p">)</span><span class="w">

</span><span class="n">tit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Total Explained Variance = 99.48'</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC2</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC3</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_markers</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">12</span><span class="p">)</span><span class="w">


</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tit</span><span class="p">,</span><span class="w">
    </span><span class="n">scene</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">bgcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#e5ecf6"</span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-7af266681a5c5eb0d11b" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-7af266681a5c5eb0d11b">{"x":{"visdat":{"3e2560b48065":["function () ","plotlyVisDat"]},"cur_data":"3e2560b48065","attrs":{"3e2560b48065":{"x":{},"y":{},"z":{},"color":{},"colors":["#636EFA","#EF553B","#00CC96"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d","mode":"markers","size":12,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Explained Variance = 99.48","scene":{"bgcolor":"#e5ecf6","xaxis":{"title":"PC1"},"yaxis":{"title":"PC2"},"zaxis":{"title":"PC3"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[-2.68412562596953,-2.71414168729432,-2.88899056905929,-2.74534285564141,-2.72871653655453,-2.28085963284449,-2.82053775074061,-2.62614497314663,-2.88638273178055,-2.67275579782095,-2.50694709065185,-2.61275523090872,-2.78610926618802,-3.22380374386565,-2.64475038994203,-2.38603903353113,-2.62352787522442,-2.64829670625438,-2.19982032361758,-2.58798639987877,-2.31025621524252,-2.54370522875715,-3.21593941564861,-2.30273318222621,-2.35575404912377,-2.50666890692582,-2.46882007312134,-2.56231990619601,-2.63953471538454,-2.63198938727434,-2.58739847668935,-2.40993249700217,-2.64886233434991,-2.59873674910058,-2.6369268781058,-2.86624165211867,-2.62523804985037,-2.80068411544822,-2.98050204378199,-2.59000631396809,-2.7701024260279,-2.8493687050431,-2.99740654659491,-2.40561448509748,-2.20948923778368,-2.71445142675771,-2.53814825899894,-2.83946216764285,-2.54308574983039,-2.70335978233516],"y":[0.319397246585101,-0.17700122506478,-0.144949426085557,-0.318298979251916,0.32675451293492,0.741330449062915,-0.0894613845285689,0.163384959698329,-0.578311754186704,-0.113774245874117,0.645068898648574,0.0147299391613746,-0.235112000201718,-0.511394587006383,1.17876463643758,1.33806233040065,0.810679514181258,0.311849144593355,0.872839038962211,0.513560308749277,0.391345935653894,0.432996063279028,0.133468069538526,0.0987088548140995,-0.0372818596773824,-0.146016880495268,0.13095148943525,0.3677188574342,0.312039980235283,-0.196961224924315,-0.204318491274133,0.410924264229573,0.813363820296962,1.09314575944936,-0.121322347865863,0.0693644715800805,0.599370021379424,0.268643737797982,-0.487958344428615,0.229043836827013,0.263527533744256,-0.940960573641197,-0.34192605747161,0.18887142893026,0.436663141639188,-0.250208204185211,0.503771144461438,-0.227945569493828,0.579410021519889,0.107706082499412],"z":[-0.0279148275894133,-0.210464272378243,0.0179002563208909,0.0315593736056818,0.0900792405512017,0.168677658209105,0.257892158255619,-0.0218793178867192,0.0207595702647811,-0.197632724988146,-0.0753180093791198,0.10215025995659,-0.206844430449644,0.0612996724571,-0.151627523617809,0.277776902703135,0.138183227880719,0.0266683156125943,-0.120305523394731,0.213665172224716,-0.239444043244953,0.208457232416715,0.292396750745243,0.0391232587428813,0.125021082702879,-0.253420042344657,0.0949105760993922,-0.0784942051379239,-0.145908895730029,0.0407710790671798,-0.077222989073435,-0.14552497200513,0.22566914972012,0.15781081295822,-0.143049581786138,-0.164332306653025,-0.268350375693936,0.0936990824798006,0.0729270456926933,-0.0800823030173256,0.0772476931611043,-0.349230377305965,0.19250921171271,0.263867945513416,0.298742745755109,-0.0976781440456286,0.166705636604805,0.0837268490335941,-0.017115024248513,-0.0892940084788241],"type":"scatter3d","mode":"markers","name":"setosa","marker":{"color":"rgba(99,110,250,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(99,110,250,1)"}},"textfont":{"color":"rgba(99,110,250,1)","size":55},"error_y":{"color":"rgba(99,110,250,1)","width":55},"error_x":{"color":"rgba(99,110,250,1)","width":55},"line":{"color":"rgba(99,110,250,1)","width":55},"frame":null},{"x":[1.28482568885835,0.932488532312321,1.4643023219914,0.183317719958373,1.08810325771167,0.64166908425808,1.09506066263245,-0.749122669829655,1.04413182605344,-0.00874540408289369,-0.507840883835324,0.5116985574476,0.264976508112049,0.984934510470893,-0.173925371681766,0.92786078094425,0.660283761696939,0.236104993317674,0.944733728019815,0.0452269762987021,1.11628317735005,0.35788841799731,1.29818387535892,0.921728922447039,0.714853325911414,0.90017437317217,1.33202443672209,1.55780215506607,0.813290649817544,-0.305583778024307,-0.0681264920683613,-0.1896224723785,0.136428711558017,1.38002643591551,0.588006443339866,0.806858312500415,1.22069088244436,0.815095235766602,0.245957679886695,0.166413217145459,0.464800288403782,0.890815198469452,0.230548023559458,-0.704531759244661,0.356981494701049,0.331934479945061,0.376215651066673,0.64257600755434,-0.906469864948834,0.299000841878146],"y":[0.685160470467309,0.31833363826263,0.504262815309205,-0.827959011820632,0.0745906751977169,-0.418246871568678,0.28346827006153,-1.0048909611819,0.228361899788396,-0.723081905004834,-1.26597119052639,-0.10398123549904,-0.550036463680474,-0.124817854126357,-0.254854208702589,0.467179494441511,-0.35296966572385,-0.333610766824915,-0.543145550779766,-0.583834377471864,-0.0846168521947873,-0.0689250316560134,-0.327787308333917,-0.182737793621367,0.149055944369785,0.328504473834324,0.244440876016344,0.267495447310255,-0.163350300687616,-0.368262189754588,-0.705172131799465,-0.680286763528133,-0.314032438249236,-0.420954287313881,-0.484287419981218,0.194182314713152,0.407619593611008,-0.372037059909501,-0.268524396622014,-0.681926724863626,-0.67071154451172,-0.0344644443682682,-0.404385848007325,-1.01224822753171,-0.504910093337108,-0.212654683781169,-0.293218929251418,0.0177381901124169,-0.756093366599014,-0.348897806450335],"z":[-0.406568025467694,-0.0180141866462401,-0.338325764980896,-0.179591391875354,-0.307757896234784,0.0410760908239565,0.169810239860575,0.0123029192375963,-0.415336084759397,0.28114143117641,-0.269817182768851,0.130547750240487,-0.694146830144418,-0.0621144083222606,0.0904576907257051,-0.314620975832172,0.328027528378596,-0.271161837251066,-0.499519046485112,-0.235002104972055,0.459620991359104,-0.229853887608951,-0.347854352257308,-0.231071777736284,-0.321800937244473,-0.316209073711574,-0.521702779664419,-0.16492098374358,0.0354245048461606,-0.318491580623046,-0.244213810433554,-0.306420561217657,-0.177242766011244,0.0161671275207293,0.444433498639808,0.388963063098211,-0.237167009883876,-0.614720842591821,0.188366811646195,-0.0600092258553373,-0.024306855718951,-0.00994693289434844,-0.229410241439156,-0.105691148903019,0.0166171701982662,0.0832042908956771,0.0779963510876761,-0.20539496698326,-0.0125996475578892,0.0105816604955712],"type":"scatter3d","mode":"markers","name":"versicolor","marker":{"color":"rgba(239,85,59,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(239,85,59,1)"}},"textfont":{"color":"rgba(239,85,59,1)","size":55},"error_y":{"color":"rgba(239,85,59,1)","width":55},"error_x":{"color":"rgba(239,85,59,1)","width":55},"line":{"color":"rgba(239,85,59,1)","width":55},"frame":null},{"x":[2.53119272780363,1.4152358767039,2.61667601599569,1.97153105304344,2.35000592004464,3.39703873605326,0.521232243909776,2.93258706899369,2.32122881657338,2.91675096678608,1.66177415363653,1.80340195296509,2.16559179608015,1.34616357945845,1.58592822387322,1.90445637479343,1.94968905939907,3.48705536429028,3.79564542207289,1.30079171263766,2.42781791306605,1.19900110546556,3.49992003892454,1.38876613169147,2.27543050387221,2.61409047381083,1.25850816051149,1.29113205911502,2.1236087227739,2.38800301600347,2.84167277810387,3.23067366143209,2.15943764248905,1.44416124232951,1.78129481004511,3.07649993168719,2.14424331430208,1.90509814881408,1.1693263393415,2.10761114325724,2.3141547052356,1.9222678009026,1.4152358767039,2.56301337507748,2.41874618273283,1.94410979454697,1.52716661481452,1.76434571704443,1.90094161421843,1.39018886194792],"y":[-0.00984910949880102,-0.574916347546489,0.343903151341735,-0.179727904352245,-0.0402609471425301,0.550836673028056,-1.19275872700064,0.355500002977497,-0.24383150231069,0.782791948815279,0.242228407755068,-0.215637617333555,0.216275585074026,-0.776818347344339,-0.539640714026718,0.119250692091973,0.0419432596632123,1.17573932971343,0.257322973420481,-0.761149636435063,0.378196012617052,-0.60609152775793,0.460674098911896,-0.20439932735215,0.334990605821678,0.560901355123079,-0.179704794722746,-0.116668651174011,-0.209729476677302,0.464639804708737,0.375269167195104,1.37416508679305,-0.217277578669048,-0.14341341045758,-0.499901681078136,0.688085677571177,0.140064201089791,0.0493005260130311,-0.164990262023109,0.372287871960798,0.18365127916902,0.409203466816063,-0.574916347546489,0.277862602929196,0.304798197854693,0.187532302800606,-0.375316982580488,0.0788588545184766,0.116627958512024,-0.28266093799055],"z":[0.760165427245895,0.296322527387965,-0.110787883219109,0.108424662463423,0.285389563184442,-0.348437555797467,0.545659295646814,-0.420239935767968,-0.348304394934844,0.423335417682558,0.242440189725769,-0.0376481682314819,0.0333266418443256,0.281902882118466,0.629029326408011,0.479639819626591,0.0441861676301224,0.133894873936098,-0.513767763817804,-0.344995038313417,0.219119324301943,0.511855508697001,-0.573182242568002,-0.0645227566312678,0.28615009116915,-0.205534524353625,0.0458477039272506,0.231256462659971,0.154180023928831,-0.44953019194185,-0.498898075870768,-0.11454820547542,0.208763167130838,-0.15323388806309,-0.172875189113419,-0.335592292434541,0.734878936725511,0.162180235770737,0.281835840208481,0.027291132141631,0.322693747173059,0.113586595799357,0.296322527387965,0.292569524596743,0.50448266397718,0.177825090632658,-0.121898171867181,0.130481631287848,0.723251563489917,0.362909648085376],"type":"scatter3d","mode":"markers","name":"virginica","marker":{"color":"rgba(0,204,150,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(0,204,150,1)"}},"textfont":{"color":"rgba(0,204,150,1)","size":55},"error_y":{"color":"rgba(0,204,150,1)","width":55},"error_x":{"color":"rgba(0,204,150,1)","width":55},"line":{"color":"rgba(0,204,150,1)","width":55},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>Plotting explained variance</h2>

<p>Often, you might be interested in seeing how much variance PCA is able to explain as you increase the number of components, in order to decide how many dimensions to ultimately keep or analyze. This example shows you how to quickly plot the cumulative sum of explained variance for a high-dimensional dataset like <a href="https://rdrr.io/cran/mlbench/man/PimaIndiansDiabetes.html">PimaIndiansDiabetes</a>.</p>

<p>With a higher explained variance, you are able to capture more variability in your dataset, which could potentially lead to better performance when training your model. For a more mathematical explanation, see this <a href="https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained">Q&amp;A thread</a>.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">base</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">mlbench</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">PimaIndiansDiabetes</span><span class="p">)</span><span class="w">

</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">PimaIndiansDiabetes</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">diabetes</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="w">
</span><span class="n">explained_variance_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"importance"</span><span class="p">]][</span><span class="s1">'Proportion of Variance'</span><span class="p">,]</span><span class="w">
</span><span class="n">cumsum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cumsum</span><span class="p">(</span><span class="n">explained_variance_ratio</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">cumsum</span><span class="p">,</span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">cumsum</span><span class="p">),</span><span class="w"> </span><span class="m">1</span><span class="p">))</span><span class="w">
</span><span class="n">colnames</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Explained_Variance'</span><span class="p">,</span><span class="s1">'Components'</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Components</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Explained_Variance</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'lines'</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'tozeroy'</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"# Components"</span><span class="p">,</span><span class="w"> </span><span class="n">tickvals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">cumsum</span><span class="p">),</span><span class="w"> </span><span class="m">1</span><span class="p">)),</span><span class="w">
    </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Explained Variance"</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-ff207829a94e062216e9" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-ff207829a94e062216e9">{"x":{"visdat":{"3e256ccdca65":["function () ","plotlyVisDat"]},"cur_data":"3e256ccdca65","attrs":{"3e256ccdca65":{"x":{},"y":{},"mode":"lines","fill":"tozeroy","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"# Components","tickvals":[1,2,3,4,5,6,7,8]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Explained Variance"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":[1,2,3,4,5,6,7,8],"y":[0.88855,0.95014,0.97593,0.98902,0.99646,0.99949,1,1.00001],"mode":"lines","fill":"tozeroy","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>Visualize Loadings</h2>

<p>It is also possible to visualize loadings using <code>shapes</code>, and use <code>annotations</code> to indicate which feature a certain loading original belong to. Here, we define loadings as:</p>

<p>$$
loadings = eigenvectors \cdot \sqrt{eigenvalues}
$$</p>

<p>For more details about the linear algebra behind eigenvectors and loadings, see this <a href="https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another">Q&amp;A thread</a>.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">Species</span><span class="p">))</span><span class="w">
</span><span class="n">prin_comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"x"</span><span class="p">]]</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">components</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span><span class="w">
</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="n">components</span><span class="o">$</span><span class="n">PC2</span><span class="w">
</span><span class="n">explained_variance</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">prin_comp</span><span class="p">)[[</span><span class="s2">"sdev"</span><span class="p">]]</span><span class="w">
</span><span class="n">explained_variance</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">explained_variance</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">]</span><span class="w">
</span><span class="n">comp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prin_comp</span><span class="p">[[</span><span class="s2">"rotation"</span><span class="p">]]</span><span class="w">
</span><span class="n">comp</span><span class="p">[,</span><span class="s1">'PC2'</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">comp</span><span class="p">[,</span><span class="s1">'PC2'</span><span class="p">]</span><span class="w">
</span><span class="n">loadings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">comp</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">explained_variance</span><span class="p">)){</span><span class="w">
  </span><span class="n">loadings</span><span class="p">[,</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">comp</span><span class="p">[,</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">explained_variance</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'sepal_length'</span><span class="p">,</span><span class="w"> </span><span class="s1">'sepal_width'</span><span class="p">,</span><span class="w"> </span><span class="s1">'petal_length'</span><span class="p">,</span><span class="w"> </span><span class="s1">'petal_width'</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">components</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">PC2</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#636EFA'</span><span class="p">,</span><span class="s1">'#EF553B'</span><span class="p">,</span><span class="s1">'#00CC96'</span><span class="p">),</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'color'</span><span class="p">)),</span><span class="w">
    </span><span class="n">plot_bgcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#e5ecf6"</span><span class="p">,</span><span class="w">
    </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0"</span><span class="p">),</span><span class="w">
    </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
      </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="p">))</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">4</span><span class="p">)){</span><span class="w">
  </span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">add_segments</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">xend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">yend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'black'</span><span class="p">),</span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">add_annotations</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">loadings</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="n">ax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">ay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">features</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">xanchor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'center'</span><span class="p">,</span><span class="w"> </span><span class="n">yanchor</span><span class="o">=</span><span class="w"> </span><span class="s1">'bottom'</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-8cc93aa3d4bf8d0bf30f" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-8cc93aa3d4bf8d0bf30f">{"x":{"visdat":{"3e253684d346":["function () ","plotlyVisDat"]},"cur_data":"3e253684d346","attrs":{"3e253684d346":{"x":{},"y":{},"mode":"markers","color":{},"colors":["#636EFA","#EF553B","#00CC96"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"3e253684d346.1":{"x":0,"y":0,"xend":0.74310800226532,"yend":0.32344628375164,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false},"3e253684d346.2":{"x":0,"y":0,"xend":-0.173801015313449,"yend":0.359689371716058,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false},"3e253684d346.3":{"x":0,"y":0,"xend":1.76154510725425,"yend":-0.0854061871566001,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false},"3e253684d346.4":{"x":0,"y":0,"xend":0.736738926071341,"yend":-0.0371831753050516,"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"inherit":false}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"title":{"text":"color"}},"plot_bgcolor":"#e5ecf6","xaxis":{"domain":[0,1],"automargin":true,"title":"0"},"yaxis":{"domain":[0,1],"automargin":true,"title":"1"},"annotations":[{"text":"sepal_length","x":0.74310800226532,"y":0.32344628375164,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"},{"text":"sepal_width","x":-0.173801015313449,"y":0.359689371716058,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"},{"text":"petal_length","x":1.76154510725425,"y":-0.0854061871566001,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"},{"text":"petal_width","x":0.736738926071341,"y":-0.0371831753050516,"ax":0,"ay":0,"xanchor":"center","yanchor":"bottom"}],"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[-2.68412562596953,-2.71414168729432,-2.88899056905929,-2.74534285564141,-2.72871653655453,-2.28085963284449,-2.82053775074061,-2.62614497314663,-2.88638273178055,-2.67275579782095,-2.50694709065185,-2.61275523090872,-2.78610926618802,-3.22380374386565,-2.64475038994203,-2.38603903353113,-2.62352787522442,-2.64829670625438,-2.19982032361758,-2.58798639987877,-2.31025621524252,-2.54370522875715,-3.21593941564861,-2.30273318222621,-2.35575404912377,-2.50666890692582,-2.46882007312134,-2.56231990619601,-2.63953471538454,-2.63198938727434,-2.58739847668935,-2.40993249700217,-2.64886233434991,-2.59873674910058,-2.6369268781058,-2.86624165211867,-2.62523804985037,-2.80068411544822,-2.98050204378199,-2.59000631396809,-2.7701024260279,-2.8493687050431,-2.99740654659491,-2.40561448509748,-2.20948923778368,-2.71445142675771,-2.53814825899894,-2.83946216764285,-2.54308574983039,-2.70335978233516],"y":[0.319397246585101,-0.17700122506478,-0.144949426085557,-0.318298979251916,0.32675451293492,0.741330449062915,-0.0894613845285689,0.163384959698329,-0.578311754186704,-0.113774245874117,0.645068898648574,0.0147299391613746,-0.235112000201718,-0.511394587006383,1.17876463643758,1.33806233040065,0.810679514181258,0.311849144593355,0.872839038962211,0.513560308749277,0.391345935653894,0.432996063279028,0.133468069538526,0.0987088548140995,-0.0372818596773824,-0.146016880495268,0.13095148943525,0.3677188574342,0.312039980235283,-0.196961224924315,-0.204318491274133,0.410924264229573,0.813363820296962,1.09314575944936,-0.121322347865863,0.0693644715800805,0.599370021379424,0.268643737797982,-0.487958344428615,0.229043836827013,0.263527533744256,-0.940960573641197,-0.34192605747161,0.18887142893026,0.436663141639188,-0.250208204185211,0.503771144461438,-0.227945569493828,0.579410021519889,0.107706082499412],"mode":"markers","type":"scatter","name":"setosa","marker":{"color":"rgba(99,110,250,1)","line":{"color":"rgba(99,110,250,1)"}},"textfont":{"color":"rgba(99,110,250,1)"},"error_y":{"color":"rgba(99,110,250,1)"},"error_x":{"color":"rgba(99,110,250,1)"},"line":{"color":"rgba(99,110,250,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1.28482568885835,0.932488532312321,1.4643023219914,0.183317719958373,1.08810325771167,0.64166908425808,1.09506066263245,-0.749122669829655,1.04413182605344,-0.00874540408289369,-0.507840883835324,0.5116985574476,0.264976508112049,0.984934510470893,-0.173925371681766,0.92786078094425,0.660283761696939,0.236104993317674,0.944733728019815,0.0452269762987021,1.11628317735005,0.35788841799731,1.29818387535892,0.921728922447039,0.714853325911414,0.90017437317217,1.33202443672209,1.55780215506607,0.813290649817544,-0.305583778024307,-0.0681264920683613,-0.1896224723785,0.136428711558017,1.38002643591551,0.588006443339866,0.806858312500415,1.22069088244436,0.815095235766602,0.245957679886695,0.166413217145459,0.464800288403782,0.890815198469452,0.230548023559458,-0.704531759244661,0.356981494701049,0.331934479945061,0.376215651066673,0.64257600755434,-0.906469864948834,0.299000841878146],"y":[0.685160470467309,0.31833363826263,0.504262815309205,-0.827959011820632,0.0745906751977169,-0.418246871568678,0.28346827006153,-1.0048909611819,0.228361899788396,-0.723081905004834,-1.26597119052639,-0.10398123549904,-0.550036463680474,-0.124817854126357,-0.254854208702589,0.467179494441511,-0.35296966572385,-0.333610766824915,-0.543145550779766,-0.583834377471864,-0.0846168521947873,-0.0689250316560134,-0.327787308333917,-0.182737793621367,0.149055944369785,0.328504473834324,0.244440876016344,0.267495447310255,-0.163350300687616,-0.368262189754588,-0.705172131799465,-0.680286763528133,-0.314032438249236,-0.420954287313881,-0.484287419981218,0.194182314713152,0.407619593611008,-0.372037059909501,-0.268524396622014,-0.681926724863626,-0.67071154451172,-0.0344644443682682,-0.404385848007325,-1.01224822753171,-0.504910093337108,-0.212654683781169,-0.293218929251418,0.0177381901124169,-0.756093366599014,-0.348897806450335],"mode":"markers","type":"scatter","name":"versicolor","marker":{"color":"rgba(239,85,59,1)","line":{"color":"rgba(239,85,59,1)"}},"textfont":{"color":"rgba(239,85,59,1)"},"error_y":{"color":"rgba(239,85,59,1)"},"error_x":{"color":"rgba(239,85,59,1)"},"line":{"color":"rgba(239,85,59,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.53119272780363,1.4152358767039,2.61667601599569,1.97153105304344,2.35000592004464,3.39703873605326,0.521232243909776,2.93258706899369,2.32122881657338,2.91675096678608,1.66177415363653,1.80340195296509,2.16559179608015,1.34616357945845,1.58592822387322,1.90445637479343,1.94968905939907,3.48705536429028,3.79564542207289,1.30079171263766,2.42781791306605,1.19900110546556,3.49992003892454,1.38876613169147,2.27543050387221,2.61409047381083,1.25850816051149,1.29113205911502,2.1236087227739,2.38800301600347,2.84167277810387,3.23067366143209,2.15943764248905,1.44416124232951,1.78129481004511,3.07649993168719,2.14424331430208,1.90509814881408,1.1693263393415,2.10761114325724,2.3141547052356,1.9222678009026,1.4152358767039,2.56301337507748,2.41874618273283,1.94410979454697,1.52716661481452,1.76434571704443,1.90094161421843,1.39018886194792],"y":[-0.00984910949880102,-0.574916347546489,0.343903151341735,-0.179727904352245,-0.0402609471425301,0.550836673028056,-1.19275872700064,0.355500002977497,-0.24383150231069,0.782791948815279,0.242228407755068,-0.215637617333555,0.216275585074026,-0.776818347344339,-0.539640714026718,0.119250692091973,0.0419432596632123,1.17573932971343,0.257322973420481,-0.761149636435063,0.378196012617052,-0.60609152775793,0.460674098911896,-0.20439932735215,0.334990605821678,0.560901355123079,-0.179704794722746,-0.116668651174011,-0.209729476677302,0.464639804708737,0.375269167195104,1.37416508679305,-0.217277578669048,-0.14341341045758,-0.499901681078136,0.688085677571177,0.140064201089791,0.0493005260130311,-0.164990262023109,0.372287871960798,0.18365127916902,0.409203466816063,-0.574916347546489,0.277862602929196,0.304798197854693,0.187532302800606,-0.375316982580488,0.0788588545184766,0.116627958512024,-0.28266093799055],"mode":"markers","type":"scatter","name":"virginica","marker":{"color":"rgba(0,204,150,1)","line":{"color":"rgba(0,204,150,1)"}},"textfont":{"color":"rgba(0,204,150,1)"},"error_y":{"color":"rgba(0,204,150,1)"},"error_x":{"color":"rgba(0,204,150,1)"},"line":{"color":"rgba(0,204,150,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,0.74310800226532],"y":[0,0.32344628375164],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,-0.173801015313449],"y":[0,0.359689371716058],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1.76154510725425],"y":[0,-0.0854061871566001],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,0.736738926071341],"y":[0,-0.0371831753050516],"type":"scatter","mode":"lines","line":{"color":"black"},"showlegend":false,"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h2>References</h2>

<p>Learn more about <code>scatter3d</code>, and <code>splom</code> here:</p>

<ul>
<li><p>https://plot.ly/r/3d-scatter-plots/</p></li>
<li><p>https://plot.ly/r/splom/</p></li>
</ul>

<p>The following resources offer an in-depth overview of PCA and explained variance:</p>

<ul>
<li><p>https://en.wikipedia.org/wiki/Explained_variation</p></li>
<li><p>https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/140579#140579</p></li>
<li><p>https://stats.stackexchange.com/questions/143905/loadings-vs-eigenvectors-in-pca-when-to-use-one-or-another</p></li>
<li><p>https://stats.stackexchange.com/questions/22569/pca-and-proportion-of-variance-explained</p></li>
</ul>

<h3>What About Dash?</h3>

<p><a href="https://dashr.plot.ly/">Dash for R</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. </p>

<p>Learn about how to install Dash for R at https://dashr.plot.ly/installation.</p>

<p>Everywhere in this page that you see <code>fig</code>, you can display the same figure in a Dash for R application by passing it to the <code>figure</code> argument of the <a href="https://dashr.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dashCoreComponents</code> package like this:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> 
</span><span class="c1"># fig &lt;- fig %&gt;% add_trace( ... )</span><span class="w">
</span><span class="c1"># fig &lt;- fig %&gt;% layout( ... ) </span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashCoreComponents</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashHtmlComponents</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Dash</span><span class="o">$</span><span class="n">new</span><span class="p">()</span><span class="w">
</span><span class="n">app</span><span class="o">$</span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">htmlDiv</span><span class="p">(</span><span class="w">
        </span><span class="nf">list</span><span class="p">(</span><span class="w">
            </span><span class="n">dccGraph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span><span class="w"> 
        </span><span class="p">)</span><span class="w">
     </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="o">$</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">dev_tools_hot_reload</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>

			</section>

			

			<a href="https://dashr.plotly.com"><img width="100%" style="margin-top: 20px;" src="/all_static/images/dash.png"/></a>

			
			<!--End Plotly Basics Section-->
		</section>
	</div>
</main>


<script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


<footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly ‚Äî from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2021 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "r";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'r_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>

</html>
