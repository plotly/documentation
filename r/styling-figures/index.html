<!DOCTYPE html>
<html>

<head>
  <!-- This page was last built at 2021-08-30 02:48 -->

  <meta charset="utf-8" />

  <link rel="canonical" href="https://plotly.com/r/styling-figures/" />

  <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
  <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    crossorigin="anonymous">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

  
  
  <!-- code highlighting -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <!-- Mathjax -->
  <script type='text/javascript'
    src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>

  

  
  <!-- Plotly.js hardcoded to 1.x due to Plotly.plot() -->
  <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
  <script src="/all_static/r_files/r_dependencies.js"></script>
  
  
  
  <!--
      //// Stylesheets
      -->

  <!-- Fonts -->
  <link
    href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap"
    rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Main Stylesheets -->
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/main.css?version=../all_sta">
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/improve.css?version=../all_sta">

  <!-- LOCAL DEV STYLESHEET -->
  <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

  <!-- Icon -->
  <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

  <!-- Google Tags-->
  <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



  <!-- META TAGS -->
  <!-- SEO Tags - title, meta_description -->
<title>Styling Plotly Figures in R | R | Plotly  </title>
<meta name="description" content="How to customize figures with Plotly for R.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Styling Plotly Figures in R"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/plotly-express.png">
    <meta property="og:description" content="How to customize figures with Plotly for R."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Styling Plotly Figures in R"/>
    <meta name="twitter:url" content="https://plotly.com/r/styling-figures/"/>
    <meta name="twitter:description" content="How to customize figures with Plotly for R."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/plotly-express.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>

<body data-spy="scroll" data-target=".watch" style="position:relative;">
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


  <!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

  <div class="header-container">
    <div id="campaign-zero-banner">
        ‚úäüèø Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july" style="color:deeppink">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/r">R</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/r/plotly-fundamentals">Fundamentals</a>

                        

                        
                        &gt;<a href="#">Styling Plotly Figures in R</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li><a style="font-family: verdana, tahoma, open sans, sans-serif; font-size: 14px; font-weight: bold;" href="https://plotly.com/get-pricing/">PRICING</a></li>
                        <li><a href="https://plotly.com/get-demo" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">GET DEMO</a></li>
                            <li><a href="http://plotly.cloud" data-mode="1" target="_blank" id="teal-background" class="typeform-share button --enterprise-quaternary"
                                style="font-family: verdana, tahoma, open sans, sans-serif;">DASH CLOUD</a></li>
                            
<iframe src="https://ghbtns.com/github-btn.html?user=ropensci&repo=plotly&type=star&count=true&size=large" style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>
                   
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


  <main class="--page page--single --index">

    <div class="--wrap">
      <!-- aside - Main Sidebar-->
      <aside class="--sidebar-container">
        <div class="--sidebar-fixed reference" data-spy="affix" id="where">
          
          <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
            <input id="modal-input" style="border-radius: 5px; width: 100%;" type="text" placeholder="   Search..."
              readonly />
          </button>
          
          <header class="--sidebar-header">On This Page</header>
          <nav class="--sidebar-body watch" id="where">
            <ul class="--sidebar-list"></ul>
          </nav>
        </div>
      </aside>
      <!-- Main-->
      <section class="--page-body --tutorial-index --base">
        <header class="--welcome">
          <div class="--welcome-body">
            <!--div.--wrap-inner-->
            <div class="--title">
              <div class="--body">
                <div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                
                <a id="forklink" href= "https://github.com/plotly/plotly.r-docs/edit/master/r/2021-08-02-styling-plotly-in-r.Rmd" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>
                
                <h1>
                  Styling Plotly Figures in R
                  
                  in 
                  R
                  
                </h1>
                <p>How to customize figures with Plotly for R. </p>
                <br>  
                
                



                


<div class="dash-plug">
  <p>Write, deploy, & scale Dash apps and R data visualizations on a Kubernetes Dash Enterprise cluster.
    <br>
    <a href="https://plotly.com/get-pricing/" class="plotly-red">Get Pricing</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/get-demo/" class="plotly-red">Demo Dash Enterprise</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/dash/" class="plotly-red">Dash Enterprise Overview</a>
  </p>
</div>
<br>





<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/r/is-plotly-free/">free and open-source</a> graphing library for R. We recommend you read our <a href="/r/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/r/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/r/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>


              </div>
            </div>
          </div>
        </header>

        <!-- Start Plotly Basics Section -->
        <section class="tutorial-content">

          






          <h3>Styling Figures made with Plotly</h3>

<p>Plotly&#39;s R graphing library makes it easy to create interactive, publication-quality graphs.</p>

<p>More specifically, here are the 3 ways you can style and customize figures made with Plotly:</p>

<ol>
<li>Control common parameters like titles, labeling and colors using built-in Plotly function arguments</li>
<li>Updating the plotly figure attributes</li>
<li>Using ggplot2&#39;s template via theme attribute.</li>
</ol>

<h3>Built-in Plotly Styling Arguments</h3>

<p>Many common styling options can be set directly. Every Plotly  function accepts the following arguments:</p>

<ul>
<li><code>title</code> to set the figure title</li>
<li><code>labels</code> to override the default axis and legend labels behaviour, which is to use the data frame column name if available, and otherwise to use the label name itself like &quot;x&quot;, &quot;y&quot;, &quot;color&quot; etc. <code>labels</code> accepts list whose  values are the desired labels. These labels appear in axis labels, legend and color bar titles, and in hover labels.</li>
<li><code>category_orders</code> to override the default category ordering behaviour, which is to use the order in which the data appears in the input. <code>category_orders</code> accepts an array  whose values are a <code>list</code> of values in the desired order. These orderings apply everywhere categories appear: in legends, on axes, in bar stacks, in the order of facets, in the order of animation frames etc.</li>
<li><code>hoverformat</code> and <code>hoverinfo</code> to control which attributes appear in the hover label and how they are formatted.</li>
<li>Various color-related attributes such as <code>color</code>, <code>colors</code>, <code>colorbar</code> and <code>colorRampPalette</code> set the colors used in the figure.</li>
</ul>

<p>To illustrate each of these, here is a simple, default figure made with Plotly. Note the default orderings for the x-axis categories.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">fig1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">)</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">warn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">fig1</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-146fcc66cdacf1ed1147" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-146fcc66cdacf1ed1147">{"x":{"visdat":{"2def5718f01":["function () ","plotlyVisDat"]},"cur_data":"2def5718f01","attrs":{"2def5718f01":{"x":{},"y":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"day","type":"category","categoryorder":"array","categoryarray":["Fri","Sat","Sun","Thur"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"total_bill"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<p>Here is the same figure, restyled by adding some extra parameters to the initial Plotly function call:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">xform</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Day of Week'</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Thur"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Fri"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sat"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sun"</span><span class="p">))</span><span class="w">

</span><span class="n">fig2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"#3399FF"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#FF6666"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">,</span><span class="w"> </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="p">,</span><span class="w"> </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Sum of Receipts'</span><span class="p">),</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Receipts by Payer Gender and Day of Week"</span><span class="p">,</span><span class="w">
          </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'&lt;b&gt; Payer Gender &lt;/b&gt;'</span><span class="p">)))</span><span class="w">
</span><span class="n">fig2</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-242c7977a007bb11b93a" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-242c7977a007bb11b93a">{"x":{"visdat":{"2def23860de":["function () ","plotlyVisDat"]},"cur_data":"2def23860de","attrs":{"2def23860de":{"x":{},"y":{},"color":{},"colors":["#3399FF","#FF6666"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Day of Week","categoryorder":"array","categoryarray":["Thur","Fri","Sat","Sun"],"type":"category"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Sum of Receipts"},"title":"Receipts by Payer Gender and Day of Week","legend":{"title":{"text":"<b> Payer Gender <\/b>"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(51,153,255,1)","line":{"color":"rgba(51,153,255,1)"}},"textfont":{"color":"rgba(51,153,255,1)"},"error_y":{"color":"rgba(51,153,255,1)"},"error_x":{"color":"rgba(51,153,255,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(255,102,102,1)","line":{"color":"rgba(255,102,102,1)"}},"textfont":{"color":"rgba(255,102,102,1)"},"error_y":{"color":"rgba(255,102,102,1)"},"error_x":{"color":"rgba(255,102,102,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Updating or Modifying Figures made with Plotly</h3>

<p>Here is the same figure as above, with some additional customizations to the axes and legend.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">xform</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Day of Week'</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Thur"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Fri"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sat"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sun"</span><span class="p">))</span><span class="w">

</span><span class="c1"># add a text callout with arrow</span><span class="w">
</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
  </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Fri'</span><span class="p">,</span><span class="w">
  </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">400</span><span class="p">,</span><span class="w">
  </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Below Target !'</span><span class="p">,</span><span class="w">
  </span><span class="n">showarrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w">
  </span><span class="n">arrowhead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
  </span><span class="n">ax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w">
  </span><span class="n">ay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-40</span><span class="w">
</span><span class="p">)</span><span class="w">
</span><span class="c1"># the y-axis prefix given as dollars</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"#3399FF"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#FF6666"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">,</span><span class="w"> </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="p">,</span><span class="w"> </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Sum of Receipts'</span><span class="p">,</span><span class="w"> </span><span class="n">tickprefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'$'</span><span class="p">),</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Receipts by Payer Gender and Day of Week"</span><span class="p">)</span><span class="w">
</span><span class="c1"># customie legend orientation &amp; position</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.2</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">orientation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'h'</span><span class="p">))</span><span class="w">
</span><span class="c1"># add a horizontal "target" line</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">add_segments</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Thur'</span><span class="p">,</span><span class="w"> </span><span class="n">xend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">950</span><span class="p">,</span><span class="w"> </span><span class="n">yend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">950</span><span class="p">,</span><span class="w">
                            </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">dash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"dash"</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'black'</span><span class="p">),</span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">annotations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w">
</span><span class="c1"># customize font</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Rockwell"</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-68a1531f5250f39fa187" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-68a1531f5250f39fa187">{"x":{"visdat":{"2def516a52a":["function () ","plotlyVisDat"]},"cur_data":"2def516a52a","attrs":{"2def516a52a":{"x":{},"y":{},"color":{},"colors":["#3399FF","#FF6666"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"2def516a52a.1":{"x":"Thur","y":950,"xend":0,"yend":950,"type":"scatter","mode":"lines","line":{"dash":"dash","color":"black"},"showlegend":false,"inherit":false}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Day of Week","categoryorder":"array","categoryarray":["Thur","Fri","Sat","Sun"],"type":"category"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Sum of Receipts","tickprefix":"$"},"title":"Receipts by Payer Gender and Day of Week","legend":{"x":0.2,"y":1,"orientation":"h"},"annotations":[{"x":"Fri","y":400,"text":"Below Target !","showarrow":true,"arrowhead":1,"ax":20,"ay":-40}],"font":{"family":"Rockwell"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(51,153,255,1)","line":{"color":"rgba(51,153,255,1)"}},"textfont":{"color":"rgba(51,153,255,1)"},"error_y":{"color":"rgba(51,153,255,1)"},"error_x":{"color":"rgba(51,153,255,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(255,102,102,1)","line":{"color":"rgba(255,102,102,1)"}},"textfont":{"color":"rgba(255,102,102,1)"},"error_y":{"color":"rgba(255,102,102,1)"},"error_x":{"color":"rgba(255,102,102,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Thur","0"],"y":[950,950],"type":"scatter","mode":"lines","line":{"color":"black","dash":"dash"},"showlegend":false,"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>How ggplot2 Express Works with Templates</h3>

<p>In this example, we will be using a template for the color palette.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="n">mpg</span><span class="p">)</span><span class="w">

</span><span class="n">base</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">cty</span><span class="p">,</span><span class="w"> </span><span class="n">hwy</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">cyl</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_jitter</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_abline</span><span class="p">(</span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">

</span><span class="n">labelled</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="w">
    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"City mileage/gallon"</span><span class="p">,</span><span class="w">
    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Highway mileage/gallon"</span><span class="p">,</span><span class="w">
    </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Cylinders"</span><span class="p">,</span><span class="w">
    </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Highway and city mileage are highly correlated"</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_colour_brewer</span><span class="p">(</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"seq"</span><span class="p">,</span><span class="w"> </span><span class="n">palette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Spectral"</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">labelled</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-e6d051cb0948469f51e2" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-e6d051cb0948469f51e2">{"x":{"data":[{"x":[17.9575758183375,21.2537766726688,20.3039215596393,20.6094270288944,18.0641830878332,16.3396580774337,19.6144390862435,19.2540613543242,19.1158167703077,21.9967851901427,18.3923683937639,28.1254488797858,23.6400245472789,25.168093509227,23.1333137681708,24.0593097658828,25.838029724732,25.3485460147262,24.3550211874768,21.0542695855722,17.9233125085011,18.3074557641521,21.0053980911151,20.6093145852908,19.1653120703995,18.7558152657002,20.1476523464546,19.8682492759079,20.7201519524679,19.2296120256186,23.244941053912,22.956797606498,18.1110296938568,18.1195103336126,19.9257004147395,19.3398488208652,19.9852736186236,18.3461899839342,21.1855798033997,19.3176700014621,19.3785836696625,19.0257560936734,19.7652469027787,19.6647663393989,19.0101278681308,19.6884118892252,15.1768969835713,16.3373779242858,21.0164891758934,21.3405566958711,21.039008494094,21.0866066096351,21.1403919393197,21.1893283460289,21.3202704483643,22.090144973062,24.3952378287911,23.8789660656825,25.651667416282,28.1439564460889,26.0717338887975,15.0197513045743,16.1208186732605,16.7618594618514,21.2134369596839,19.3339620741084,21.2272413235158,21.697099244222,32.993837579526,21.2952076360583,19.164144942537,21.9403623387218,20.9706306565553,34.8570609500632,29.0631206005812,21.1886770958081,19.1166646411642,21.0471081841737,17.6128059476614,18.8914497168735,20.6319890320301],"y":[29.2530733281747,28.9845040107146,31.0340864261612,30.2659490570426,25.6817844646052,24.7353948239237,27.9358991082758,27.1167911136523,27.3316414797679,29.7699571164325,23.9869940754026,32.9754416087642,32.3320718567818,31.9007175890729,28.6667114218697,32.3161651689559,34.3650031145662,36.2734864279628,35.6453092191368,29.0113452382386,26.0138257388026,27.236237401329,30.3805424956605,31.2427363354713,26.3931408010423,28.8014186520129,27.8017435567454,27.2772101739421,28.675983623229,26.9497422823682,31.381043863669,31.8707950515673,24.968052172102,23.7409742824733,27.0898231800646,25.2491161681712,26.2189389714971,22.7368901858106,25.9196662904695,25.7394461253658,26.1181223768741,25.6206812500954,25.3731098465621,27.2692692317069,25.1841434754431,26.8939072592184,20.3789327627048,20.2941884910688,29.3334106693044,27.2671688245609,30.8000236758962,30.6540288237855,26.7160236887634,29.2576031537727,31.3329480769113,30.6854288673028,29.8527389854193,32.6188257925212,35.162570945546,36.7308291211724,34.7612618716434,20.3603666270152,20.1821223460138,22.356041001901,28.9327283671126,26.0424210855737,29.356546831131,28.6941314537078,43.9546181069687,28.8776379497722,25.8759084753692,29.1916762080044,28.6644651334733,43.6672694692388,41.3847528945655,29.0382845768705,25.9647156789899,28.9300683967769,29.3115909602493,27.7650047836825,29.3315527388826],"text":["cty: 18<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 20<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 30<br />factor(cyl): 4","cty: 18<br />hwy: 26<br />factor(cyl): 4","cty: 16<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 28<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 22<br />hwy: 30<br />factor(cyl): 4","cty: 18<br />hwy: 24<br />factor(cyl): 4","cty: 28<br />hwy: 33<br />factor(cyl): 4","cty: 24<br />hwy: 32<br />factor(cyl): 4","cty: 25<br />hwy: 32<br />factor(cyl): 4","cty: 23<br />hwy: 29<br />factor(cyl): 4","cty: 24<br />hwy: 32<br />factor(cyl): 4","cty: 26<br />hwy: 34<br />factor(cyl): 4","cty: 25<br />hwy: 36<br />factor(cyl): 4","cty: 24<br />hwy: 36<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 18<br />hwy: 26<br />factor(cyl): 4","cty: 18<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 30<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 29<br />factor(cyl): 4","cty: 20<br />hwy: 28<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 23<br />hwy: 31<br />factor(cyl): 4","cty: 23<br />hwy: 32<br />factor(cyl): 4","cty: 18<br />hwy: 25<br />factor(cyl): 4","cty: 18<br />hwy: 24<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 26<br />factor(cyl): 4","cty: 18<br />hwy: 23<br />factor(cyl): 4","cty: 21<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 20<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 15<br />hwy: 20<br />factor(cyl): 4","cty: 16<br />hwy: 20<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 22<br />hwy: 31<br />factor(cyl): 4","cty: 24<br />hwy: 30<br />factor(cyl): 4","cty: 24<br />hwy: 33<br />factor(cyl): 4","cty: 26<br />hwy: 35<br />factor(cyl): 4","cty: 28<br />hwy: 37<br />factor(cyl): 4","cty: 26<br />hwy: 35<br />factor(cyl): 4","cty: 15<br />hwy: 20<br />factor(cyl): 4","cty: 16<br />hwy: 20<br />factor(cyl): 4","cty: 17<br />hwy: 22<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 22<br />hwy: 29<br />factor(cyl): 4","cty: 33<br />hwy: 44<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 22<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 35<br />hwy: 44<br />factor(cyl): 4","cty: 29<br />hwy: 41<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 18<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 28<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(215,25,28,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(215,25,28,1)"}},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.7394499095157,20.896196548827,19.9019203439355,20.035004074499],"y":[28.8834200147539,29.2976374918595,28.1827177813277,29.0518490435556],"text":["cty: 21<br />hwy: 29<br />factor(cyl): 5","cty: 21<br />hwy: 29<br />factor(cyl): 5","cty: 20<br />hwy: 28<br />factor(cyl): 5","cty: 20<br />hwy: 29<br />factor(cyl): 5"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(253,174,97,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(253,174,97,1)"}},"hoveron":"points","name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16.2783884968609,18.2068789290264,17.6414051398635,14.7512320257723,16.7171963574365,17.142906425707,15.1150869799778,14.6398748144507,16.904135571979,18.291662893258,18.2802314555272,17.1370533674955,16.7490319838747,15.9697114083916,15.7922408860177,16.9119651125744,17.1384102093056,11.1458374807611,15.0242133745924,15.2391507199034,15.6480679439381,15.898451439105,15.0674505837262,13.8234797952697,12.9625172743574,13.774575496465,12.7585923498496,14.2975773548707,15.2154474025592,13.7832345927134,13.2624051721767,14.1314687658101,13.7738287156448,18.0470130424947,17.8781959304586,16.8494769638404,15.6191377831623,17.9463041458279,18.0399571029469,18.6730357060209,17.245903956145,15.8264775000513,16.8068327918649,16.9165331048891,14.8348935343325,15.0017887894064,13.7283290894702,12.6640163559467,18.9522005790845,18.8087461382151,17.756295598112,18.6739452991635,19.1098557014018,13.9425770556554,14.6340146711096,13.9603992521763,18.089036613889,16.2269576592371,16.6741717336699,18.3179348655045,14.7217817030847,15.1127260858193,15.682447524555,17.6747550841421,17.8065708782524,19.06247159224,18.0835517404601,17.8159332750365,17.9298390941694,15.1354524655268,14.9902304671705,15.0799428002909,15.6724303323776,16.9401569735259,16.3984616307542,17.190937210992,16.3746257189661,18.3902169149369,16.9052211605012],"y":[25.9871003499255,25.7384419744834,26.7199915066361,24.936692263931,24.9139022286981,25.0712452925742,25.0915712427348,23.952763575688,25.2443628417328,26.1534991176799,29.0161712052301,25.8731064049527,24.1102986587211,21.6193679362535,21.6300295613706,23.8657976590097,23.9311059525236,17.2932148300111,21.6436698736623,21.3408430451527,23.2280541803688,22.6152717292309,19.3145551215857,18.1745936715975,16.6697906196117,16.9162494428456,16.8023448400199,17.1687021158636,18.79926793091,16.8090803114697,18.7019713576883,16.9561266679317,17.058707722649,25.8803579851985,24.7385423691943,26.2969436451793,23.696251808852,26.1662121362984,26.0874411107972,28.226046490483,23.7098450556397,23.7871274668723,24.1335701417178,22.1718240758404,19.3600477216765,20.0765320217237,17.3609075412154,19.3580493407324,26.7776215791702,26.303341483511,26.3408307112753,25.3447864167392,25.2623102266341,16.6810475433245,17.3431002086028,19.7274918200448,26.3764270370826,25.9294341079891,27.0408974025398,27.6489696979523,19.1673579365015,16.8048955069855,20.2419711356983,25.6828077830374,26.3006718095392,27.6546749802306,26.0947640398517,25.6112967146561,26.6758969279006,17.0689034555107,19.3324747227132,18.2634675115347,20.3312079282477,24.2856574498117,22.939903344214,24.1759072013199,25.8629835324362,25.945659130998,26.1666114807129],"text":["cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 27<br />factor(cyl): 6","cty: 15<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 15<br />hwy: 25<br />factor(cyl): 6","cty: 15<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 29<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 22<br />factor(cyl): 6","cty: 16<br />hwy: 22<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 11<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 22<br />factor(cyl): 6","cty: 15<br />hwy: 21<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 18<br />factor(cyl): 6","cty: 13<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6","cty: 16<br />hwy: 24<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 28<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 22<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 20<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 19<br />factor(cyl): 6","cty: 19<br />hwy: 27<br />factor(cyl): 6","cty: 19<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 25<br />factor(cyl): 6","cty: 19<br />hwy: 25<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 20<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 27<br />factor(cyl): 6","cty: 18<br />hwy: 28<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 16<br />hwy: 20<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 28<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 27<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 18<br />factor(cyl): 6","cty: 16<br />hwy: 20<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(171,221,164,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(171,221,164,1)"}},"hoveron":"points","name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16.3000285046175,13.9222402859479,10.6296131093055,13.9378056498244,12.6265510668978,12.1100213969126,15.8592725569382,15.1269439850003,16.1669710544869,15.2027037680149,15.0500217517838,13.628890863806,10.7951117515564,10.6862498724833,14.118564917706,14.1818621931598,13.6930750969797,9.10628797896206,11.3649624768645,10.7985837010667,12.9812475528568,8.9217953087762,12.9083653284237,11.1857100155205,12.837741625309,11.0005052072927,11.8013751789927,8.62593783289194,12.6926995582879,12.8758548757061,11.8063897904009,9.31093475650996,11.2220566034317,10.9171444868669,13.0980564437807,10.9242113975808,10.6660457873717,10.66566274371,11.9674492046237,13.0747343486175,13.1395686633885,12.9720746729523,13.2290452798828,13.2801740758121,10.9579281078652,12.640865283832,14.9223313668743,14.6772502904758,14.8678816819564,14.6329882686958,13.6454779718071,14.0290455462411,8.80765545517206,13.721658275649,13.3520819066092,10.6870715148747,11.3978328216821,12.3256368184462,11.9173870205879,11.1040870055556,10.8769418716431,10.793755007349,12.3531579460949,13.3507280973718,12.9500624511391,12.1885832728818,15.761884506233,13.6762788238004,10.8335766220465,13.2955161239952],"y":[22.9551929136738,19.8913905002177,15.0756847836077,19.6022111877799,17.1476240983233,16.6653978873044,26.0284578386694,22.7169576849788,25.6808406667784,25.0891638670117,24.0506215337664,18.6649149851874,14.0955720672384,14.8964346274734,17.3618164068088,18.7284628203139,18.6648666450754,11.9936807725579,17.2300259726122,14.9858753345907,17.3647531172261,12.1875459033996,16.7873039834201,15.9079030988738,18.3983349947259,14.7247258409858,16.0192537056282,12.0849253090099,17.1552550252527,17.0413496460766,16.3661046911031,11.9409516267478,14.7940053401515,16.1544697580859,17.2520930986851,15.3459261421114,16.7098847670481,16.7204328617081,17.7319963956252,18.7104298284277,16.636101497896,15.7427128205076,15.6310797670856,16.7273167878389,14.9736650312319,16.7863095857203,21.3333690490574,21.9159604240209,23.1479486262426,22.2650806915015,20.0388362789527,16.9271006384864,12.1629667920992,18.8826995104551,17.929007220827,13.8742812005803,14.7057791661471,18.0290211657062,17.9384412193671,14.737460690178,16.7832401240245,15.8096110157669,18.2066687481478,18.9507126253098,16.8311069713905,18.2942461216822,25.1391667891294,17.0630990579724,15.2657121114433,17.8123453341424],"text":["cty: 16<br />hwy: 23<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 17<br />factor(cyl): 8","cty: 16<br />hwy: 26<br />factor(cyl): 8","cty: 15<br />hwy: 23<br />factor(cyl): 8","cty: 16<br />hwy: 26<br />factor(cyl): 8","cty: 15<br />hwy: 25<br />factor(cyl): 8","cty: 15<br />hwy: 24<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 11<br />hwy: 14<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 12<br />hwy: 16<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 16<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 13<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 13<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 15<br />hwy: 21<br />factor(cyl): 8","cty: 15<br />hwy: 22<br />factor(cyl): 8","cty: 15<br />hwy: 23<br />factor(cyl): 8","cty: 15<br />hwy: 22<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 14<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 13<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 16<br />hwy: 25<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(43,131,186,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(43,131,186,1)"}},"hoveron":"points","name":"8","legendgroup":"8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[7.31438167703338,36.1686171059217],"y":[7.31438167703338,36.1686171059217],"text":"intercept: 0<br />slope: 1","type":"scatter","mode":"lines","line":{"width":7.55905511811024,"color":"rgba(127,127,127,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Highway and city mileage are highly correlated","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.31438167703338,36.1686171059217],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"City mileage/gallon","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.3402683027368,45.5553014309797],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Highway mileage/gallon","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cylinders","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2def18703428":{"x":{},"y":{},"colour":{},"type":"scatter"},"2def1d6252f8":{"intercept":{},"slope":{}}},"cur_data":"2def18703428","visdat":{"2def18703428":["function (y) ","x"],"2def1d6252f8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>What About Dash?</h3>

<p><a href="https://dashr.plot.ly/">Dash for R</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. </p>

<p>Learn about how to install Dash for R at https://dashr.plot.ly/installation.</p>

<p>Everywhere in this page that you see <code>fig</code>, you can display the same figure in a Dash for R application by passing it to the <code>figure</code> argument of the <a href="https://dashr.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dashCoreComponents</code> package like this:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> 
</span><span class="c1"># fig &lt;- fig %&gt;% add_trace( ... )</span><span class="w">
</span><span class="c1"># fig &lt;- fig %&gt;% layout( ... ) </span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashCoreComponents</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashHtmlComponents</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Dash</span><span class="o">$</span><span class="n">new</span><span class="p">()</span><span class="w">
</span><span class="n">app</span><span class="o">$</span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">htmlDiv</span><span class="p">(</span><span class="w">
        </span><span class="nf">list</span><span class="p">(</span><span class="w">
            </span><span class="n">dccGraph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span><span class="w"> 
        </span><span class="p">)</span><span class="w">
     </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="o">$</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">dev_tools_hot_reload</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>

        </section>

        

        <a href="https://dashr.plotly.com"><img width="100%" style="margin-top: 20px;"
            src="/all_static/images/dash.png" /></a>

        
        <!--End Plotly Basics Section-->
      </section>
    </div>
  </main>


  <script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


  <footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly ‚Äî from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2021 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "r";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'r_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>

</html>