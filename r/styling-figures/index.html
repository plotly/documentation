<!DOCTYPE html>
<html>

<head>
  <!-- This page was last built at 2021-08-29 04:21 -->

  <meta charset="utf-8" />

  <link rel="canonical" href="https://plotly.com/r/styling-figures/" />

  <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
  <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    crossorigin="anonymous">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

  
  
  <!-- code highlighting -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <!-- Mathjax -->
  <script type='text/javascript'
    src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>

  

  
  <!-- Plotly.js hardcoded to 1.x due to Plotly.plot() -->
  <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
  <script src="/all_static/r_files/r_dependencies.js"></script>
  
  
  
  <!--
      //// Stylesheets
      -->

  <!-- Fonts -->
  <link
    href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap"
    rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Main Stylesheets -->
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/main.css?version=../all_sta">
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/improve.css?version=../all_sta">

  <!-- LOCAL DEV STYLESHEET -->
  <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

  <!-- Icon -->
  <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

  <!-- Google Tags-->
  <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



  <!-- META TAGS -->
  <!-- SEO Tags - title, meta_description -->
<title>Styling Plotly Figures in R | R | Plotly  </title>
<meta name="description" content="How to customize figures with Plotly for R.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Styling Plotly Figures in R"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/plotly-express.png">
    <meta property="og:description" content="How to customize figures with Plotly for R."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Styling Plotly Figures in R"/>
    <meta name="twitter:url" content="https://plotly.com/r/styling-figures/"/>
    <meta name="twitter:description" content="How to customize figures with Plotly for R."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/plotly-express.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>

<body data-spy="scroll" data-target=".watch" style="position:relative;">
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


  <!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

  <div class="header-container">
    <div id="campaign-zero-banner">
        ‚úäüèø Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july" style="color:deeppink">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/r">R</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/r/plotly-fundamentals">Fundamentals</a>

                        

                        
                        &gt;<a href="#">Styling Plotly Figures in R</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li><a style="font-family: verdana, tahoma, open sans, sans-serif; font-size: 14px; font-weight: bold;" href="https://plotly.com/get-pricing/">PRICING</a></li>
                        <li><a href="https://plotly.com/get-demo" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">GET DEMO</a></li>
                            <li><a href="http://plotly.cloud" data-mode="1" target="_blank" id="teal-background" class="typeform-share button --enterprise-quaternary"
                                style="font-family: verdana, tahoma, open sans, sans-serif;">DASH CLOUD</a></li>
                            
<iframe src="https://ghbtns.com/github-btn.html?user=ropensci&repo=plotly&type=star&count=true&size=large" style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>
                   
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


  <main class="--page page--single --index">

    <div class="--wrap">
      <!-- aside - Main Sidebar-->
      <aside class="--sidebar-container">
        <div class="--sidebar-fixed reference" data-spy="affix" id="where">
          
          <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
            <input id="modal-input" style="border-radius: 5px; width: 100%;" type="text" placeholder="   Search..."
              readonly />
          </button>
          
          <header class="--sidebar-header">On This Page</header>
          <nav class="--sidebar-body watch" id="where">
            <ul class="--sidebar-list"></ul>
          </nav>
        </div>
      </aside>
      <!-- Main-->
      <section class="--page-body --tutorial-index --base">
        <header class="--welcome">
          <div class="--welcome-body">
            <!--div.--wrap-inner-->
            <div class="--title">
              <div class="--body">
                <div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                
                <a id="forklink" href= "https://github.com/plotly/plotly.r-docs/edit/master/r/2021-08-02-styling-plotly-in-r.Rmd" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>
                
                <h1>
                  Styling Plotly Figures in R
                  
                  in 
                  R
                  
                </h1>
                <p>How to customize figures with Plotly for R. </p>
                <br>  
                
                



                


<div class="dash-plug">
  <p>Write, deploy, & scale Dash apps and R data visualizations on a Kubernetes Dash Enterprise cluster.
    <br>
    <a href="https://plotly.com/get-pricing/" class="plotly-red">Get Pricing</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/get-demo/" class="plotly-red">Demo Dash Enterprise</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/dash/" class="plotly-red">Dash Enterprise Overview</a>
  </p>
</div>
<br>





<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/r/is-plotly-free/">free and open-source</a> graphing library for R. We recommend you read our <a href="/r/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/r/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/r/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>


              </div>
            </div>
          </div>
        </header>

        <!-- Start Plotly Basics Section -->
        <section class="tutorial-content">

          






          <h3>Styling Figures made with Plotly</h3>

<p>Plotly&#39;s R graphing library makes it easy to create interactive, publication-quality graphs.</p>

<p>More specifically, here are the 3 ways you can style and customize figures made with Plotly:</p>

<ol>
<li>Control common parameters like titles, labeling and colors using built-in Plotly function arguments</li>
<li>Updating the plotly figure attributes</li>
<li>Using ggplot2&#39;s template via theme attribute.</li>
</ol>

<h3>Built-in Plotly Styling Arguments</h3>

<p>Many common styling options can be set directly. Every Plotly  function accepts the following arguments:</p>

<ul>
<li><code>title</code> to set the figure title</li>
<li><code>labels</code> to override the default axis and legend labels behaviour, which is to use the data frame column name if available, and otherwise to use the label name itself like &quot;x&quot;, &quot;y&quot;, &quot;color&quot; etc. <code>labels</code> accepts list whose  values are the desired labels. These labels appear in axis labels, legend and color bar titles, and in hover labels.</li>
<li><code>category_orders</code> to override the default category ordering behaviour, which is to use the order in which the data appears in the input. <code>category_orders</code> accepts an array  whose values are a <code>list</code> of values in the desired order. These orderings apply everywhere categories appear: in legends, on axes, in bar stacks, in the order of facets, in the order of animation frames etc.</li>
<li><code>hoverformat</code> and <code>hoverinfo</code> to control which attributes appear in the hover label and how they are formatted.</li>
<li>Various color-related attributes such as <code>color</code>, <code>colors</code>, <code>colorbar</code> and <code>colorRampPalette</code> set the colors used in the figure.</li>
</ul>

<p>To illustrate each of these, here is a simple, default figure made with Plotly. Note the default orderings for the x-axis categories.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">fig1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">)</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">warn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">fig1</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-50a34e71a844af2d76ba" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-50a34e71a844af2d76ba">{"x":{"visdat":{"2e33247008ea":["function () ","plotlyVisDat"]},"cur_data":"2e33247008ea","attrs":{"2e33247008ea":{"x":{},"y":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"day","type":"category","categoryorder":"array","categoryarray":["Fri","Sat","Sun","Thur"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"total_bill"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<p>Here is the same figure, restyled by adding some extra parameters to the initial Plotly function call:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">xform</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Day of Week'</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Thur"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Fri"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sat"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sun"</span><span class="p">))</span><span class="w">

</span><span class="n">fig2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"#3399FF"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#FF6666"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">,</span><span class="w"> </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="p">,</span><span class="w"> </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Sum of Receipts'</span><span class="p">),</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Receipts by Payer Gender and Day of Week"</span><span class="p">,</span><span class="w">
          </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'&lt;b&gt; Payer Gender &lt;/b&gt;'</span><span class="p">)))</span><span class="w">
</span><span class="n">fig2</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-074777883115e8822531" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-074777883115e8822531">{"x":{"visdat":{"2e3322c81a1f":["function () ","plotlyVisDat"]},"cur_data":"2e3322c81a1f","attrs":{"2e3322c81a1f":{"x":{},"y":{},"color":{},"colors":["#3399FF","#FF6666"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Day of Week","categoryorder":"array","categoryarray":["Thur","Fri","Sat","Sun"],"type":"category"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Sum of Receipts"},"title":"Receipts by Payer Gender and Day of Week","legend":{"title":{"text":"<b> Payer Gender <\/b>"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(51,153,255,1)","line":{"color":"rgba(51,153,255,1)"}},"textfont":{"color":"rgba(51,153,255,1)"},"error_y":{"color":"rgba(51,153,255,1)"},"error_x":{"color":"rgba(51,153,255,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(255,102,102,1)","line":{"color":"rgba(255,102,102,1)"}},"textfont":{"color":"rgba(255,102,102,1)"},"error_y":{"color":"rgba(255,102,102,1)"},"error_x":{"color":"rgba(255,102,102,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Updating or Modifying Figures made with Plotly</h3>

<p>Here is the same figure as above, with some additional customizations to the axes and legend.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">xform</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Day of Week'</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Thur"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Fri"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sat"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sun"</span><span class="p">))</span><span class="w">

</span><span class="c1"># add a text callout with arrow</span><span class="w">
</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
  </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Fri'</span><span class="p">,</span><span class="w">
  </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">400</span><span class="p">,</span><span class="w">
  </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Below Target !'</span><span class="p">,</span><span class="w">
  </span><span class="n">showarrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w">
  </span><span class="n">arrowhead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
  </span><span class="n">ax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w">
  </span><span class="n">ay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-40</span><span class="w">
</span><span class="p">)</span><span class="w">
</span><span class="c1"># the y-axis prefix given as dollars</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"#3399FF"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#FF6666"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">,</span><span class="w"> </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="p">,</span><span class="w"> </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Sum of Receipts'</span><span class="p">,</span><span class="w"> </span><span class="n">tickprefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'$'</span><span class="p">),</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Receipts by Payer Gender and Day of Week"</span><span class="p">)</span><span class="w">
</span><span class="c1"># customie legend orientation &amp; position</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.2</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">orientation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'h'</span><span class="p">))</span><span class="w">
</span><span class="c1"># add a horizontal "target" line</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">add_segments</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Thur'</span><span class="p">,</span><span class="w"> </span><span class="n">xend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">950</span><span class="p">,</span><span class="w"> </span><span class="n">yend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">950</span><span class="p">,</span><span class="w">
                            </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">dash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"dash"</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'black'</span><span class="p">),</span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">annotations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w">
</span><span class="c1"># customize font</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Rockwell"</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-3e9b58669b9d809a2757" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-3e9b58669b9d809a2757">{"x":{"visdat":{"2e332e5848b1":["function () ","plotlyVisDat"]},"cur_data":"2e332e5848b1","attrs":{"2e332e5848b1":{"x":{},"y":{},"color":{},"colors":["#3399FF","#FF6666"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"2e332e5848b1.1":{"x":"Thur","y":950,"xend":0,"yend":950,"type":"scatter","mode":"lines","line":{"dash":"dash","color":"black"},"showlegend":false,"inherit":false}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Day of Week","categoryorder":"array","categoryarray":["Thur","Fri","Sat","Sun"],"type":"category"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Sum of Receipts","tickprefix":"$"},"title":"Receipts by Payer Gender and Day of Week","legend":{"x":0.2,"y":1,"orientation":"h"},"annotations":[{"x":"Fri","y":400,"text":"Below Target !","showarrow":true,"arrowhead":1,"ax":20,"ay":-40}],"font":{"family":"Rockwell"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(51,153,255,1)","line":{"color":"rgba(51,153,255,1)"}},"textfont":{"color":"rgba(51,153,255,1)"},"error_y":{"color":"rgba(51,153,255,1)"},"error_x":{"color":"rgba(51,153,255,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(255,102,102,1)","line":{"color":"rgba(255,102,102,1)"}},"textfont":{"color":"rgba(255,102,102,1)"},"error_y":{"color":"rgba(255,102,102,1)"},"error_x":{"color":"rgba(255,102,102,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Thur","0"],"y":[950,950],"type":"scatter","mode":"lines","line":{"color":"black","dash":"dash"},"showlegend":false,"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>How ggplot2 Express Works with Templates</h3>

<p>In this example, we will be using a template for the color palette.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="n">mpg</span><span class="p">)</span><span class="w">

</span><span class="n">base</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">cty</span><span class="p">,</span><span class="w"> </span><span class="n">hwy</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">cyl</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_jitter</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_abline</span><span class="p">(</span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">

</span><span class="n">labelled</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="w">
    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"City mileage/gallon"</span><span class="p">,</span><span class="w">
    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Highway mileage/gallon"</span><span class="p">,</span><span class="w">
    </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Cylinders"</span><span class="p">,</span><span class="w">
    </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Highway and city mileage are highly correlated"</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_colour_brewer</span><span class="p">(</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"seq"</span><span class="p">,</span><span class="w"> </span><span class="n">palette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Spectral"</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">labelled</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-e22a6cb8a53f63182cd1" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-e22a6cb8a53f63182cd1">{"x":{"data":[{"x":[18.0043571939692,20.9981786189601,19.6318557431921,21.3492842730135,18.2866677233949,16.109447276406,19.6566901808605,19.1798756189644,19.1522517798468,22.2137173853815,17.9275884762406,28.2167953867465,24.1985881375149,24.9420566147193,23.1940688695759,23.7761939730495,26.2419367840514,25.3585934454575,23.7237831167877,21.1899502418935,18.1370091447607,17.8410331370309,21.0426124067977,21.1190584622324,19.3849746210501,19.1390855267644,20.1509624440223,20.1585902757943,21.1680273536593,19.2910962842405,23.2222633831203,22.8812378596514,18.0663470707834,18.1465592503548,20.2757164627314,19.3667630538344,19.6484752556309,18.0498810363933,21.0282268788666,18.6597523849458,18.7898280782625,19.130864918232,20.1030022798106,19.7646789139137,18.6479886921123,19.7457469221205,15.3027665160596,15.962226738967,20.6741131536663,20.8688381593674,20.8515351306647,21.1603467354551,21.3982386341319,21.2955772580579,21.1532345008105,22.1092691536993,23.8643881337717,23.9905782779679,25.6446424318477,27.8601585622877,25.6477562572807,14.9960027191788,15.9840621903539,16.9753580842167,20.975740958564,19.1563862219453,20.8720021888614,22.2491212401539,33.0309084892273,20.7169954322279,18.7489566676319,22.0769256789237,20.8311837235466,34.7416245849803,28.721969419159,21.2298366477713,19.2004082931206,20.9038468873128,17.8502756979316,18.7825760561973,21.3772479629144],"y":[28.7953521244228,28.8911242736503,30.9504026986659,29.7356381412595,25.9060360185802,25.1660911783576,27.9822098795325,27.1053725793958,26.7376158094034,30.3741087134928,24.0496426774189,32.8728376466781,31.6728947602212,31.6635294800624,29.2732064893469,32.3335300762206,33.6813793823123,35.8263183591887,35.8109689682722,28.6039948379621,26.1140873443335,26.9478534124792,29.6991923511028,31.2034975154325,25.9110973002389,29.1901363736019,27.9586928138509,27.026028300263,28.6398511188105,27.3495628064498,31.0799853358418,31.6646582439542,24.9014236273244,23.8170473011211,27.1538134681061,24.8394282380119,25.8908051716164,23.0992584610358,26.062191654183,25.7699457714334,25.6738198962063,26.3212967719883,24.8681357294321,26.7063582492992,24.622277978994,27.2610582254827,20.0662433896214,20.0079267969355,28.9485319361091,27.2326354203746,31.3811695493758,30.6017385028303,26.7845834204927,29.0572930043563,31.171656236425,31.245578000322,30.3174444245175,32.7605064272881,34.7304392397404,37.0157542865723,35.2710327317938,20.3985726205632,20.190673185885,21.7301939520985,29.3803098849952,26.1520163044333,29.2934719452634,29.0322568804026,44.3127413220704,28.8769185015932,25.6548512548208,28.7980201676488,28.7145155502483,43.626699725911,41.1902994817123,28.9202127892524,25.7745130483061,29.1484817562625,28.7794930553064,28.1212384024635,28.6774652376771],"text":["cty: 18<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 20<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 30<br />factor(cyl): 4","cty: 18<br />hwy: 26<br />factor(cyl): 4","cty: 16<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 28<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 22<br />hwy: 30<br />factor(cyl): 4","cty: 18<br />hwy: 24<br />factor(cyl): 4","cty: 28<br />hwy: 33<br />factor(cyl): 4","cty: 24<br />hwy: 32<br />factor(cyl): 4","cty: 25<br />hwy: 32<br />factor(cyl): 4","cty: 23<br />hwy: 29<br />factor(cyl): 4","cty: 24<br />hwy: 32<br />factor(cyl): 4","cty: 26<br />hwy: 34<br />factor(cyl): 4","cty: 25<br />hwy: 36<br />factor(cyl): 4","cty: 24<br />hwy: 36<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 18<br />hwy: 26<br />factor(cyl): 4","cty: 18<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 30<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 29<br />factor(cyl): 4","cty: 20<br />hwy: 28<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 23<br />hwy: 31<br />factor(cyl): 4","cty: 23<br />hwy: 32<br />factor(cyl): 4","cty: 18<br />hwy: 25<br />factor(cyl): 4","cty: 18<br />hwy: 24<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 26<br />factor(cyl): 4","cty: 18<br />hwy: 23<br />factor(cyl): 4","cty: 21<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 20<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 15<br />hwy: 20<br />factor(cyl): 4","cty: 16<br />hwy: 20<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 22<br />hwy: 31<br />factor(cyl): 4","cty: 24<br />hwy: 30<br />factor(cyl): 4","cty: 24<br />hwy: 33<br />factor(cyl): 4","cty: 26<br />hwy: 35<br />factor(cyl): 4","cty: 28<br />hwy: 37<br />factor(cyl): 4","cty: 26<br />hwy: 35<br />factor(cyl): 4","cty: 15<br />hwy: 20<br />factor(cyl): 4","cty: 16<br />hwy: 20<br />factor(cyl): 4","cty: 17<br />hwy: 22<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 22<br />hwy: 29<br />factor(cyl): 4","cty: 33<br />hwy: 44<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 22<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 35<br />hwy: 44<br />factor(cyl): 4","cty: 29<br />hwy: 41<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 18<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 28<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(215,25,28,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(215,25,28,1)"}},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[21.1383719582111,20.9122899351642,19.6326122771949,19.7912488270551],"y":[29.372257155925,28.6818091262132,27.6152371222153,28.6135113654658],"text":["cty: 21<br />hwy: 29<br />factor(cyl): 5","cty: 21<br />hwy: 29<br />factor(cyl): 5","cty: 20<br />hwy: 28<br />factor(cyl): 5","cty: 20<br />hwy: 29<br />factor(cyl): 5"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(253,174,97,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(253,174,97,1)"}},"hoveron":"points","name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16.1036526491866,18.3224824691191,17.9951893145218,14.7406510867178,17.0622955957428,16.9372815456241,14.8756075454876,15.2653712233528,17.0783821951598,18.0119689499959,18.2346068784595,16.6845112465322,17.1445211427286,16.0299923419952,15.720278657414,16.6495623085648,17.3324153743684,11.1316555704921,15.1411223612726,14.7609538786113,16.1115627206862,16.1719482421875,14.7878648281097,13.664995367825,12.8589453315362,13.7627699952573,12.6272754689679,13.9367123264819,14.9096795424819,13.7661116866395,13.0479887474328,14.07895175796,14.2125731054693,18.3749477017671,18.2154862979427,16.984414691478,15.9968491215259,18.2639437828213,17.8140084739774,18.8988858323544,16.8784747622907,15.9874540014192,16.9419454863295,16.6737046809867,14.8915733939037,14.6774970006198,13.9495098276064,12.8534575041384,19.1393342370167,18.7821108601987,17.7476094396785,19.1660035578534,19.3651116946712,13.6523075550795,14.6704231962562,14.0013515200466,17.9518324453384,15.7555940072984,16.6848982512951,18.0675427097827,14.7437812199816,14.9154750041664,15.8926678979769,18.0378154888749,18.0335665507242,18.8497201370075,17.6114117918536,18.1991679437459,17.7881798231974,15.3668112536892,15.0289899444208,15.2633958945051,16.2430506387725,16.9249358989298,15.6203160991892,16.8750430533662,16.2033039452508,17.900467132777,16.8092020988464],"y":[25.8063226012513,26.0387316800654,26.957471950911,25.3248656742275,24.934489556402,25.128467670083,24.701929666847,23.6645806739107,24.6629731265828,25.7333247680217,28.977429838106,25.8049164066091,23.7238956525922,21.63942300044,22.2713661795482,24.1743916410953,24.2876473641023,17.1544747503474,21.9542706808075,21.0963873658329,23.0843248249963,22.8786327075213,18.6438250901178,18.3731964595616,17.0505594411865,16.9029682535678,17.0410931071267,16.9714921921492,18.9059965794906,16.7353503774852,19.2514509206638,17.0755286397412,16.7196390336379,25.8503348611295,24.8326513478532,25.8166222291067,24.1560290986672,25.8959029678255,25.7372036892921,27.6217816939577,24.0711065934971,23.7210417684168,24.3222539363429,21.6908231856301,18.9909376710653,19.9085214212537,17.2120933750644,18.9298173489049,27.1876938311383,25.6357370615005,26.2575833210722,25.3865751730278,24.8967106519267,16.9842377172783,17.3613033639267,19.8401056574658,26.1213274762034,25.7551544845104,26.789291584678,28.3028236435726,19.2282083040103,16.7770605074242,20.3561580004171,26.3747337246314,26.2832774436101,28.3187919009477,26.146683120355,26.1147356629372,26.9884356210008,16.9790055749938,19.0123330179602,18.2074868729338,19.7028631689027,24.3294414967298,22.7432993970811,24.0748023213819,26.2107605131343,25.7563928226009,25.6662498366088],"text":["cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 27<br />factor(cyl): 6","cty: 15<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 15<br />hwy: 25<br />factor(cyl): 6","cty: 15<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 29<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 22<br />factor(cyl): 6","cty: 16<br />hwy: 22<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 11<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 22<br />factor(cyl): 6","cty: 15<br />hwy: 21<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 18<br />factor(cyl): 6","cty: 13<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6","cty: 16<br />hwy: 24<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 28<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 22<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 20<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 19<br />factor(cyl): 6","cty: 19<br />hwy: 27<br />factor(cyl): 6","cty: 19<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 25<br />factor(cyl): 6","cty: 19<br />hwy: 25<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 20<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 27<br />factor(cyl): 6","cty: 18<br />hwy: 28<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 16<br />hwy: 20<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 28<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 27<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 18<br />factor(cyl): 6","cty: 16<br />hwy: 20<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(171,221,164,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(171,221,164,1)"}},"hoveron":"points","name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16.3256377983838,13.8531302375719,11.3724326532334,14.3197598865256,12.7531697144732,11.9350458655506,16.2096662171185,14.7664471048862,16.1438803948462,14.6091190813109,14.9144084656611,14.1868315767497,10.7643431007862,11.3430640885606,13.88838200178,13.7573825983331,14.0437732782215,8.80522874314338,11.0193881144747,11.3091288488358,12.9591729370877,8.79541632775217,13.2308086290956,11.3340952040628,13.0733951278031,11.0911618037149,12.3833718953654,9.06464743148535,13.0812112286687,12.7600089710206,12.2784683393314,8.83234882038087,11.3073027992621,10.9858364561573,12.8851212568581,11.3060611389577,10.9512912124395,10.7580205431208,11.6829323383048,13.1558558071032,13.03917358201,12.7795220630243,12.6243784908205,12.6374353611842,11.3183999717236,13.1934384077787,14.9966422906145,15.1131098814309,15.2379171079025,15.3204682789743,13.7852849228308,13.8740651974455,9.17266488187015,14.0633065890521,12.7711473768577,11.2573072511703,11.1774370545521,12.3491025103256,12.2054488552734,11.3997364562005,11.2554486989975,11.0533170925453,12.2035665357485,13.2913126671687,13.3995184322819,11.9635932382196,16.3516522852704,13.741425739415,11.3058780822903,13.3106614844874],"y":[23.0168245038018,20.3911797946319,14.7973350245506,20.0453788630664,17.0360419688746,17.0538603536785,25.9674679288641,23.1285838205367,26.3703218024224,25.3000050796196,24.3891168372706,18.6303967574611,14.0629369923845,14.7117605831474,17.3809560816735,18.8248805865645,18.6730346908793,12.1651799699292,16.7691281374544,15.3757478762418,17.3314011314884,11.8939529309049,16.8851522795856,15.7843504479155,17.6357511848211,15.2509589456022,16.2976062145084,12.2601168323308,16.6870439337566,16.9151235770434,16.3903070222586,12.1450718384236,14.9883704477921,15.9953934654593,17.1804661538452,14.7550053587183,16.8592576576397,16.9709120046347,17.9295683676377,19.3342429529876,16.8031924236566,15.7535785976797,16.1695217262954,16.8314797647297,15.290636465326,17.216337390244,20.7059234673157,22.2686387762427,23.3600535679609,21.800681264326,20.0366753833368,17.0142402732745,11.7268948279321,19.2488307777792,18.2441156277433,14.0678170571104,14.8069546209648,18.3509188545868,18.1153647547588,15.2172018013895,16.8366527561098,16.1751916235313,17.8706918451935,19.3830204607919,16.7904285404831,17.8888112509623,25.0260181011632,17.1663056293502,15.1012383893132,18.1601628355682],"text":["cty: 16<br />hwy: 23<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 17<br />factor(cyl): 8","cty: 16<br />hwy: 26<br />factor(cyl): 8","cty: 15<br />hwy: 23<br />factor(cyl): 8","cty: 16<br />hwy: 26<br />factor(cyl): 8","cty: 15<br />hwy: 25<br />factor(cyl): 8","cty: 15<br />hwy: 24<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 11<br />hwy: 14<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 12<br />hwy: 16<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 16<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 13<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 13<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 15<br />hwy: 21<br />factor(cyl): 8","cty: 15<br />hwy: 22<br />factor(cyl): 8","cty: 15<br />hwy: 23<br />factor(cyl): 8","cty: 15<br />hwy: 22<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 14<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 13<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 16<br />hwy: 25<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(43,131,186,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(43,131,186,1)"}},"hoveron":"points","name":"8","legendgroup":"8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[7.49810591489077,36.0389349978417],"y":[7.49810591489077,36.0389349978417],"text":"intercept: 0<br />slope: 1","type":"scatter","mode":"lines","line":{"width":7.55905511811024,"color":"rgba(127,127,127,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Highway and city mileage are highly correlated","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.49810591489077,36.0389349978417],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"City mileage/gallon","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.0976025032252,45.9420336467773],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Highway mileage/gallon","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cylinders","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2e332c140299":{"x":{},"y":{},"colour":{},"type":"scatter"},"2e335136d530":{"intercept":{},"slope":{}}},"cur_data":"2e332c140299","visdat":{"2e332c140299":["function (y) ","x"],"2e335136d530":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>What About Dash?</h3>

<p><a href="https://dashr.plot.ly/">Dash for R</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. </p>

<p>Learn about how to install Dash for R at https://dashr.plot.ly/installation.</p>

<p>Everywhere in this page that you see <code>fig</code>, you can display the same figure in a Dash for R application by passing it to the <code>figure</code> argument of the <a href="https://dashr.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dashCoreComponents</code> package like this:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> 
</span><span class="c1"># fig &lt;- fig %&gt;% add_trace( ... )</span><span class="w">
</span><span class="c1"># fig &lt;- fig %&gt;% layout( ... ) </span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashCoreComponents</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashHtmlComponents</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Dash</span><span class="o">$</span><span class="n">new</span><span class="p">()</span><span class="w">
</span><span class="n">app</span><span class="o">$</span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">htmlDiv</span><span class="p">(</span><span class="w">
        </span><span class="nf">list</span><span class="p">(</span><span class="w">
            </span><span class="n">dccGraph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span><span class="w"> 
        </span><span class="p">)</span><span class="w">
     </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="o">$</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">dev_tools_hot_reload</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>

        </section>

        

        <a href="https://dashr.plotly.com"><img width="100%" style="margin-top: 20px;"
            src="/all_static/images/dash.png" /></a>

        
        <!--End Plotly Basics Section-->
      </section>
    </div>
  </main>


  <script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


  <footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly ‚Äî from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2021 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "r";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'r_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>

</html>