<!DOCTYPE html>
<html>

<head>
  <!-- This page was last built at 2021-08-25 20:33 -->

  <meta charset="utf-8" />

  <link rel="canonical" href="https://plotly.com/r/styling-figures/" />

  <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="/all_static/javascripts/algolia/instantsearch.js"></script>
  <script src="/all_static/javascripts/algolia/polyfill.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    crossorigin="anonymous">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

  
  
  <!-- code highlighting -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <!-- Mathjax -->
  <script type='text/javascript'
    src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>

  

  
  <!-- Plotly.js hardcoded to 1.x due to Plotly.plot() -->
  <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
  <script src="/all_static/r_files/r_dependencies.js"></script>
  
  
  
  <!--
      //// Stylesheets
      -->

  <!-- Fonts -->
  <link
    href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap"
    rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Main Stylesheets -->
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/main.css?version=../all_sta">
  <link rel="stylesheet" type="text/css"
    href="/all_static/css/improve.css?version=../all_sta">

  <!-- LOCAL DEV STYLESHEET -->
  <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

  <!-- Icon -->
  <link rel="shortcut icon" href="https://plotly.com/img/favicon.ico" />

  <!-- Google Tags-->
  <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>



  <!-- META TAGS -->
  <!-- SEO Tags - title, meta_description -->
<title>Styling Plotly Figures in R | R | Plotly  </title>
<meta name="description" content="How to customize figures with Plotly for R.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Styling Plotly Figures in R"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/plotly-express.png">
    <meta property="og:description" content="How to customize figures with Plotly for R."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Styling Plotly Figures in R"/>
    <meta name="twitter:url" content="https://plotly.com/r/styling-figures/"/>
    <meta name="twitter:description" content="How to customize figures with Plotly for R."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/plotly-express.png">
    <meta name="twitter:site" content="@plotlygraphs"/>




</head>

<body data-spy="scroll" data-target=".watch" style="position:relative;">
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


  <!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

  <div class="header-container">
    <div id="campaign-zero-banner">
        ‚úäüèø Black Lives Matter. Please consider donating to <a target="_blank" href="https://www.blackgirlscode.com/?utm_source=plotly&utm_medium=graphing&utm_campaign=july" style="color:deeppink">Black Girls Code</a> today.
    </div>
    <header class="header-main --default">
        <div class="--wrap">
            <div class="--wrap-left">
                <div class="-identity">
                    <a href="https://plotly.com/"><img src="/all_static/images/plotly_graphing_libraries_1.png" style="height: 45px;"></a>
                    <a href="/graphing-libraries/"><img src="/all_static/images/plotly_graphing_libraries_2.png" style="height: 45px;"></a>
                    <div class="breadcrumb-nav">
                        
                            <a href="/r">R</a>
                        

                        
                        

                        
                            
                             &gt;<a href="/r/plotly-fundamentals">Fundamentals</a>

                        

                        
                        &gt;<a href="#">Styling Plotly Figures in R</a>
                        

                        
                    </div>
                </div>

            </div>
            <div class="--wrap-right">
                <nav class="--nav-meta" role="navigation">
                    <ul>
                        <li><a style="font-family: verdana, tahoma, open sans, sans-serif; font-size: 14px; font-weight: bold;" href="https://plotly.com/get-pricing/">PRICING</a></li>
                        <li><a href="https://plotly.com/get-demo" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary"
                            style="font-family: verdana, tahoma, open sans, sans-serif;">GET DEMO</a></li>
                            <li><a href="http://plotly.cloud" data-mode="1" target="_blank" id="teal-background" class="typeform-share button --enterprise-quaternary"
                                style="font-family: verdana, tahoma, open sans, sans-serif;">DASH CLOUD</a></li>
                            
<iframe src="https://ghbtns.com/github-btn.html?user=ropensci&repo=plotly&type=star&count=true&size=large" style="padding-top: 5px;" frameborder="0" scrolling="0" width="160px" height="40px"></iframe>
                   
                    </ul>
                </nav>
            </div>
        </div>
    </header>
</div>


  <main class="--page page--single --index">

    <div class="--wrap">
      <!-- aside - Main Sidebar-->
      <aside class="--sidebar-container">
        <div class="--sidebar-fixed reference" data-spy="affix" id="where">
          
          <button id="modal-button" type="button" data-toggle="modal" data-target="#myModal">
            <input id="modal-input" style="border-radius: 5px; width: 100%;" type="text" placeholder="   Search..."
              readonly />
          </button>
          
          <header class="--sidebar-header">On This Page</header>
          <nav class="--sidebar-body watch" id="where">
            <ul class="--sidebar-list"></ul>
          </nav>
        </div>
      </aside>
      <!-- Main-->
      <section class="--page-body --tutorial-index --base">
        <header class="--welcome">
          <div class="--welcome-body">
            <!--div.--wrap-inner-->
            <div class="--title">
              <div class="--body">
                <div class="nav-breadcrumb-container">
    <div></div>
    <div class="nav-breadcrumb-right">
        <div class="--fork">
            
                
                <a id="forklink" href= "https://github.com/plotly/plotly.r-docs/edit/master/r/2021-08-02-styling-plotly-in-r.Rmd" >
            
                    <div class="icon">
                        <svg style="width:20px;height:20px" viewbox="0 0 24 24">
                            <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                        </svg>
                    </div>
                    <span>Suggest an edit to this page</span>
                </a>
        </div>
    </div>

</div>
                
                <h1>
                  Styling Plotly Figures in R
                  
                  in 
                  R
                  
                </h1>
                <p>How to customize figures with Plotly for R. </p>
                <br> 
                
                
                
                
                

                


<div class="dash-plug">
  <p>Write, deploy, & scale Dash apps and R data visualizations on a Kubernetes Dash Enterprise cluster.
    <br>
    <a href="https://plotly.com/get-pricing/" class="plotly-red">Get Pricing</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/get-demo/" class="plotly-red">Demo Dash Enterprise</a>
    &nbsp;|&nbsp;
    <a href="https://plotly.com/dash/" class="plotly-red">Dash Enterprise Overview</a>
  </p>
</div>
<br>





<details>
    <summary><span style="cursor: pointer; color: #506784 !important">New to Plotly?</span></summary>
    
        <p>Plotly is a <a href="/r/is-plotly-free/">free and open-source</a> graphing library for R. We recommend you read our <a href="/r/getting-started/">Getting Started guide</a> for the latest installation or upgrade instructions, then move on to our <a href="/r/plotly-fundamentals/">Plotly Fundamentals tutorials</a> or dive straight in to some <a href="/r/basic-charts/">Basic Charts tutorials</a>.</p>
    
</details>



              </div>
            </div>
          </div>
        </header>

        <!-- Start Plotly Basics Section -->
        <section class="tutorial-content">

          






          <h3>Styling Figures made with Plotly</h3>

<p>Plotly&#39;s R graphing library makes it easy to create interactive, publication-quality graphs.</p>

<p>More specifically, here are the 3 ways you can style and customize figures made with Plotly:</p>

<ol>
<li>Control common parameters like titles, labeling and colors using built-in Plotly function arguments</li>
<li>Updating the plotly figure attributes</li>
<li>Using ggplot2&#39;s template via theme attribute.</li>
</ol>

<h3>Built-in Plotly Styling Arguments</h3>

<p>Many common styling options can be set directly. Every Plotly  function accepts the following arguments:</p>

<ul>
<li><code>title</code> to set the figure title</li>
<li><code>labels</code> to override the default axis and legend labels behaviour, which is to use the data frame column name if available, and otherwise to use the label name itself like &quot;x&quot;, &quot;y&quot;, &quot;color&quot; etc. <code>labels</code> accepts list whose  values are the desired labels. These labels appear in axis labels, legend and color bar titles, and in hover labels.</li>
<li><code>category_orders</code> to override the default category ordering behaviour, which is to use the order in which the data appears in the input. <code>category_orders</code> accepts an array  whose values are a <code>list</code> of values in the desired order. These orderings apply everywhere categories appear: in legends, on axes, in bar stacks, in the order of facets, in the order of animation frames etc.</li>
<li><code>hoverformat</code> and <code>hoverinfo</code> to control which attributes appear in the hover label and how they are formatted.</li>
<li>Various color-related attributes such as <code>color</code>, <code>colors</code>, <code>colorbar</code> and <code>colorRampPalette</code> set the colors used in the figure.</li>
</ul>

<p>To illustrate each of these, here is a simple, default figure made with Plotly. Note the default orderings for the x-axis categories.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">fig1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">)</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">warn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">fig1</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-85b4e1de786983717d1d" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-85b4e1de786983717d1d">{"x":{"visdat":{"2e153330b3e5":["function () ","plotlyVisDat"]},"cur_data":"2e153330b3e5","attrs":{"2e153330b3e5":{"x":{},"y":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"day","type":"category","categoryorder":"array","categoryarray":["Fri","Sat","Sun","Thur"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"total_bill"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<p>Here is the same figure, restyled by adding some extra parameters to the initial Plotly function call:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">xform</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Day of Week'</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Thur"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Fri"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sat"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sun"</span><span class="p">))</span><span class="w">

</span><span class="n">fig2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"#3399FF"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#FF6666"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">,</span><span class="w"> </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="p">,</span><span class="w"> </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Sum of Receipts'</span><span class="p">),</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Receipts by Payer Gender and Day of Week"</span><span class="p">,</span><span class="w">
          </span><span class="n">legend</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'&lt;b&gt; Payer Gender &lt;/b&gt;'</span><span class="p">)))</span><span class="w">
</span><span class="n">fig2</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-b3f92cf521f430a37279" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-b3f92cf521f430a37279">{"x":{"visdat":{"2e1578db8be6":["function () ","plotlyVisDat"]},"cur_data":"2e1578db8be6","attrs":{"2e1578db8be6":{"x":{},"y":{},"color":{},"colors":["#3399FF","#FF6666"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Day of Week","categoryorder":"array","categoryarray":["Thur","Fri","Sat","Sun"],"type":"category"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Sum of Receipts"},"title":"Receipts by Payer Gender and Day of Week","legend":{"title":{"text":"<b> Payer Gender <\/b>"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(51,153,255,1)","line":{"color":"rgba(51,153,255,1)"}},"textfont":{"color":"rgba(51,153,255,1)"},"error_y":{"color":"rgba(51,153,255,1)"},"error_x":{"color":"rgba(51,153,255,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(255,102,102,1)","line":{"color":"rgba(255,102,102,1)"}},"textfont":{"color":"rgba(255,102,102,1)"},"error_y":{"color":"rgba(255,102,102,1)"},"error_x":{"color":"rgba(255,102,102,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>Updating or Modifying Figures made with Plotly</h3>

<p>Here is the same figure as above, with some additional customizations to the axes and legend.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="s2">"tips"</span><span class="p">)</span><span class="w">

</span><span class="n">xform</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Day of Week'</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
              </span><span class="n">categoryarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Thur"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Fri"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sat"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"Sun"</span><span class="p">))</span><span class="w">

</span><span class="c1"># add a text callout with arrow</span><span class="w">
</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
  </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Fri'</span><span class="p">,</span><span class="w">
  </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">400</span><span class="p">,</span><span class="w">
  </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Below Target !'</span><span class="p">,</span><span class="w">
  </span><span class="n">showarrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w">
  </span><span class="n">arrowhead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
  </span><span class="n">ax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w">
  </span><span class="n">ay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-40</span><span class="w">
</span><span class="p">)</span><span class="w">
</span><span class="c1"># the y-axis prefix given as dollars</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'bar'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">sex</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"#3399FF"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#FF6666"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="w"> </span><span class="n">barmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stack'</span><span class="p">,</span><span class="w"> </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="p">,</span><span class="w"> </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Sum of Receipts'</span><span class="p">,</span><span class="w"> </span><span class="n">tickprefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'$'</span><span class="p">),</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Receipts by Payer Gender and Day of Week"</span><span class="p">)</span><span class="w">
</span><span class="c1"># customie legend orientation &amp; position</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.2</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">orientation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'h'</span><span class="p">))</span><span class="w">
</span><span class="c1"># add a horizontal "target" line</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">add_segments</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Thur'</span><span class="p">,</span><span class="w"> </span><span class="n">xend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">950</span><span class="p">,</span><span class="w"> </span><span class="n">yend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">950</span><span class="p">,</span><span class="w">
                            </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">dash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"dash"</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'black'</span><span class="p">),</span><span class="n">inherit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">annotations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w">
</span><span class="c1"># customize font</span><span class="w">
</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">layout</span><span class="p">(</span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Rockwell"</span><span class="p">))</span><span class="w">
</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-e9be64bca915c807215e" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-e9be64bca915c807215e">{"x":{"visdat":{"2e15406cc319":["function () ","plotlyVisDat"]},"cur_data":"2e15406cc319","attrs":{"2e15406cc319":{"x":{},"y":{},"color":{},"colors":["#3399FF","#FF6666"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"2e15406cc319.1":{"x":"Thur","y":950,"xend":0,"yend":950,"type":"scatter","mode":"lines","line":{"dash":"dash","color":"black"},"showlegend":false,"inherit":false}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Day of Week","categoryorder":"array","categoryarray":["Thur","Fri","Sat","Sun"],"type":"category"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Sum of Receipts","tickprefix":"$"},"title":"Receipts by Payer Gender and Day of Week","legend":{"x":0.2,"y":1,"orientation":"h"},"annotations":[{"x":"Fri","y":400,"text":"Below Target !","showarrow":true,"arrowhead":1,"ax":20,"ay":-40}],"font":{"family":"Rockwell"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Thur"],"y":[16.99,24.59,35.26,14.83,10.33,16.97,20.29,15.77,19.65,15.06,20.69,16.93,10.29,34.81,26.41,16.45,3.07,17.07,26.86,25.28,14.73,10.07,34.83,5.75,16.32,22.75,11.35,15.38,44.3,22.42,20.92,14.31,7.25,25.71,17.31,10.65,12.43,24.08,13.42,12.48,29.8,14.52,11.38,20.27,11.17,12.26,18.26,8.51,10.33,14.15,13.16,17.47,27.05,16.43,8.35,18.64,11.87,29.85,25,13.39,16.21,17.51,10.59,10.63,9.6,20.9,18.15,19.81,43.11,13,12.74,13,16.4,16.47,12.76,13.27,28.17,12.9,30.14,13.42,15.98,16.27,10.09,22.12,35.83,27.18,18.78],"type":"bar","name":"Female","marker":{"color":"rgba(51,153,255,1)","line":{"color":"rgba(51,153,255,1)"}},"textfont":{"color":"rgba(51,153,255,1)"},"error_y":{"color":"rgba(51,153,255,1)"},"error_x":{"color":"rgba(51,153,255,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Fri","Fri","Fri","Fri","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sat","Sat","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Sun","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Thur","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Fri","Fri","Fri","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat","Sat"],"y":[10.34,21.01,23.68,25.29,8.77,26.88,15.04,14.78,10.27,15.42,18.43,21.58,16.29,20.65,17.92,39.42,19.82,17.81,13.37,12.69,21.7,9.55,18.35,17.78,24.06,16.31,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,9.94,25.56,19.49,38.01,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,20.23,15.01,12.02,10.51,17.92,27.2,22.76,17.29,19.44,16.66,32.68,15.98,13.03,18.28,24.71,21.16,28.97,22.49,40.17,27.28,12.03,21.01,12.46,15.36,20.49,25.21,18.24,14,38.07,23.95,29.93,11.69,14.26,15.95,8.52,22.82,19.08,16,34.3,41.19,9.78,7.51,14.07,13.13,17.26,24.55,19.77,48.17,16.49,21.5,12.66,13.81,24.52,20.76,31.71,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,34.63,34.65,23.33,45.35,23.17,40.55,20.69,30.46,23.1,15.69,28.44,15.48,16.58,7.56,10.34,13.51,18.71,20.53,26.59,38.73,24.27,30.06,25.89,48.33,28.15,11.59,7.74,12.16,8.58,13.42,20.45,13.28,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,29.03,22.67,17.82],"type":"bar","name":"Male","marker":{"color":"rgba(255,102,102,1)","line":{"color":"rgba(255,102,102,1)"}},"textfont":{"color":"rgba(255,102,102,1)"},"error_y":{"color":"rgba(255,102,102,1)"},"error_x":{"color":"rgba(255,102,102,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Thur","0"],"y":[950,950],"type":"scatter","mode":"lines","line":{"color":"black","dash":"dash"},"showlegend":false,"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>How ggplot2 Express Works with Templates</h3>

<p>In this example, we will be using a template for the color palette.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="n">mpg</span><span class="p">)</span><span class="w">

</span><span class="n">base</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">cty</span><span class="p">,</span><span class="w"> </span><span class="n">hwy</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">cyl</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_jitter</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_abline</span><span class="p">(</span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">

</span><span class="n">labelled</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="w">
    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"City mileage/gallon"</span><span class="p">,</span><span class="w">
    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Highway mileage/gallon"</span><span class="p">,</span><span class="w">
    </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Cylinders"</span><span class="p">,</span><span class="w">
    </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Highway and city mileage are highly correlated"</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_colour_brewer</span><span class="p">(</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"seq"</span><span class="p">,</span><span class="w"> </span><span class="n">palette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Spectral"</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">labelled</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w">
</span></code></pre></div>
<div id="htmlwidget-deeee08be596c5c35c2d" style="width:672px;height:480px;" class="plotly html-widget"></div>

<script type="application/json" data-for="htmlwidget-deeee08be596c5c35c2d">{"x":{"data":[{"x":[17.7615790374577,20.6389158174396,19.8003860877827,21.3828296447173,17.6916276970878,15.8409534303471,19.6806138124317,18.6647486004978,19.3476766671985,22.2057903261855,18.0135170493275,27.8012363614514,23.7101502986625,24.8233931880444,23.265553775616,23.8835258388892,25.7932576283813,24.9151990793645,24.295322579518,21.0781119689345,18.2708792900667,17.8801727369428,21.0464113360271,20.6251455694437,19.331668651104,19.3058672100306,20.0611397437751,20.1530565083027,20.7976556776091,18.6579295318574,22.8458473121747,22.649630946666,18.3940508672968,18.3316449128091,19.9794370962307,19.0439247118309,19.6833904882893,17.8713581854478,20.9939861826599,18.9749790418893,18.7981596954167,18.8916066164151,19.9544439740479,19.7271856229752,18.8351086914539,19.9816490720958,15.1432516725734,16.3968871343881,20.9811592360958,20.7840768178925,21.2343722647056,21.1806251455098,21.1458031350747,20.8614616943523,21.3505467930809,21.7466761121526,23.89429004509,24.3258314693347,25.8448176892474,27.7629579493776,26.1888346321881,15.2952962787822,15.9204921146855,17.0781242035329,20.607913684845,18.9521292435005,20.7404926421121,22.3560344016179,33.338558685407,20.9292168742046,18.958514168486,21.8327792873606,20.625266505219,35.1754300793633,29.2868891913444,20.8966410588473,18.8982425736263,21.2377354022115,18.0414579564705,18.6554808333516,20.6859845273197],"y":[29.0094178523868,29.0487424338236,30.6656710360199,30.0672092502937,26.2363187445328,24.940138326399,27.9336776189506,27.1838852869347,27.3318268967792,29.8613546630368,23.9874624932185,32.8833263872191,31.8826941007748,32.0773596800864,29.3840939009562,32.1513040872291,33.8357997391373,36.0653311181813,35.8359319388866,28.7257902927697,26.1167726416141,26.7692728845403,30.3918712377548,31.0393877670169,25.6071527194232,28.7973471442237,27.8115450618789,26.6514526277781,29.0270099718124,27.2857503099367,30.6245495049283,31.6464813705534,24.6714935213327,23.6531426342204,27.1913311420009,25.3257157113403,26.0731020897627,23.1045803610235,26.3010575054213,25.6469958053902,25.8504097441211,26.1379755232483,24.9627729477361,26.8709522178397,24.6645521465689,27.3219938192517,20.0970200104639,19.9677361870185,28.6182124229148,27.2794143285602,31.1069788390771,31.2205143075436,26.6743731239811,28.9111325694248,30.801963317953,30.6153806047514,30.0609390504658,33.1139073140919,34.6523018525913,37.1713976781815,35.2332448920235,19.615698524192,20.3661262432113,22.0789173163474,28.9811224494129,25.9985234826803,28.8870691668242,29.346757921204,43.7974158244208,28.6553142149001,25.9764600358903,29.3439760183916,28.6960245389491,44.3681114781648,40.886953157559,29.1319927997887,26.1723490577191,29.3419533472508,28.6392656456679,28.0313033971936,28.836517829448],"text":["cty: 18<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 20<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 30<br />factor(cyl): 4","cty: 18<br />hwy: 26<br />factor(cyl): 4","cty: 16<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 28<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 22<br />hwy: 30<br />factor(cyl): 4","cty: 18<br />hwy: 24<br />factor(cyl): 4","cty: 28<br />hwy: 33<br />factor(cyl): 4","cty: 24<br />hwy: 32<br />factor(cyl): 4","cty: 25<br />hwy: 32<br />factor(cyl): 4","cty: 23<br />hwy: 29<br />factor(cyl): 4","cty: 24<br />hwy: 32<br />factor(cyl): 4","cty: 26<br />hwy: 34<br />factor(cyl): 4","cty: 25<br />hwy: 36<br />factor(cyl): 4","cty: 24<br />hwy: 36<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 18<br />hwy: 26<br />factor(cyl): 4","cty: 18<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 30<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 29<br />factor(cyl): 4","cty: 20<br />hwy: 28<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 27<br />factor(cyl): 4","cty: 23<br />hwy: 31<br />factor(cyl): 4","cty: 23<br />hwy: 32<br />factor(cyl): 4","cty: 18<br />hwy: 25<br />factor(cyl): 4","cty: 18<br />hwy: 24<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 26<br />factor(cyl): 4","cty: 18<br />hwy: 23<br />factor(cyl): 4","cty: 21<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 20<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 19<br />hwy: 25<br />factor(cyl): 4","cty: 20<br />hwy: 27<br />factor(cyl): 4","cty: 15<br />hwy: 20<br />factor(cyl): 4","cty: 16<br />hwy: 20<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 21<br />hwy: 27<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 31<br />factor(cyl): 4","cty: 22<br />hwy: 31<br />factor(cyl): 4","cty: 24<br />hwy: 30<br />factor(cyl): 4","cty: 24<br />hwy: 33<br />factor(cyl): 4","cty: 26<br />hwy: 35<br />factor(cyl): 4","cty: 28<br />hwy: 37<br />factor(cyl): 4","cty: 26<br />hwy: 35<br />factor(cyl): 4","cty: 15<br />hwy: 20<br />factor(cyl): 4","cty: 16<br />hwy: 20<br />factor(cyl): 4","cty: 17<br />hwy: 22<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 22<br />hwy: 29<br />factor(cyl): 4","cty: 33<br />hwy: 44<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 22<br />hwy: 29<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 35<br />hwy: 44<br />factor(cyl): 4","cty: 29<br />hwy: 41<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 26<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4","cty: 18<br />hwy: 29<br />factor(cyl): 4","cty: 19<br />hwy: 28<br />factor(cyl): 4","cty: 21<br />hwy: 29<br />factor(cyl): 4"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(215,25,28,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(215,25,28,1)"}},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[21.1481716994196,20.9849067701027,20.3749451996759,20.0992614373565],"y":[28.6872657632455,28.6358428798616,27.8640241222456,28.7335125690326],"text":["cty: 21<br />hwy: 29<br />factor(cyl): 5","cty: 21<br />hwy: 29<br />factor(cyl): 5","cty: 20<br />hwy: 28<br />factor(cyl): 5","cty: 20<br />hwy: 29<br />factor(cyl): 5"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(253,174,97,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(253,174,97,1)"}},"hoveron":"points","name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16.0742143521085,17.9880357725546,18.0986941684037,15.3150196123868,16.6036415943876,17.0100146088749,14.9670501260087,14.6313369335607,17.3720634806901,18.3613072616979,17.8797223264352,16.9019581126049,17.050788057968,16.0287258731201,16.3379426879808,16.6077231042087,17.0623028155416,11.2779274035245,14.8982952965423,14.9450063720346,15.9586254544556,16.0419464737177,15.1369654553011,14.2857102114707,13.0731143971905,14.357176894322,12.9541255444288,14.2961542544886,14.6970184689388,13.6093740349635,13.3148893181235,13.6803906388581,13.6848727628589,18.1747522233054,18.2998806914315,17.0376045672223,15.9408176751807,18.3763532100245,18.0581994503736,19.0121019549668,16.9963618109003,15.9227590410039,16.7114246647805,16.8298466706648,14.6924294117838,15.3486386047676,13.9438345095143,12.7348277861252,19.3517887856811,19.1157818034291,17.7858199732378,18.8816391129047,19.2674242857844,13.8927614113316,14.8194543726742,13.9012824738398,18.342349252291,16.2121990785003,17.0674770966172,18.2494993608445,14.836606092751,15.3383880015463,16.2245116189122,17.6562757119536,18.3126675726846,19.2810556819662,18.0340240491554,17.7903589652851,18.0874997258186,15.3385967193171,15.3514587623999,14.919213706255,15.6571870353073,17.3791438555345,15.6825132833794,17.044141597487,15.8199793275446,17.6964301181957,16.7728630652651],"y":[25.9510457247496,26.0762113379315,26.9372462712228,25.2856154602021,24.6434271508828,25.1729113483801,25.1316102048382,23.6521735860035,25.0153730800375,25.7366203920916,28.6533299954608,26.1160994883627,24.3539943490177,22.1412095237523,22.35995148886,24.1705604663119,23.9561727825552,16.6101258970797,22.226090073213,21.1701903579757,23.3354413034394,22.8787705475464,18.6440950335935,18.169929661043,16.9895294634625,16.643227333203,16.9887957548723,17.3005280567333,19.20672046002,16.9977777477354,19.3887403577566,16.6184197315946,17.3188636209816,25.7458016740158,24.9003429563716,26.2393433887511,24.2887664439157,26.2119998328388,26.1965246867388,27.7459099078551,24.068809424527,24.2510808790103,24.1101086935028,22.1393233269453,19.3312655216083,20.1599300103262,16.7575808959082,19.1686541883275,27.1655762264505,25.9146292394027,25.8525069039315,25.1128100058064,24.8823363380507,17.0489477392286,17.0385274445638,20.1142975278199,25.6309292932972,25.8681445432827,27.26330813393,27.9089239960536,19.1651436947286,17.209633988142,20.1095455318689,25.6421576214954,26.3942248314619,27.6238174056634,25.883356144093,26.3802502224222,26.9213668894023,16.9046722928062,19.3874920189381,18.3313348054886,20.0854724293575,23.9018237713724,22.8512850010768,23.9369686799124,26.3821560991928,25.8243820980191,25.8702639065683],"text":["cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 27<br />factor(cyl): 6","cty: 15<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 15<br />hwy: 25<br />factor(cyl): 6","cty: 15<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 25<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 29<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 22<br />factor(cyl): 6","cty: 16<br />hwy: 22<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 11<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 22<br />factor(cyl): 6","cty: 15<br />hwy: 21<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 18<br />factor(cyl): 6","cty: 13<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 19<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 25<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6","cty: 16<br />hwy: 24<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 28<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 17<br />hwy: 22<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 20<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 13<br />hwy: 19<br />factor(cyl): 6","cty: 19<br />hwy: 27<br />factor(cyl): 6","cty: 19<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 25<br />factor(cyl): 6","cty: 19<br />hwy: 25<br />factor(cyl): 6","cty: 14<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 14<br />hwy: 20<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 27<br />factor(cyl): 6","cty: 18<br />hwy: 28<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 16<br />hwy: 20<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 19<br />hwy: 28<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 27<br />factor(cyl): 6","cty: 15<br />hwy: 17<br />factor(cyl): 6","cty: 15<br />hwy: 19<br />factor(cyl): 6","cty: 15<br />hwy: 18<br />factor(cyl): 6","cty: 16<br />hwy: 20<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 23<br />factor(cyl): 6","cty: 17<br />hwy: 24<br />factor(cyl): 6","cty: 16<br />hwy: 26<br />factor(cyl): 6","cty: 18<br />hwy: 26<br />factor(cyl): 6","cty: 17<br />hwy: 26<br />factor(cyl): 6"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(171,221,164,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(171,221,164,1)"}},"hoveron":"points","name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15.7444139063358,13.7220190636814,11.2243088014424,14.1782635988668,13.0172146480531,12.0038663167506,16.2527060071006,14.9051522502676,15.9787878809497,15.1137151248753,15.3620724629611,13.8597266232595,10.973390959017,10.8418389871717,13.9281916080043,13.9415584605187,14.1169497301802,8.98025949131697,11.1219101844355,11.024806817621,12.9814846646041,9.2964897563681,13.0971980985254,11.0114079328254,12.6167050449178,10.7910957891494,11.9929468395188,8.82900941651314,12.9914212245494,12.8001813871786,11.7786099907011,8.90414386410266,11.0937375120819,10.8293930893764,12.6219411175698,11.154250041768,10.9597228156403,10.6976945500821,11.8104558758438,13.0903495533392,12.8983591133729,12.7658427283168,13.1108866747469,13.3791209816933,10.7683466153219,12.6118741160259,14.9187166498974,15.3222987357527,14.6139888295904,15.3892926681787,14.1112512217835,13.7437638847157,9.07907065860927,13.9725580343977,13.3103021847084,11.2394790710881,10.7672498499975,11.6407757679,11.9643469635397,10.8788922796026,11.1265380233526,10.7673820169643,12.0520662715659,12.8455341953784,13.2870852451771,12.3710547242314,15.6674924429506,14.3248221987858,11.1025736039504,12.8312656057999],"y":[23.2080768050626,19.9253620265052,15.181824423559,19.6701343448833,17.3421845993027,16.927461922355,26.2241965005174,22.7914433721453,25.8508507540449,24.7250803830102,24.3880243802443,19.184351520054,14.1722374740988,14.7862790772691,16.9398518431932,19.2501867387444,18.7686785669997,12.0550197247416,17.1081007873639,15.1283990742639,16.7272123754025,11.7553981188685,16.7603456627578,16.089401666075,17.9848332438618,15.1866556497291,16.1244741106406,12.3111534118652,17.0521094778553,17.3066460600123,16.3955415012315,11.6055435661227,15.2938641667366,16.3493579674512,17.3166718419641,15.0725225351751,17.1374821446836,17.2894114349037,18.0278472265229,19.3611533012241,17.2137559207156,15.9986521795392,16.2936114430428,16.8661560025066,15.1362572917715,17.1120217725635,21.2748502112925,21.7375980114564,22.7951402897015,22.1722785206512,19.86525968723,17.2004810810089,12.1759431354702,18.9743210747838,18.114439906925,13.726141361706,14.9735468333587,18.0250333895907,17.9261139560491,15.0710298404098,17.1195437405258,15.9979536194354,18.2238328179345,18.7900060411543,16.6255644869059,18.2182889925316,25.2729120709002,17.3667985754088,15.1704409699887,17.6784217901528],"text":["cty: 16<br />hwy: 23<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 17<br />factor(cyl): 8","cty: 16<br />hwy: 26<br />factor(cyl): 8","cty: 15<br />hwy: 23<br />factor(cyl): 8","cty: 16<br />hwy: 26<br />factor(cyl): 8","cty: 15<br />hwy: 25<br />factor(cyl): 8","cty: 15<br />hwy: 24<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 11<br />hwy: 14<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 12<br />hwy: 16<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 16<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 13<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 13<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 16<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 15<br />hwy: 21<br />factor(cyl): 8","cty: 15<br />hwy: 22<br />factor(cyl): 8","cty: 15<br />hwy: 23<br />factor(cyl): 8","cty: 15<br />hwy: 22<br />factor(cyl): 8","cty: 14<br />hwy: 20<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty:  9<br />hwy: 12<br />factor(cyl): 8","cty: 14<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 14<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 11<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 16<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 13<br />hwy: 19<br />factor(cyl): 8","cty: 13<br />hwy: 17<br />factor(cyl): 8","cty: 12<br />hwy: 18<br />factor(cyl): 8","cty: 16<br />hwy: 25<br />factor(cyl): 8","cty: 14<br />hwy: 17<br />factor(cyl): 8","cty: 11<br />hwy: 15<br />factor(cyl): 8","cty: 13<br />hwy: 18<br />factor(cyl): 8"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(43,131,186,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(43,131,186,1)"}},"hoveron":"points","name":"8","legendgroup":"8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[7.51168838337064,36.4927511125058],"y":[7.51168838337064,36.4927511125058],"text":"intercept: 0<br />slope: 1","type":"scatter","mode":"lines","line":{"width":7.55905511811024,"color":"rgba(127,127,127,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Highway and city mileage are highly correlated","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.51168838337064,36.4927511125058],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"City mileage/gallon","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.96741517052054,46.0062398737669],"tickmode":"array","ticktext":["10","20","30","40"],"tickvals":[10,20,30,40],"categoryorder":"array","categoryarray":["10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Highway mileage/gallon","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cylinders","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2e1511817941":{"x":{},"y":{},"colour":{},"type":"scatter"},"2e1539b30540":{"intercept":{},"slope":{}}},"cur_data":"2e1511817941","visdat":{"2e1511817941":["function (y) ","x"],"2e1539b30540":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

<h3>What About Dash?</h3>

<p><a href="https://dashr.plot.ly/">Dash for R</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. </p>

<p>Learn about how to install Dash for R at https://dashr.plot.ly/installation.</p>

<p>Everywhere in this page that you see <code>fig</code>, you can display the same figure in a Dash for R application by passing it to the <code>figure</code> argument of the <a href="https://dashr.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dashCoreComponents</code> package like this:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">fig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">()</span><span class="w"> 
</span><span class="c1"># fig &lt;- fig %&gt;% add_trace( ... )</span><span class="w">
</span><span class="c1"># fig &lt;- fig %&gt;% layout( ... ) </span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashCoreComponents</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dashHtmlComponents</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Dash</span><span class="o">$</span><span class="n">new</span><span class="p">()</span><span class="w">
</span><span class="n">app</span><span class="o">$</span><span class="n">layout</span><span class="p">(</span><span class="w">
    </span><span class="n">htmlDiv</span><span class="p">(</span><span class="w">
        </span><span class="nf">list</span><span class="p">(</span><span class="w">
            </span><span class="n">dccGraph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span><span class="w"> 
        </span><span class="p">)</span><span class="w">
     </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">app</span><span class="o">$</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">dev_tools_hot_reload</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>

        </section>

        

        <a href="https://dashr.plotly.com"><img width="100%" style="margin-top: 20px;"
            src="/all_static/images/dash.png" /></a>

        
        <!--End Plotly Basics Section-->
      </section>
    </div>
  </main>


  <script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


  <footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/consulting-and-oem/" target="_self">Consulting and Training</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/get-pricing/" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plotly.com/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plotly.com/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly ‚Äî from Dash Club to product updates, webinars, and more!</p>
                              <a
                                href="https://go.plot.ly/subscription"
                                class="subscribe-button"
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2021 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plotly.com/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plotly.com/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


 
 <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span style="float: left; padding-top:13px; padding-right:10px;"><i class="fa fa-search fa-lg"></i></span>
        <input id="search-input" class="search-input" type="text" placeholder=""/>
      </div>
      <div class="modal-body" id="modal-body">
        <div id="search-results" class="search-results">
          <div id="primary-search-results" class="primary-search-results"></div>
          <div id="schema-search-results" class="schema-search-results"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
	window.plotly_doc_language = "r";
</script>
<!-- ALGOLIA SEARCH -->

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': '7EK9KHJW8M',
    'indexName': 'r_docs',
    'apiKey': '4dae07ded6a721de73bde7356eec9280',
    'baseurl': '/'
  }
</script>

<script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__secondary-template" type="text/template">
  
    <div class="algolia__secondary-result">
      <a class="algolia__result-link" onClick="$('#myModal').modal('toggle')" href="/{{ permalink }}">{{{ _highlightResult.name.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.description.value }}}</div>
    </div>
  
</script>
<script id="algolia__template--no-results" type="text/template">No results found.</script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="/all_static/javascripts/algolia/algolia.js"></script>

 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>

</html>