{% for page in languagelistimg %}
{% if page.display_as == "chart_type" %}
{% assign chart_type = true %}
{% elsif page.display_as == "advanced_charts" %}
{% assign advanced_charts = true %}
{% elsif page.display_as == "maps" %}
{% assign maps = true %}
{% elsif page.display_as == "chart_events" %}
{% assign chart_events = true %}
{% elsif page.display_as == "3d_charts" %}
{% assign 3d_charts = true %}
{% elsif page.display_as == "financial_analysis" %}
{% assign financial_analysis = true %}
{% elsif page.display_as == "multiple_axes" %}
{% assign multiple_axes = true %}
{% endif %}
{% endfor %}

{% for page in languagelist %}
{% if page.display_as == "layout_opt" %}
{% assign layout_options = true %}
{% elsif page.display_as == "file_settings" %}
{% assign file_settings = true %}
{% elsif page.display_as == "tutorial" %}
{% assign tutorial = true %}
{% elsif page.display_as == "get_request" %}
{% assign get_request = true %}
{% endif %}
{% endfor %}


{% if chart_type %}
<hr>
<h4 id="basic-charts">
{% if page.language != "r" %}
<a class="no_underline plot-blue" href="#basic-charts">Basic Charts</a>
{% endif %}
{% if page.language == "plotly_js" %}
<a class="button plotlyjs-download" href="{{site.plotlyjs_download_url}}" target="_blank" onclick="mixpanel.track('PlotlyJS Download',{ 'Location': 'Main Page Basic Charts' });">
<i class="fa fa-download fa-lg"></i> Download
</a>
{% endif %}
</h4>
{% if page.language == "plotly_js" %}
<h5>Plotly.js Basic Charts is free for unlimited use if all links and references to Plotly remain visible and unmodified.</h5>
{% endif %}
<div class="row">
{% for page in languagelistimg %}
{% if page.display_as == "chart_type" %}
<a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
  <div class="alltutcol">
    <img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}">
      <div class="titlecenter">
        <h5 class="centered"> {{page.name}} </h5>
      </div>
  </div>
</a>
{% endif %}
{% endfor %}
</div>
{% endif %}

{% if chart_events %}
	{% if page.language == "plotly_js" %}
		<hr>
		<h4 id="chart-events">
			<a class="no_underline plot-blue" href="#chart-events">Add Custom Controls with JavaScript</a>
		</h4>
		<p>
			All Plotly charts have click, hover and zoom events exposed to add custom controls with Plotly's JavaScript <a href="https://github.com/plotly/postMessage-API">postMessage API</a>.
		</p>
		<div class="row">
		{% for page in languagelistimg %}
			{% if page.display_as == "chart_events" %}
				<a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
					<div class="alltutcol">
						<img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}" >
						<div class="titlecenter">
							<h5 class="centered"> {{page.name}} </h5>
						</div>
					</div>
				</a>
			{% endif %}
		{% endfor %}
		</div>
	{% endif %}
{% endif %}

{% if advanced_charts %}
<hr>
<h4 id="advanced-charts">
<a class="no_underline plot-blue" href="#advanced-charts">Advanced Charts</a>
<a class="button plotlyjs-download" href="http://purchasing.plot.ly/plotlyjs">$249/developer/year</a>
</h4>
{% if page.language == "plotly_js" %}
<h5>All charts in <a href="#basic-charts">Basic Charts</a>, plus these:</h5>
<p>Advanced Chart developers also have right to remove Plotly links and references on charts.</p>
{% endif %}
<div class="row">
{% for page in languagelistimg %}
{% if page.display_as == "advanced_charts" %}
<a href="/{{page.permalink}}">
<div class="alltutcol">
<img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}" >
<div class="titlecenter">
<h5 class="centered"> {{page.name}} </h5>
</div>
</div>
</a>
{% endif %}
{% endfor %}
</div>
{% endif %}

{% if maps %}
<hr>
<h4 id="maps"><a class="no_underline plot-blue" href="#maps">Maps</a></h4>
<div class="row">
{% for page in languagelistimg %}
{% if page.display_as == "maps" %}
<a href="/{{page.permalink}}">
<div class="alltutcol">
<img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}" >
<div class="titlecenter">
<h5 class="centered"> {{page.name}} </h5>
</div>
</div>
</a>
{% endif %}
{% endfor %}
</div>
{% endif %}

{% if 3d_charts %}
<hr>
<h4 id="3d-charts">
<a class="no_underline plot-blue" href="#3d-charts">3d Charts</a>
{% if page.language == "plotly_js" %}
<a class="button plotlyjs-download" href="http://purchasing.plot.ly/plotlyjs">$995/developer/year</a>
{% endif %}
</h4>
{% if page.language == "plotly_js" %}
<h5>All charts in Basic and Advanced, plus these:</h5>
{% endif %}
<div class="row">
{% for page in languagelistimg %}
{% if page.display_as == "3d_charts" %}
<a href="/{{page.permalink}}">
<div class="alltutcol">
<img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}" >
<div class="titlecenter">
<h5 class="centered"> {{page.name}} </h5>
</div>
</div>
</a>
{% endif %}
{% endfor %}
</div>
{% endif %}

{% if financial_analysis %}
<hr>
<h4 id="maps"><a class="no_underline plot-blue" href="#maps">Financial Analysis</a></h4>
<div class="row">
{% for page in languagelistimg %}
{% if page.display_as == "financial_analysis" %}
<a href="/{{page.permalink}}">
<div class="alltutcol">
<img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}" >
<div class="titlecenter">
<h5 class="centered"> {{page.name}} </h5>
</div>
</div>
</a>
{% endif %}
{% endfor %}
</div>
{% endif %}

{% if multiple_axes %}
<hr>
<h4 id="multiple-axes-subplots-and-insets"><a class="no_underline plot-blue" href="#multiple-axes-subplots-and-insets">Multiple Axes, Subplots, and Insets</a></h4>
<div class="row">
{% for page in languagelistimg %}
{% if page.display_as == "multiple_axes" %}
<a href="/{{page.permalink}}">
<div class="alltutcol">
<img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}" >
<div class="titlecenter">
<h5 class="centered"> {{page.name}} </h5>
</div>
</div>
</a>
<div class="{% cycle 'group 2': '', '', 'three-column-clear', '', 'five-column-clear' %}"></div>
{% endif %}
{% endfor %}
</div>
{% endif %}

{% if page.language == "matlab" or page.language == "python" %}
<hr>
<h4 id="streaming"><a class="no_underline plot-blue" href="#streaming">Streaming</a></h4>
<div class="row">
{% if page.language == "matlab" %}<a href="/matlab/streaming-tutorial/">{% elsif page.language == "python"%}<a href="/python/streaming-tutorial/">{% endif %}
<div class="alltutcol">
<img class="thumbnail" alt="Streaming" src="{{site.staticurl}}/images/streaming.gif" >
<div class="titlecenter">
<h5 class="centered"> Real-Time Streaming </h5>
</div>
</div>
</a>
</div>
{% endif %}

{% if chart_events %}
{% if page.language != "plotly_js" %}
<hr>
<h4 id="chart-events">
<a class="no_underline plot-blue" href="#chart-events">Add Custom Controls with JavaScript</a>
</h4>
<p>
All Plotly charts have click, hover and zoom events exposed to add custom controls with Plotly's JavaScript <a href="https://github.com/plotly/postMessage-API">postMessage API</a>.
</p>
<div class="row">
{% for page in languagelistimg %}
{% if page.display_as == "chart_events" %}
<a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
<div class="alltutcol">
<img class="thumbnail" alt="{{page.name}}" src="{{site.staticurl}}{{page.thumbnail}}" >
<div class="titlecenter">
<h5 class="centered"> {{page.name}} </h5>
</div>
</div>
</a>
{% endif %}
{% endfor %}
</div>
{% endif %}
{% endif %}

{% if page.language == "r" %}
<hr>

<div class="row">

<div class="four columns">
<ul class="no-list-style">
{% for page in languagelist %}
{% if page.display_as == "layout_opt" %}
<li><a class="no-list-style" href="/{{page.permalink}}">{{page.name}}</a></li>
{% endif %}
{% endfor %}
</ul>
</div>

<div class="four columns">
<ul class="no-list-style">
{% for page in languagelist %}
{% if page.display_as == "file_settings" %}
<li><a class="no-list-style" href="/{{page.permalink}}">{{page.name}}</a></li>
{% endif %}
{% endfor %}
</ul>
</div>


<div class="four columns">
<ul class="no-list-style">
{% for page in languagelist %}
{% if page.display_as == "get_request" %}
<li><a class="no-list-style" href="/{{page.permalink}}">{{page.name}}</a></li>
{% endif %}
{% endfor %}
</ul>
</div>

</div>

<hr>
<h4 id="using-offline"><a class="no_underline plot-blue" href="#using-offline">Using Offline</a></h4>
<div class="row">
<p>Plotly is a web-connected service by default, but can also work entirely offline within RStudio, IPython notebook, and MATLAB.</p>
<ul>
<li><a href="http://purchasing.plot.ly/plotly-offline-r">Start a free 14 day Trial of plotly offline for RStudio and Shiny</a></li>
<li><a href="https://plot.ly/r/offline/">plotly offline documentation</a></li>
</ul>
</div>

{% else %}

{% if layout_options %}
<hr>
<h4 id="layout-options"><a class="no_underline plot-blue" href="#layout-options">Layout Options</a></h4>
<div class="row">
<div class="six columns">
<ul>
{% assign counter=0 %}
{% for page in languagelist %}
{% if page.display_as == "layout_opt" %}
	{% if counter == 4 %}</ul></div><div class="six columns"><ul>{% endif %}
	<li><a href="/{{page.permalink}}">{{page.name}}</a></li>
	{% assign counter=counter | plus:1 %}
{% endif %}
{% endfor %}
</ul>
</div>
</div>
{% endif %}

{% if file_settings %}
<hr>
<h4 id="file-settings"><a class="no_underline plot-blue" href="#file-settings">File Settings</a></h4>
<div class="row">
<div class="six columns">
<ul>
{% assign counter=0 %}
{% for page in languagelist %}
{% if page.display_as == "file_settings" %}
	{% if counter == 4 %}</ul></div><div class="six columns"><ul>{% endif %}
	<li><a href="/{{page.permalink}}">{{page.name}}</a></li>
	{% assign counter=counter | plus:1 %}
{% endif %}
{% endfor %}
</ul>
</div>
</div>
{% endif %}

{% if tutorial %}
<hr>
<h4 id="tutorial"><a class="no_underline plot-blue" href="#tutorial">Tutorial</a></h4>
<div class="row">
<div class="six columns">
<ul>
{% assign counter=0 %}
{% for page in languagelist %}
{% if page.display_as == "tutorial" %}
	{% if counter == 4 %}</ul></div><div class="six columns"><ul>{% endif %}
	<li><a href="/{{page.permalink}}">{{page.name}}</a></li>
	{% assign counter=counter | plus:1 %}
{% endif %}
{% endfor %}
</ul>
</div>
</div>
{% endif %}

{% if get_request %}
<hr>
<h4 id="static-image-export"><a class="no_underline plot-blue" href="#get-requests-static-image-export">Image Export & Retrieving Plots</a></h4>
<div class="row">
<div class="six columns">
<ul>
{% assign counter=0 %}
{% for page in languagelist %}
{% if page.display_as == "get_request" %}
	{% if counter == 4 %}</ul></div><div class="six columns"><ul>{% endif %}
	<li><a href="/{{page.permalink}}">{{page.name}}</a></li>
	{% assign counter=counter | plus:1 %}
{% endif %}
{% endfor %}
</ul>
</div>
</div>

{% if page.language == 'ggplot2' or page.language == 'matlab' or page.language == 'python' or page.language == 'matplotlib' %}
<hr>
<h4 id="using-offline"><a class="no_underline plot-blue" href="#using-offline">Using Offline</a></h4>
<div class="row">
<p>Plotly is a web-connected service by default, but can also work entirely offline within RStudio, IPython notebook, and MATLAB.</p>
<div class="six columns">
<ul>

{% if page.language == 'ggplot2' %}
<li><a href="http://purchasing.plot.ly/plotly-offline-r">Start a free 14 day Trial of plotly offline for RStudio and Shiny</a></li>
<li><a href="https://plot.ly/r/offline/">plotly offline documentation</a></li>
{% endif %}

{% if page.language == 'python' or page.language == 'matplotlib' %}
	<li><a href="http://purchasing.plot.ly/plotly-offline-ipython">Start a free 14 day Trial of plotly offline for IPython notebook</a></li>
	<li><a href="https://plot.ly/python/offline/">plotly offline documentation</a></li>
{% endif %}

{% if page.language == 'matlab' %}
	<li><a href="http://purchasing.plot.ly/plotly-offline-matlab">Start a free 14 day Trial of plotly offline for MATLAB</a></li>
	<li><a href="https://plot.ly/matlab/offline/">plotly offline documentation</a></li>
{% endif %}

</ul>
</div>
</div>
{% endif %}


{% endif %}
{% endif %}
