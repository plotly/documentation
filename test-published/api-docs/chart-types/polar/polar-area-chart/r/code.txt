library(plotly)

{% if not username %}# Fill in with your personal username and API key
# or, use this public demo account
{% endif %}p &lt;- plotly(username={% if username %}"{{username}}"{% else %}'R-Demo-Account'{% endif %}, key={% if api_key %}"{{api_key}}"{% else %}'yu680v5eii'{% endif %})

trace1 &lt;- list(
  r = c(77.5, 72.5, 70.0, 45.0, 22.5, 42.5, 40.0, 62.5), 
  t = c("North", "N-E", "East", "S-E", "South", "S-W", "West", "N-W"), 
  name = "11-14 m/s", 
  marker = list(color = "rgb(106,81,163)"), 
  type = "area"
)
trace2 &lt;- list(
  r = c(57.5, 50.0, 45.0, 35.0, 20.0, 22.5, 37.5, 55.0), 
  t = c("North", "N-E", "East", "S-E", "South", "S-W", "West", "N-W"), 
  name = "8-11 m/s", 
  marker = list(color = "rgb(158,154,200)"), 
  type = "area"
)
trace3 &lt;- list(
  r = c(40.0, 30.0, 30.0, 35.0, 7.5, 7.5, 32.5, 40.0), 
  t = c("North", "N-E", "East", "S-E", "South", "S-W", "West", "N-W"), 
  name = "5-8 m/s", 
  marker = list(color = "rgb(203,201,226)"), 
  type = "area"
)
trace4 &lt;- list(
  r = c(20.0, 7.5, 15.0, 22.5, 2.5, 2.5, 12.5, 22.5), 
  t = c("North", "N-E", "East", "S-E", "South", "S-W", "West", "N-W"), 
  name = "&lt; 5 m/s", 
  marker = list(color = "rgb(242,240,247)"), 
  type = "area"
)
data &lt;- list(trace1, trace2, trace3, trace4)
layout &lt;- list(
  title = "Wind Speed Distribution in Laurel, NE", 
  legend = list(font = list(size = 16)), 
  font = list(size = 16), 
  orientation = 270, 
  radialaxis = list(ticksuffix = "%")
)

response &lt;- p$plotly(data, kwargs=list(layout=layout, filename="polar-area-chart", fileopt="overwrite"))
url &lt;- response$url
filename &lt;- response$filename