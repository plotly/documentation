<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name=”description” content=”Learn how to make 6 quiver charts in MATLAB, then publish them to the Web with Plotly.">
    <title>MATLAB quiver</title>
    <link rel="stylesheet" 
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" 
          integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
          crossorigin="anonymous">
    </script>
    <style>
      .mcode { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; padding: 10px; }
    </style>
  </head>
  <body>                                                           
    <div class="container" style="position:relative;">
      <a href="https://github.com/plotly/graphing-library-docs/edit/master/_posts/matlab/1A-plot-types/vector-fields/quiver.md"
         style="position:absolute; top:8px; right: 30px;">                              
        <button type="button" class="btn btn-outline-dark btn-sm">Improve this page</button>
      </a>                          
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/matlab">All MATLAB® Plot Types</a></li>
        <li class="breadcrumb-item active"><a href="/matlab/vector-fields/2021-08-23-quiver/"><code>quiver</code></a></li>
      </ol>
      <h1>MATLAB - <code>quiver</code></h1>
      <section>
        <h2>Create Quiver Plot</h2>

<blockquote>
<p>Load sample data that represents air currents over North America. For this example, select a subset of the data.</p>
</blockquote>

<pre class="mcode">
  load('wind','x','y','u','v')
X = x(11:22,11:22,1);
Y = y(11:22,11:22,1);
U = u(11:22,11:22,1);
V = v(11:22,11:22,1);
</pre>

<blockquote>
<p>Create a quiver plot of the subset you selected. The vectors <code>X</code> and <code>Y</code> represent the location of the base of each arrow, and <code>U</code> and <code>V</code> represent the directional components of each arrow. By default, the <code>quiver</code> function shortens the arrows so they do not overlap. Call <code>axis equal</code> to use equal data unit lengths along each axis. This makes the arrows point in the correct direction.</p>
</blockquote>

<pre class="mcode">
  quiver(X,Y,U,V)
axis equal
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-7200604" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-7259365" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-7200604" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/905.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-7259365" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_0_0_create_quiver_plot_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_0_0_create_quiver_plot_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Disable Automatic Scaling</h2>

<blockquote>
<p>By default, the <code>quiver</code> function shortens arrows so they do not overlap. Disable automatic scaling so that arrow lengths are determined entirely by <code>U</code> and <code>V</code> by setting the <code>scale</code> argument to <code>0</code>.</p>

<p>For instance, create a grid of <code>X</code> and <code>Y</code> values using the <code>meshgrid</code> function. Specify the directional components using these values. Then, create a quiver plot with no automatic scaling.</p>
</blockquote>

<pre class="mcode">
  [X,Y] = meshgrid(0:6,0:6);
U = 0.25*X;
V = 0.5*Y;
quiver(X,Y,U,V,0)
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-7409591" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-7438796" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-7409591" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/907.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-7438796" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_1_0_disable_automatic_scaling_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_1_0_disable_automatic_scaling_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Plot Gradient and Contours</h2>

<blockquote>
<p>Plot the gradient and contours of the function z=xe-x2-y2. Use the <code>quiver</code> function to plot the gradient and the <code>contour</code> function to plot the contours.</p>

<p>First, create a grid of <em>x-</em> and <em>y-</em>values that are equally spaced. Use them to calculate <em>z</em>. Then, find the gradient of <em>z</em> by specifying the spacing between points.</p>
</blockquote>

<pre class="mcode">
  spacing = 0.2;
[X,Y] = meshgrid(-2:spacing:2);
Z = X.*exp(-X.^2 - Y.^2);
[DX,DY] = gradient(Z,spacing);
fig2plotly()
</pre>

<blockquote>
<p>Display the gradient vectors as a quiver plot. Then, display contour lines in the same axes. Adjust the display so that the gradient vectors appear perpendicular to the contour lines by calling <code>axis equal</code>.</p>
</blockquote>

<pre class="mcode">
  quiver(X,Y,DX,DY)
hold on
contour(X,Y,Z)
axis equal
hold off
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-7549006" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-7576981" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-7549006" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/909.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-7576981" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_2_1_plot_gradient_and_contours_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_2_1_plot_gradient_and_contours_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Specify Arrow Color</h2>

<blockquote>
<p>Create a quiver plot and specify a color for the arrows.</p>
</blockquote>

<pre class="mcode">
  [X,Y] = meshgrid(-pi:pi/8:pi,-pi:pi/8:pi);
U = sin(Y);
V = cos(X);
quiver(X,Y,U,V,'r')
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-7724309" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-7753577" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-7724309" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/911.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-7753577" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_3_0_specify_arrow_color_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_3_0_specify_arrow_color_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Specify Axes for Quiver Plot</h2>

<blockquote>
<p>Create a grid of <code>X</code> and <code>Y</code> values and two sets of <code>U</code> and <code>V</code> directional components.</p>
</blockquote>

<pre class="mcode">
  [X,Y] = meshgrid(0:pi/8:pi,-pi:pi/8:pi);
U1 = sin(X);
V1 = cos(Y);
U2 = sin(Y);
V2 = cos(X); 
</pre>

<blockquote>
<p>Create a tiled layout of plots with two axes, <code>ax1</code> and <code>ax2</code>. Add a quiver plot and title to each axes. <em>(Before R2019b, use *<code>subplot</code></em> instead of <em><code>tiledlayout</code> *and</em> <code>nexttile</code><em>.)</em></p>
</blockquote>

<pre class="mcode">
  tiledlayout(1,2)

ax1 = nexttile;
quiver(ax1,X,Y,U1,V1)
axis equal
title(ax1,'Left Plot')

ax2 = nexttile;
quiver(ax2,X,Y,U2,V2)
axis equal
title(ax2,'Right Plot')
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-7861276" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-7888772" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-7861276" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/913.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-7888772" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_4_0_specify_axes_for_quiver_plot_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_4_0_specify_axes_for_quiver_plot_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Modify Quiver Plot After Creation</h2>

<blockquote>
<p>Create a quiver plot and return the quiver object. Then, remove the arrowheads and add dot markers at the base of each arrow.</p>
</blockquote>

<pre class="mcode">
  [X,Y] = meshgrid(-pi:pi/8:pi,-pi:pi/8:pi);
U = sin(Y);
V = cos(X);

q = quiver(X,Y,U,V);
q.ShowArrowHead = 'off';
q.Marker = '.';
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-7995896" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-8023402" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-7995896" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/915.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-8023402" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_5_0_modify_quiver_plot_after_creation_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/vector-fields/quiver/plot_5_0_modify_quiver_plot_after_creation_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

      </section>
      <footer>
        MATLAB® is a registered trademark of The MathWorks, Inc. Source material for this webpage is periodically updated from https://mathworks.com/help/matlab/ref/quiver.html.
      </footer>
    </div>  
  </body>
</html>
