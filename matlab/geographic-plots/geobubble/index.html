<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name=”description” content=”Learn how to make 4 geobubble charts in MATLAB, then publish them to the Web with Plotly.">
    <title>MATLAB geobubble</title>
    <link rel="stylesheet" 
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" 
          integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
          crossorigin="anonymous">
    </script>
    <style>
      .mcode { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; padding: 10px; }
    </style>
  </head>
  <body>                                                           
    <div class="container" style="position:relative;">
      <a href="https://github.com/plotly/graphing-library-docs/edit/master/_posts/matlab/1A-plot-types/geographic-plots/2021-08-29-geobubble.md"
         style="position:absolute; top:8px; right: 30px;">                              
        <button type="button" class="btn btn-outline-dark btn-sm">Improve this page</button>
      </a>                          
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/matlab">All MATLAB® Plot Types</a></li>
        <li class="breadcrumb-item active"><a href="/matlab/geographic-plots/geobubble/"><code>geobubble</code></a></li>
      </ol>
      <h1>MATLAB - <code>geobubble</code></h1>
      <section>
        <h2>Display Data from Tsunamis Table on Geographic Bubble Chart</h2>

<blockquote>
<p>Read data about tsunamis into the workspace as a table. The rows represent individual tsunami occurrences. The columns represent data about a set of variables for each tsunami, such as their locations (latitude and longitude), causes, and wave heights. </p>
</blockquote>

<pre>
  tsunamis = readtable('tsunamis.xlsx');
</pre>

<blockquote>
<p>Convert one of the table variables into a categorical variable to specify the color of the bubbles. The <code>Cause</code> variable attributes a cause to each tsunami, such as, <code>&#39;Earthquake</code>&#39;, <code>&#39;Volcano&#39;</code>, or <code>&#39;Earthquake and Landslide&#39;</code>. Convert the <code>Cause</code> variable from a cell array of character vectors into a categorical variable.</p>
</blockquote>

<pre>
  tsunamis.Cause = categorical(tsunamis.Cause);
</pre>

<blockquote>
<p>Create a geographic bubble chart, plotting the locations of the tsunamis on a map. Specify the names of the table variables that hold location information: <code>Latitude</code> and <code>Longitude</code>. Use the <code>MaxHeight</code> table variable to specify the size of the bubbles. The example uses the <code>Cause</code> variable, converted earlier into a categorical variable, to specify the color of the bubbles.</p>
</blockquote>

<pre class="mcode">
  geobubble(tsunamis,<span style='color:#A020F0'>'Latitude'</span>,<span style='color:#A020F0'>'Longitude'</span>, ...
    <span style='color:#A020F0'>'SizeVariable'</span>,<span style='color:#A020F0'>'MaxHeight'</span>,<span style='color:#A020F0'>'ColorVariable'</span>,<span style='color:#A020F0'>'Cause'</span>)
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-2485413" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-2584401" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-2485413" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/977.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-2584401" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_0_0_display_data_from_tsunamis_table_on_geographic_bubb_invalid_0.0005_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_0_0_display_data_from_tsunamis_table_on_geographic_bubb_invalid_0.0005_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Display Tsunami Data Using Bubble Size to Indicate Tsunami Size</h2>

<blockquote>
<p>Read data about tsunamis into the workspace as a table. The rows represent individual tsunami occurrences. The columns represent data about a set of variables for each tsunami, such as their locations (latitude and longitude), causes, and wave heights. </p>
</blockquote>

<pre>
  tsunamis = readtable('tsunamis.xlsx');
</pre>

<blockquote>
<p>Create a geographic bubble chart, plotting the locations of the tsunamis on a map. Use the data from the <code>MaxHeight</code> variable to specify the size of the bubble. In this example, you pass the data directly to <code>geobubble</code>. Alternatively, you can also pass <code>geobubble</code> the name of the table and then specify the data by table variable names.</p>
</blockquote>

<pre class="mcode">
  geobubble(tsunamis.Latitude,tsunamis.Longitude,tsunamis.MaxHeight)
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-2875146" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-2928063" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-2875146" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/977.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-2928063" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_1_0_display_tsunami_data_using_bubble_size_to_indicate__invalid_0.0005_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_1_0_display_tsunami_data_using_bubble_size_to_indicate__invalid_0.0005_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Display Tsunami Data Using Bubble Color to Indicate Tsunami Cause</h2>

<blockquote>
<p>Read data about tsunamis into the workspace as a table. The rows represent individual tsunami occurrences. The columns represent data about each occurrence, such as the cause of each tsunami. </p>
</blockquote>

<pre>
  tsunamis = readtable('tsunamis.xlsx');
</pre>

<blockquote>
<p>Create a categorical variable because the data that controls the color of the bubbles must be a categorical variable. The tsunami table variable <code>Cause</code> already categorizes the tsunamis by seven criteria: Earthquake, Earthquake and Landslide, Volcano, Volcano and Landslide, Landslide, Meteorological, and Unknown Cause. Put the <code>Cause</code> variable data into a categorical variable.</p>
</blockquote>

<pre>
  cause = categorical(tsunamis.Cause);
</pre>

<blockquote>
<p>Create a geographic bubble chart, plotting the locations of the tsunamis on a map. Use bubble size to indicate the size of the wave, and use bubble color to indicate the cause. When you pass in the data, rather than specifying the names of table variables that contain the data, <code>geobubble</code> does not automatically add titles to the size and color legends. </p>
</blockquote>

<pre class="mcode">
  geobubble(tsunamis.Latitude,tsunamis.Longitude,tsunamis.MaxHeight,cause)
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-3131698" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-3181488" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-3131698" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/977.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-3181488" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_2_0_display_tsunami_data_using_bubble_color_to_indicate_invalid_0.0005_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_2_0_display_tsunami_data_using_bubble_color_to_indicate_invalid_0.0005_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

<h2>Add Legend Titles Using Geographic Bubble Chart Properties</h2>

<blockquote>
<p>Read data about tsunamis into the workspace as a table. The rows represent individual tsunami occurrences. The columns represent data about a set of variables for each tsunami, such as its location (latitude and longitude), cause, and maximum height of the wave.</p>
</blockquote>

<pre>
  tsunamis = readtable('tsunamis.xlsx');
</pre>

<blockquote>
<p>Turn one of the table variables into a categorical variable to specify the color of the bubbles. The <code>Cause</code> variable attributes a cause to each tsunami, such as, <code>&#39;Earthquake&#39;</code>, <code>&#39;Volcano&#39;</code>, or <code>&#39;Earthquake and Landslide&#39;</code>. Convert the <code>Cause</code> variable from a cell array of character vectors into a categorical variable.</p>
</blockquote>

<pre>
  colordata = categorical(tsunamis.Cause);
</pre>

<blockquote>
<p>Create a geographic bubble chart, plotting the locations of the tsunamis on a map. Use bubble size to indicate the size of the wave, and use bubble color to indicate the cause of the tsunami. Add a title using a name-value pair.</p>
</blockquote>

<pre>
  gb = geobubble(tsunamis.Latitude,tsunamis.Longitude,tsunamis.MaxHeight,colordata,<span style='color:#A020F0'>'Title'</span>,<span style='color:#A020F0'>'Tsunamis'</span>);
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-3386311" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-3447647" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-3386311" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/977.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-3447647" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_3_0_add_legend_titles_using_geographic_bubble_chart_pro_invalid_0.0000_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_3_0_add_legend_titles_using_geographic_bubble_chart_pro_invalid_0.0000_montage.png">
  </div>
</div>

<blockquote>
<p>Use properties of the geographic bubble chart to modify the chart. For example, add titles to the size and color legends. (If you specify the table as an argument, <code>geobubble</code> adds legend titles automatically, using the names of table variables.)</p>
</blockquote>

<pre class="mcode">
  gb.SizeLegendTitle = 'Max Height';
gb.ColorLegendTitle = <span style='color:#A020F0'>'Cause'</span>;
fig2plotly()
</pre>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="plot-tab" data-bs-toggle="tab" data-bs-target="#plot-3641163" type="button" role="tab" aria-controls="plot" aria-selected="true">Plot</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="ssim-tab" data-bs-toggle="tab" data-bs-target="#ssim-3712752" type="button" role="tab" aria-controls="ssim" aria-selected="false">SSIM</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="plot-3641163" role="tabpanel" aria-labelledby="plot-tab">
    <iframe 
      scrolling="no" 
      margin="none" 
      padding="none" 
      seamless=seamless 
      height="650" 
      frameBorder="0"
      style="border:0"
      src="https://chart-studio.plotly.com/~danton267/977.embed" 
      width="800">
    </iframe>    
  </div>
  <div class="tab-pane fade" id="ssim-3712752" role="tabpanel" aria-labelledby="ssim-tab">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_3_1_add_legend_titles_using_geographic_bubble_chart_pro_invalid_0.0000_ssim_map.png">
    <img src="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_matlab/matlab/code-examples/geographic-plots/geobubble/plot_3_1_add_legend_titles_using_geographic_bubble_chart_pro_invalid_0.0000_montage.png">
  </div>
</div>

<!--------------------- EXAMPLE BREAK ------------------------->

      </section>
      <footer>
        MATLAB® is a registered trademark of The MathWorks, Inc. Source material for this webpage is periodically updated from https://mathworks.com/help/matlab/ref/geobubble.html.
      </footer>
    </div>  
  </body>
</html>
